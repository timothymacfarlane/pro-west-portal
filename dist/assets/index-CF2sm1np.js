function Hw(r,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in r)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(r,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var O8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function $w(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var s=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return r[a]}})}),n}var qp={exports:{}},gh={};var Qg;function Gw(){if(Qg)return gh;Qg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:r,type:a,key:u,ref:s!==void 0?s:null,props:l}}return gh.Fragment=e,gh.jsx=n,gh.jsxs=n,gh}var e2;function Vw(){return e2||(e2=1,qp.exports=Gw()),qp.exports}var v=Vw(),Fp={exports:{}},Wt={};var t2;function Ww(){if(t2)return Wt;t2=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),A=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function L(M,j,z){this.props=M,this.context=j,this.refs=T,this.updater=z||k}L.prototype.isReactComponent={},L.prototype.setState=function(M,j){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,j,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=L.prototype;function U(M,j,z){this.props=M,this.context=j,this.refs=T,this.updater=z||k}var F=U.prototype=new D;F.constructor=U,N(F,L.prototype),F.isPureReactComponent=!0;var ae=Array.isArray;function ye(){}var ce={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function W(M,j,z){var H=z.ref;return{$$typeof:r,type:M,key:j,ref:H!==void 0?H:null,props:z}}function be(M,j){return W(M.type,j,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var j={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(z){return j[z]})}var ie=/\/+/g;function re(M,j){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):j.toString(36)}function Ce(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ye,ye):(M.status="pending",M.then(function(j){M.status==="pending"&&(M.status="fulfilled",M.value=j)},function(j){M.status==="pending"&&(M.status="rejected",M.reason=j)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,j,z,H,te){var ne=typeof M;(ne==="undefined"||ne==="boolean")&&(M=null);var ee=!1;if(M===null)ee=!0;else switch(ne){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(M.$$typeof){case r:case e:ee=!0;break;case y:return ee=M._init,Q(ee(M._payload),j,z,H,te)}}if(ee)return te=te(M),ee=H===""?"."+re(M,0):H,ae(te)?(z="",ee!=null&&(z=ee.replace(ie,"$&/")+"/"),Q(te,j,z,"",function(le){return le})):te!=null&&(I(te)&&(te=be(te,z+(te.key==null||M&&M.key===te.key?"":(""+te.key).replace(ie,"$&/")+"/")+ee)),j.push(te)),1;ee=0;var oe=H===""?".":H+":";if(ae(M))for(var me=0;me<M.length;me++)H=M[me],ne=oe+re(H,me),ee+=Q(H,j,z,ne,te);else if(me=w(M),typeof me=="function")for(M=me.call(M),me=0;!(H=M.next()).done;)H=H.value,ne=oe+re(H,me++),ee+=Q(H,j,z,ne,te);else if(ne==="object"){if(typeof M.then=="function")return Q(Ce(M),j,z,H,te);throw j=String(M),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ee}function he(M,j,z){if(M==null)return M;var H=[],te=0;return Q(M,H,"","",function(ne){return j.call(z,ne,te++)}),H}function de(M){if(M._status===-1){var j=M._result;j=j(),j.then(function(z){(M._status===0||M._status===-1)&&(M._status=1,M._result=z)},function(z){(M._status===0||M._status===-1)&&(M._status=2,M._result=z)}),M._status===-1&&(M._status=0,M._result=j)}if(M._status===1)return M._result.default;throw M._result}var ke=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Se={map:he,forEach:function(M,j,z){he(M,function(){j.apply(this,arguments)},z)},count:function(M){var j=0;return he(M,function(){j++}),j},toArray:function(M){return he(M,function(j){return j})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Wt.Activity=_,Wt.Children=Se,Wt.Component=L,Wt.Fragment=n,Wt.Profiler=s,Wt.PureComponent=U,Wt.StrictMode=a,Wt.Suspense=f,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ce.H.useMemoCache(M)}},Wt.cache=function(M){return function(){return M.apply(null,arguments)}},Wt.cacheSignal=function(){return null},Wt.cloneElement=function(M,j,z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var H=N({},M.props),te=M.key;if(j!=null)for(ne in j.key!==void 0&&(te=""+j.key),j)!se.call(j,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&j.ref===void 0||(H[ne]=j[ne]);var ne=arguments.length-2;if(ne===1)H.children=z;else if(1<ne){for(var ee=Array(ne),oe=0;oe<ne;oe++)ee[oe]=arguments[oe+2];H.children=ee}return W(M.type,te,H)},Wt.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Wt.createElement=function(M,j,z){var H,te={},ne=null;if(j!=null)for(H in j.key!==void 0&&(ne=""+j.key),j)se.call(j,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(te[H]=j[H]);var ee=arguments.length-2;if(ee===1)te.children=z;else if(1<ee){for(var oe=Array(ee),me=0;me<ee;me++)oe[me]=arguments[me+2];te.children=oe}if(M&&M.defaultProps)for(H in ee=M.defaultProps,ee)te[H]===void 0&&(te[H]=ee[H]);return W(M,ne,te)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(M){return{$$typeof:h,render:M}},Wt.isValidElement=I,Wt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:de}},Wt.memo=function(M,j){return{$$typeof:p,type:M,compare:j===void 0?null:j}},Wt.startTransition=function(M){var j=ce.T,z={};ce.T=z;try{var H=M(),te=ce.S;te!==null&&te(z,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ye,ke)}catch(ne){ke(ne)}finally{j!==null&&z.types!==null&&(j.types=z.types),ce.T=j}},Wt.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Wt.use=function(M){return ce.H.use(M)},Wt.useActionState=function(M,j,z){return ce.H.useActionState(M,j,z)},Wt.useCallback=function(M,j){return ce.H.useCallback(M,j)},Wt.useContext=function(M){return ce.H.useContext(M)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(M,j){return ce.H.useDeferredValue(M,j)},Wt.useEffect=function(M,j){return ce.H.useEffect(M,j)},Wt.useEffectEvent=function(M){return ce.H.useEffectEvent(M)},Wt.useId=function(){return ce.H.useId()},Wt.useImperativeHandle=function(M,j,z){return ce.H.useImperativeHandle(M,j,z)},Wt.useInsertionEffect=function(M,j){return ce.H.useInsertionEffect(M,j)},Wt.useLayoutEffect=function(M,j){return ce.H.useLayoutEffect(M,j)},Wt.useMemo=function(M,j){return ce.H.useMemo(M,j)},Wt.useOptimistic=function(M,j){return ce.H.useOptimistic(M,j)},Wt.useReducer=function(M,j,z){return ce.H.useReducer(M,j,z)},Wt.useRef=function(M){return ce.H.useRef(M)},Wt.useState=function(M){return ce.H.useState(M)},Wt.useSyncExternalStore=function(M,j,z){return ce.H.useSyncExternalStore(M,j,z)},Wt.useTransition=function(){return ce.H.useTransition()},Wt.version="19.2.0",Wt}var n2;function fm(){return n2||(n2=1,Fp.exports=Ww()),Fp.exports}var K=fm();const Yw=hm(K);var Hp={exports:{}},vh={},$p={exports:{}},Gp={};var r2;function Kw(){return r2||(r2=1,(function(r){function e(Q,he){var de=Q.length;Q.push(he);e:for(;0<de;){var ke=de-1>>>1,Se=Q[ke];if(0<s(Se,he))Q[ke]=he,Q[de]=Se,de=ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var he=Q[0],de=Q.pop();if(de!==he){Q[0]=de;e:for(var ke=0,Se=Q.length,M=Se>>>1;ke<M;){var j=2*(ke+1)-1,z=Q[j],H=j+1,te=Q[H];if(0>s(z,de))H<Se&&0>s(te,z)?(Q[ke]=te,Q[H]=de,ke=H):(Q[ke]=z,Q[j]=de,ke=j);else if(H<Se&&0>s(te,de))Q[ke]=te,Q[H]=de,ke=H;else break e}}return he}function s(Q,he){var de=Q.sortIndex-he.sortIndex;return de!==0?de:Q.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,_=null,A=3,w=!1,k=!1,N=!1,T=!1,L=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function F(Q){for(var he=n(p);he!==null;){if(he.callback===null)a(p);else if(he.startTime<=Q)a(p),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(p)}}function ae(Q){if(N=!1,F(Q),!k)if(n(f)!==null)k=!0,ye||(ye=!0,V());else{var he=n(p);he!==null&&Ce(ae,he.startTime-Q)}}var ye=!1,ce=-1,se=5,W=-1;function be(){return T?!0:!(r.unstable_now()-W<se)}function I(){if(T=!1,ye){var Q=r.unstable_now();W=Q;var he=!0;try{e:{k=!1,N&&(N=!1,D(ce),ce=-1),w=!0;var de=A;try{t:{for(F(Q),_=n(f);_!==null&&!(_.expirationTime>Q&&be());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,A=_.priorityLevel;var Se=ke(_.expirationTime<=Q);if(Q=r.unstable_now(),typeof Se=="function"){_.callback=Se,F(Q),he=!0;break t}_===n(f)&&a(f),F(Q)}else a(f);_=n(f)}if(_!==null)he=!0;else{var M=n(p);M!==null&&Ce(ae,M.startTime-Q),he=!1}}break e}finally{_=null,A=de,w=!1}he=void 0}}finally{he?V():ye=!1}}}var V;if(typeof U=="function")V=function(){U(I)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,re=ie.port2;ie.port1.onmessage=I,V=function(){re.postMessage(null)}}else V=function(){L(I,0)};function Ce(Q,he){ce=L(function(){Q(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var he=3;break;default:he=A}var de=A;A=he;try{return Q()}finally{A=de}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(Q,he){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=A;A=Q;try{return he()}finally{A=de}},r.unstable_scheduleCallback=function(Q,he,de){var ke=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,Q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=de+Se,Q={id:y++,callback:he,priorityLevel:Q,startTime:de,expirationTime:Se,sortIndex:-1},de>ke?(Q.sortIndex=de,e(p,Q),n(f)===null&&Q===n(p)&&(N?(D(ce),ce=-1):N=!0,Ce(ae,de-ke))):(Q.sortIndex=Se,e(f,Q),k||w||(k=!0,ye||(ye=!0,V()))),Q},r.unstable_shouldYield=be,r.unstable_wrapCallback=function(Q){var he=A;return function(){var de=A;A=he;try{return Q.apply(this,arguments)}finally{A=de}}}})(Gp)),Gp}var i2;function Jw(){return i2||(i2=1,$p.exports=Kw()),$p.exports}var Vp={exports:{}},ci={};var a2;function Xw(){if(a2)return ci;a2=1;var r=fm();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ci.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},ci.flushSync=function(f){var p=u.T,y=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=p,a.p=y,a.d.f()}},ci.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},ci.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ci.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:w}):y==="script"&&a.d.X(f,{crossOrigin:_,integrity:A,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ci.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},ci.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);a.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ci.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},ci.requestFormReset=function(f){a.d.r(f)},ci.unstable_batchedUpdates=function(f,p){return f(p)},ci.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},ci.useFormStatus=function(){return u.H.useHostTransitionStatus()},ci.version="19.2.0",ci}var s2;function Zw(){if(s2)return Vp.exports;s2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vp.exports=Xw(),Vp.exports}var o2;function Qw(){if(o2)return vh;o2=1;var r=Jw(),e=fm(),n=Zw();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(l(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,c=i;;){var m=o.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===o)return f(m),t;if(b===c)return f(m),i;b=b.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=b;else{for(var C=!1,q=m.child;q;){if(q===o){C=!0,o=m,c=b;break}if(q===c){C=!0,c=m,o=b;break}q=q.sibling}if(!C){for(q=b.child;q;){if(q===o){C=!0,o=b,c=m;break}if(q===c){C=!0,c=b,o=m;break}q=q.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ie?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case L:return"Profiler";case T:return"StrictMode";case ae:return"Suspense";case ye:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case U:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case F:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ce:return i=t.displayName||null,i!==null?i:re(t.type)||"Memo";case se:i=t._payload,t=t._init;try{return re(t(i))}catch{}}return null}var Ce=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],Se=-1;function M(t){return{current:t}}function j(t){0>Se||(t.current=ke[Se],ke[Se]=null,Se--)}function z(t,i){Se++,ke[Se]=t.current,t.current=i}var H=M(null),te=M(null),ne=M(null),ee=M(null);function oe(t,i){switch(z(ne,i),z(te,t),z(H,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xg(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xg(i),t=Sg(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(H),z(H,t)}function me(){j(H),j(te),j(ne)}function le(t){t.memoizedState!==null&&z(ee,t);var i=H.current,o=Sg(i,t.type);i!==o&&(z(te,t),z(H,o))}function _e(t){te.current===t&&(j(H),j(te)),ee.current===t&&(j(ee),fh._currentValue=de)}var Ue,ze;function xe(t){if(Ue===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ue=i&&i[1]||"",ze=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+t+ze}var Y=!1;function wt(t,i){if(!t||Y)return"";Y=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Be){var Pe=Be}Reflect.construct(t,[],Ke)}else{try{Ke.call()}catch(Be){Pe=Be}t.call(Ke.prototype)}}else{try{throw Error()}catch(Be){Pe=Be}(Ke=t())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Be){if(Be&&Pe&&typeof Be.stack=="string")return[Be.stack,Pe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),C=b[0],q=b[1];if(C&&q){var ue=C.split(`
`),De=q.split(`
`);for(m=c=0;c<ue.length&&!ue[c].includes("DetermineComponentFrameRoot");)c++;for(;m<De.length&&!De[m].includes("DetermineComponentFrameRoot");)m++;if(c===ue.length||m===De.length)for(c=ue.length-1,m=De.length-1;1<=c&&0<=m&&ue[c]!==De[m];)m--;for(;1<=c&&0<=m;c--,m--)if(ue[c]!==De[m]){if(c!==1||m!==1)do if(c--,m--,0>m||ue[c]!==De[m]){var He=`
`+ue[c].replace(" at new "," at ");return t.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",t.displayName)),He}while(1<=c&&0<=m);break}}}finally{Y=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?xe(o):""}function lt(t,i){switch(t.tag){case 26:case 27:case 5:return xe(t.type);case 16:return xe("Lazy");case 13:return t.child!==i&&i!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return wt(t.type,!1);case 11:return wt(t.type.render,!1);case 1:return wt(t.type,!0);case 31:return xe("Activity");default:return""}}function we(t){try{var i="",o=null;do i+=lt(t,o),o=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var je=Object.prototype.hasOwnProperty,Ye=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,nt=r.unstable_shouldYield,et=r.unstable_requestPaint,ut=r.unstable_now,_t=r.unstable_getCurrentPriorityLevel,at=r.unstable_ImmediatePriority,Ut=r.unstable_UserBlockingPriority,xt=r.unstable_NormalPriority,dt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,mt=r.log,Fe=r.unstable_setDisableYieldValue,Ee=null,Oe=null;function Xe(t){if(typeof mt=="function"&&Fe(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ee,t)}catch{}}var tt=Math.clz32?Math.clz32:ct,st=Math.log,St=Math.LN2;function ct(t){return t>>>=0,t===0?32:31-(st(t)/St|0)|0}var Tt=256,sn=262144,It=4194304;function it(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mt(t,i,o){var c=t.pendingLanes;if(c===0)return 0;var m=0,b=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var q=c&134217727;return q!==0?(c=q&~b,c!==0?m=it(c):(C&=q,C!==0?m=it(C):o||(o=q&~t,o!==0&&(m=it(o))))):(q=c&~b,q!==0?m=it(q):C!==0?m=it(C):o||(o=c&~t,o!==0&&(m=it(o)))),m===0?0:i!==0&&i!==m&&(i&b)===0&&(b=m&-m,o=i&-i,b>=o||b===32&&(o&4194048)!==0)?i:m}function zt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function nn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function un(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function xn(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function jt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xi(t,i,o,c,m,b){var C=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var q=t.entanglements,ue=t.expirationTimes,De=t.hiddenUpdates;for(o=C&~o;0<o;){var He=31-tt(o),Ke=1<<He;q[He]=0,ue[He]=-1;var Pe=De[He];if(Pe!==null)for(De[He]=null,He=0;He<Pe.length;He++){var Be=Pe[He];Be!==null&&(Be.lane&=-536870913)}o&=~Ke}c!==0&&ya(t,c,0),b!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=b&~(C&~i))}function ya(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-tt(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function gi(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var c=31-tt(o),m=1<<c;m&i|t[c]&i&&(t[c]|=i),o&=~m}}function vi(t,i){var o=i&-i;return o=(o&42)!==0?1:In(o),(o&(t.suspendedLanes|i))!==0?0:o}function In(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ur(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ar(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:Vg(t.type))}function bs(t,i){var o=he.p;try{return he.p=t,i()}finally{he.p=o}}var Xr=Math.random().toString(36).slice(2),An="__reactFiber$"+Xr,qn="__reactProps$"+Xr,qr="__reactContainer$"+Xr,yi="__reactEvents$"+Xr,Ci="__reactListeners$"+Xr,Ys="__reactHandles$"+Xr,Zi="__reactResources$"+Xr,Qi="__reactMarker$"+Xr;function ws(t){delete t[An],delete t[qn],delete t[yi],delete t[Ci],delete t[Ys]}function ea(t){var i=t[An];if(i)return i;for(var o=t.parentNode;o;){if(i=o[qr]||o[An]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Cg(t);t!==null;){if(o=t[An])return o;t=Cg(t)}return i}t=o,o=t.parentNode}return null}function ta(t){if(t=t[An]||t[qr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ks(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ba(t){var i=t[Zi];return i||(i=t[Zi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function tr(t){t[Qi]=!0}var Al=new Set,bi={};function na(t,i){za(t,i),za(t+"Capture",i)}function za(t,i){for(bi[t]=i,t=0;t<i.length;t++)Al.add(i[t])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},jl={};function bu(t){return je.call(jl,t)?!0:je.call(El,t)?!1:Nl.test(t)?jl[t]=!0:(El[t]=!0,!1)}function qa(t,i,o){if(bu(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Oo(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Sn(t,i,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+c)}}function Zr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kl(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fa(t,i,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(C){o=""+C,b.call(this,C)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ha(t){if(!t._valueTracker){var i=kl(t)?"checked":"value";t._valueTracker=Fa(t,i,""+t[i])}}function Ti(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return t&&(c=kl(t)?t.checked?"true":"false":t.value),t=c,t!==o?(i.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nr=/[\n"\\]/g;function Fr(t){return t.replace(nr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ll(t,i,o,c,m,b,C,q){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zr(i)):t.value!==""+Zr(i)&&(t.value=""+Zr(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?Cl(t,C,Zr(i)):o!=null?Cl(t,C,Zr(o)):c!=null&&t.removeAttribute("value"),m==null&&b!=null&&(t.defaultChecked=!!b),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?t.name=""+Zr(q):t.removeAttribute("name")}function wu(t,i,o,c,m,b,C,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),i!=null||o!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){Ha(t);return}o=o!=null?""+Zr(o):"",i=i!=null?""+Zr(i):o,q||i===t.value||(t.value=i),t.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=q?t.checked:!!c,t.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),Ha(t)}function Cl(t,i,o){i==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function Qr(t,i,o,c){if(t=t.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=i.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Zr(o),i=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function Tl(t,i,o){if(i!=null&&(i=""+Zr(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+Zr(o):""}function Ol(t,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ce(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Zr(i),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),Ha(t)}function wi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Rl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _u(t,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,o):typeof o!="number"||o===0||Rl.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function xu(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&_u(t,m,c)}else for(var b in i)i.hasOwnProperty(b)&&_u(t,b,i[b])}function Ml(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Js=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return Js.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ia(){}var $a=null;function Xs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dt=null,_s=null;function Su(t){var i=ta(t);if(i&&(t=i.stateNode)){var o=t[qn]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ll(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==t&&c.form===t.form){var m=c[qn]||null;if(!m)throw Error(a(90));Ll(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===t.form&&Ti(c)}break e;case"textarea":Tl(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Qr(t,!!o.multiple,i,!1)}}}var Pl=!1;function Au(t,i,o){if(Pl)return t(i,o);Pl=!0;try{var c=t(i);return c}finally{if(Pl=!1,(Dt!==null||_s!==null)&&(hf(),Dt&&(i=Dt,t=_s,_s=Dt=null,Su(i),t)))for(i=0;i<t.length;i++)Su(t[i])}}function _i(t,i){var o=t.stateNode;if(o===null)return null;var c=o[qn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(Cr)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Ul=!1}var xi=null,Qs=null,_a=null;function eo(){if(_a)return _a;var t,i=Qs,o=i.length,c,m="value"in xi?xi.value:xi.textContent,b=m.length;for(t=0;t<o&&i[t]===m[t];t++);var C=o-t;for(c=1;c<=C&&i[o-c]===m[b-c];c++);return _a=m.slice(t,1<c?1-c:void 0)}function Ga(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ro(){return!0}function Mo(){return!1}function Nr(t){function i(o,c,m,b,C){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var q in t)t.hasOwnProperty(q)&&(o=t[q],this[q]=o?o(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ro:Mo,this.isPropagationStopped=Mo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Nr(Si),Va=_({},Si,{view:0,detail:0}),Do=Nr(Va),to,Wa,xs,no=_({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(to=t.screenX-xs.screenX,Wa=t.screenY-xs.screenY):Wa=to=0,xs=t),to)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),Sa=Nr(no),Ya=_({},no,{dataTransfer:0}),Nu=Nr(Ya),Eu=_({},Va,{relatedTarget:0}),Ka=Nr(Eu),ju=_({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Nr(ju),O=_({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z=Nr(O),fe=_({},Si,{data:0}),Ae=Nr(fe),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ze={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=gt[t])?!!i[t]:!1}function qt(){return At}var Gt=_({},Va,{key:function(t){if(t.key){var i=$e[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ze[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qt,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pn=Nr(Gt),Fn=_({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Nr(Fn),Ln=_({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qt}),yr=Nr(Ln),cr=_({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tr=Nr(cr),Oi=_({},no,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oi=Nr(Oi),ku=_({},Si,{newState:0,oldState:0}),Po=Nr(ku),ro=[9,13,27,32],Aa=Cr&&"CompositionEvent"in window,aa=null;Cr&&"documentMode"in document&&(aa=document.documentMode);var io=Cr&&"TextEvent"in window&&!aa,Ss=Cr&&(!Aa||aa&&8<aa&&11>=aa),Or=" ",As=!1;function Ns(t,i){switch(t){case"keyup":return ro.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function Yn(t,i){switch(t){case"compositionend":return Uo(i);case"keypress":return i.which!==32?null:(As=!0,Or);case"textInput":return t=i.data,t===Or&&As?null:t;default:return null}}function Ja(t,i){if(Na)return t==="compositionend"||!Aa&&Ns(t,i)?(t=eo(),_a=Qs=xi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ss&&i.locale!=="ko"?null:i.data;default:return null}}var Bo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Bo[t.type]:i==="textarea"}function Ai(t,i,o,c){Dt?_s?_s.push(c):_s=[c]:Dt=c,i=yf(i,"onChange"),0<i.length&&(o=new xa("onChange","change",null,o,c),t.push({event:o,listeners:i}))}var sa=null,Xa=null;function Il(t){gg(t,0)}function oa(t){var i=Ks(t);if(Ti(i))return t}function Es(t,i){if(t==="change")return i}var li=!1;if(Cr){var ei;if(Cr){var Ea="oninput"in document;if(!Ea){var ja=document.createElement("div");ja.setAttribute("oninput","return;"),Ea=typeof ja.oninput=="function"}ei=Ea}else ei=!1;li=ei&&(!document.documentMode||9<document.documentMode)}function Za(){sa&&(sa.detachEvent("onpropertychange",Io),Xa=sa=null)}function Io(t){if(t.propertyName==="value"&&oa(Xa)){var i=[];Ai(i,Xa,t,Xs(t)),Au(Il,i)}}function zo(t,i,o){t==="focusin"?(Za(),sa=i,Xa=o,sa.attachEvent("onpropertychange",Io)):t==="focusout"&&Za()}function ir(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oa(Xa)}function Lu(t,i){if(t==="click")return oa(i)}function ka(t,i){if(t==="input"||t==="change")return oa(i)}function La(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rr=typeof Object.is=="function"?Object.is:La;function Qa(t,i){if(Rr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!je.call(i,m)||!Rr(t[m],i[m]))return!1}return!0}function qo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fo(t,i){var o=qo(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=i&&c>=i)return{node:o,offset:i-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qo(o)}}function es(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?es(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ts(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wa(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=wa(t.document)}return i}function Ca(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ao=Cr&&"documentMode"in document&&11>=document.documentMode,Ni=null,ns=null,Hr=null,Ri=!1;function mn(t,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ri||Ni==null||Ni!==wa(c)||(c=Ni,"selectionStart"in c&&Ca(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hr&&Qa(Hr,c)||(Hr=c,c=yf(ns,"onSelect"),0<c.length&&(i=new xa("onSelect","select",null,i,o),t.push({event:i,listeners:c}),i.target=Ni)))}function on(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Cn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},ar={},Ta={};Cr&&(Ta=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function la(t){if(ar[t])return ar[t];if(!Cn[t])return t;var i=Cn[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ta)return ar[t]=i[o];return t}var so=la("animationend"),zl=la("animationiteration"),Dc=la("animationstart"),zh=la("transitionrun"),qh=la("transitionstart"),Fh=la("transitioncancel"),Pc=la("transitionend"),Uc=new Map,oo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oo.push("scrollEnd");function Mi(t,i){Uc.set(t,i),na(i,[t])}var ql=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ei=[],lo=0,Cu=0;function Fl(){for(var t=lo,i=Cu=lo=0;i<t;){var o=Ei[i];Ei[i++]=null;var c=Ei[i];Ei[i++]=null;var m=Ei[i];Ei[i++]=null;var b=Ei[i];if(Ei[i++]=null,c!==null&&m!==null){var C=c.pending;C===null?m.next=m:(m.next=C.next,C.next=m),c.pending=m}b!==0&&$l(o,m,b)}}function Hl(t,i,o,c){Ei[lo++]=t,Ei[lo++]=i,Ei[lo++]=o,Ei[lo++]=c,Cu|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Tu(t,i,o,c){return Hl(t,i,o,c),$r(t)}function rs(t,i){return Hl(t,null,null,i),$r(t)}function $l(t,i,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var m=!1,b=t.return;b!==null;)b.childLanes|=o,c=b.alternate,c!==null&&(c.childLanes|=o),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(m=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,m&&i!==null&&(m=31-tt(o),t=b.hiddenUpdates,c=t[m],c===null?t[m]=[i]:c.push(i),i.lane=o|536870912),b):null}function $r(t){if(50<ah)throw ah=0,hp=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Mr={};function Ou(t,i,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,i,o,c){return new Ou(t,i,o,c)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,i){var o=t.alternate;return o===null?(o=Gr(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Gl(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ho(t,i,o,c,m,b){var C=0;if(c=t,typeof t=="function")Ru(t)&&(C=1);else if(typeof t=="string")C=Tw(t,o,H.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case W:return t=Gr(31,o,i,m),t.elementType=W,t.lanes=b,t;case N:return js(o.children,m,b,i);case T:C=8,m|=24;break;case L:return t=Gr(12,o,i,m|2),t.elementType=L,t.lanes=b,t;case ae:return t=Gr(13,o,i,m),t.elementType=ae,t.lanes=b,t;case ye:return t=Gr(19,o,i,m),t.elementType=ye,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:C=10;break e;case D:C=9;break e;case F:C=11;break e;case ce:C=14;break e;case se:C=16,c=null;break e}C=29,o=Error(a(130,t===null?"null":typeof t,"")),c=null}return i=Gr(C,o,i,m),i.elementType=t,i.type=c,i.lanes=b,i}function js(t,i,o,c){return t=Gr(7,t,c,i),t.lanes=o,t}function Vl(t,i,o){return t=Gr(6,t,null,i),t.lanes=o,t}function Mu(t){var i=Gr(18,null,null,0);return i.stateNode=t,i}function $o(t,i,o){return i=Gr(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Du=new WeakMap;function Pi(t,i){if(typeof t=="object"&&t!==null){var o=Du.get(t);return o!==void 0?o:(i={value:t,source:i,stack:we(i)},Du.set(t,i),i)}return{value:t,source:i,stack:we(i)}}var Go=[],uo=0,Pu=null,Wl=0,Ui=[],Bi=0,ks=null,Ii=1,zi="";function ji(t,i){Go[uo++]=Wl,Go[uo++]=Pu,Pu=t,Wl=i}function Hh(t,i,o){Ui[Bi++]=Ii,Ui[Bi++]=zi,Ui[Bi++]=ks,ks=t;var c=Ii;t=zi;var m=32-tt(c)-1;c&=~(1<<m),o+=1;var b=32-tt(i)+m;if(30<b){var C=m-m%5;b=(c&(1<<C)-1).toString(32),c>>=C,m-=C,Ii=1<<32-tt(i)+m|o<<m|c,zi=b+t}else Ii=1<<b|o<<m|c,zi=t}function Bc(t){t.return!==null&&(ji(t,1),Hh(t,1,0))}function Uu(t){for(;t===Pu;)Pu=Go[--uo],Go[uo]=null,Wl=Go[--uo],Go[uo]=null;for(;t===ks;)ks=Ui[--Bi],Ui[Bi]=null,zi=Ui[--Bi],Ui[Bi]=null,Ii=Ui[--Bi],Ui[Bi]=null}function $h(t,i){Ui[Bi++]=Ii,Ui[Bi++]=zi,Ui[Bi++]=ks,Ii=i.id,zi=i.overflow,ks=t}var Dr=null,Dn=null,Qt=!1,ti=null,Kn=!1,ua=Error(a(519));function Ls(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Pi(i,t)),ua}function Ic(t){var i=t.stateNode,o=t.type,c=t.memoizedProps;switch(i[An]=t,i[qn]=c,o){case"dialog":tn("cancel",i),tn("close",i);break;case"iframe":case"object":case"embed":tn("load",i);break;case"video":case"audio":for(o=0;o<oh.length;o++)tn(oh[o],i);break;case"source":tn("error",i);break;case"img":case"image":case"link":tn("error",i),tn("load",i);break;case"details":tn("toggle",i);break;case"input":tn("invalid",i),wu(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":tn("invalid",i);break;case"textarea":tn("invalid",i),Ol(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||wg(i.textContent,o)?(c.popover!=null&&(tn("beforetoggle",i),tn("toggle",i)),c.onScroll!=null&&tn("scroll",i),c.onScrollEnd!=null&&tn("scrollend",i),c.onClick!=null&&(i.onclick=ia),i=!0):i=!1,i||Ls(t,!0)}function is(t){for(Dr=t.return;Dr;)switch(Dr.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Dr=Dr.return}}function Pr(t){if(t!==Dr)return!1;if(!Qt)return is(t),Qt=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Ep(t.type,t.memoizedProps)),o=!o),o&&Dn&&Ls(t),is(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Dn=Lg(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Dn=Lg(t)}else i===27?(i=Dn,sl(t.type)?(t=Tp,Tp=null,Dn=t):Dn=i):Dn=Dr?Da(t.stateNode.nextSibling):null;return!0}function co(){Dn=Dr=null,Qt=!1}function zc(){var t=ti;return t!==null&&(Vi===null?Vi=t:Vi.push.apply(Vi,t),ti=null),t}function Vo(t){ti===null?ti=[t]:ti.push(t)}var Bu=M(null),Cs=null,Oa=null;function Ts(t,i,o){z(Bu,i._currentValue),i._currentValue=o}function qi(t){t._currentValue=Bu.current,j(Bu)}function Wo(t,i,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===o)break;t=t.return}}function ho(t,i,o,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var b=m.dependencies;if(b!==null){var C=m.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=m;for(var ue=0;ue<i.length;ue++)if(q.context===i[ue]){b.lanes|=o,q=b.alternate,q!==null&&(q.lanes|=o),Wo(b.return,o,t),c||(C=null);break e}b=q.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(a(341));C.lanes|=o,b=C.alternate,b!==null&&(b.lanes|=o),Wo(C,o,t),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===t){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Os(t,i,o,c){t=null;for(var m=i,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var q=m.type;Rr(m.pendingProps.value,C.value)||(t!==null?t.push(q):t=[q])}}else if(m===ee.current){if(C=m.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(fh):t=[fh])}m=m.return}t!==null&&ho(i,t,o,c),i.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!Rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){Cs=t,Oa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ur(t){return Gh(Cs,t)}function zu(t,i){return Cs===null&&Rs(t),Gh(t,i)}function Gh(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Oa===null){if(t===null)throw Error(a(308));Oa=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oa=Oa.next=i;return o}var Cd=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},Td=r.unstable_scheduleCallback,Od=r.unstable_NormalPriority,sr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yo(){return{controller:new Cd,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&Td(Od,function(){t.controller.abort()})}var Kl=null,qu=0,d=0,g=null;function S(t,i){if(Kl===null){var o=Kl=[];qu=0,d=vp(),g={status:"pending",value:void 0,then:function(c){o.push(c)}}}return qu++,i.then(E,E),i}function E(){if(--qu===0&&Kl!==null){g!==null&&(g.status="fulfilled");var t=Kl;Kl=null,d=0,g=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function R(t,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var P=Q.S;Q.S=function(t,i){$1=ut(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&S(t,i),P!==null&&P(t,i)};var B=M(null);function $(){var t=B.current;return t!==null?t:Un.pooledCache}function G(t,i){i===null?z(B,B.current):z(B,i.pool)}function X(){var t=$();return t===null?null:{parent:sr._currentValue,pool:t}}var pe=Error(a(460)),Re=Error(a(474)),J=Error(a(542)),ve={then:function(){}};function Le(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qe(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(ia,ia),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qe(t),t;default:if(typeof i.status=="string")i.then(ia,ia);else{if(t=Un,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qe(t),t}throw Ie=i,pe}}function Te(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ie=o,pe):o}}var Ie=null;function Ge(){if(Ie===null)throw Error(a(459));var t=Ie;return Ie=null,t}function Qe(t){if(t===pe||t===J)throw Error(a(483))}var Je=null,yt=0;function ht(t){var i=yt;return yt+=1,Je===null&&(Je=[]),qe(Je,t,i)}function Ht(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function pt(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Zt(t){function i(Ne,ge){if(t){var Me=Ne.deletions;Me===null?(Ne.deletions=[ge],Ne.flags|=16):Me.push(ge)}}function o(Ne,ge){if(!t)return null;for(;ge!==null;)i(Ne,ge),ge=ge.sibling;return null}function c(Ne){for(var ge=new Map;Ne!==null;)Ne.key!==null?ge.set(Ne.key,Ne):ge.set(Ne.index,Ne),Ne=Ne.sibling;return ge}function m(Ne,ge){return Ne=Di(Ne,ge),Ne.index=0,Ne.sibling=null,Ne}function b(Ne,ge,Me){return Ne.index=Me,t?(Me=Ne.alternate,Me!==null?(Me=Me.index,Me<ge?(Ne.flags|=67108866,ge):Me):(Ne.flags|=67108866,ge)):(Ne.flags|=1048576,ge)}function C(Ne){return t&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function q(Ne,ge,Me,Ve){return ge===null||ge.tag!==6?(ge=Vl(Me,Ne.mode,Ve),ge.return=Ne,ge):(ge=m(ge,Me),ge.return=Ne,ge)}function ue(Ne,ge,Me,Ve){var Rt=Me.type;return Rt===N?He(Ne,ge,Me.props.children,Ve,Me.key):ge!==null&&(ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===se&&Te(Rt)===ge.type)?(ge=m(ge,Me.props),Ht(ge,Me),ge.return=Ne,ge):(ge=Ho(Me.type,Me.key,Me.props,null,Ne.mode,Ve),Ht(ge,Me),ge.return=Ne,ge)}function De(Ne,ge,Me,Ve){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Me.containerInfo||ge.stateNode.implementation!==Me.implementation?(ge=$o(Me,Ne.mode,Ve),ge.return=Ne,ge):(ge=m(ge,Me.children||[]),ge.return=Ne,ge)}function He(Ne,ge,Me,Ve,Rt){return ge===null||ge.tag!==7?(ge=js(Me,Ne.mode,Ve,Rt),ge.return=Ne,ge):(ge=m(ge,Me),ge.return=Ne,ge)}function Ke(Ne,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Vl(""+ge,Ne.mode,Me),ge.return=Ne,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case w:return Me=Ho(ge.type,ge.key,ge.props,null,Ne.mode,Me),Ht(Me,ge),Me.return=Ne,Me;case k:return ge=$o(ge,Ne.mode,Me),ge.return=Ne,ge;case se:return ge=Te(ge),Ke(Ne,ge,Me)}if(Ce(ge)||V(ge))return ge=js(ge,Ne.mode,Me,null),ge.return=Ne,ge;if(typeof ge.then=="function")return Ke(Ne,ht(ge),Me);if(ge.$$typeof===U)return Ke(Ne,zu(Ne,ge),Me);pt(Ne,ge)}return null}function Pe(Ne,ge,Me,Ve){var Rt=ge!==null?ge.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Rt!==null?null:q(Ne,ge,""+Me,Ve);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return Me.key===Rt?ue(Ne,ge,Me,Ve):null;case k:return Me.key===Rt?De(Ne,ge,Me,Ve):null;case se:return Me=Te(Me),Pe(Ne,ge,Me,Ve)}if(Ce(Me)||V(Me))return Rt!==null?null:He(Ne,ge,Me,Ve,null);if(typeof Me.then=="function")return Pe(Ne,ge,ht(Me),Ve);if(Me.$$typeof===U)return Pe(Ne,ge,zu(Ne,Me),Ve);pt(Ne,Me)}return null}function Be(Ne,ge,Me,Ve,Rt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ne=Ne.get(Me)||null,q(ge,Ne,""+Ve,Rt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case w:return Ne=Ne.get(Ve.key===null?Me:Ve.key)||null,ue(ge,Ne,Ve,Rt);case k:return Ne=Ne.get(Ve.key===null?Me:Ve.key)||null,De(ge,Ne,Ve,Rt);case se:return Ve=Te(Ve),Be(Ne,ge,Me,Ve,Rt)}if(Ce(Ve)||V(Ve))return Ne=Ne.get(Me)||null,He(ge,Ne,Ve,Rt,null);if(typeof Ve.then=="function")return Be(Ne,ge,Me,ht(Ve),Rt);if(Ve.$$typeof===U)return Be(Ne,ge,Me,zu(ge,Ve),Rt);pt(ge,Ve)}return null}function vt(Ne,ge,Me,Ve){for(var Rt=null,vn=null,Nt=ge,Jt=ge=0,an=null;Nt!==null&&Jt<Me.length;Jt++){Nt.index>Jt?(an=Nt,Nt=null):an=Nt.sibling;var yn=Pe(Ne,Nt,Me[Jt],Ve);if(yn===null){Nt===null&&(Nt=an);break}t&&Nt&&yn.alternate===null&&i(Ne,Nt),ge=b(yn,ge,Jt),vn===null?Rt=yn:vn.sibling=yn,vn=yn,Nt=an}if(Jt===Me.length)return o(Ne,Nt),Qt&&ji(Ne,Jt),Rt;if(Nt===null){for(;Jt<Me.length;Jt++)Nt=Ke(Ne,Me[Jt],Ve),Nt!==null&&(ge=b(Nt,ge,Jt),vn===null?Rt=Nt:vn.sibling=Nt,vn=Nt);return Qt&&ji(Ne,Jt),Rt}for(Nt=c(Nt);Jt<Me.length;Jt++)an=Be(Nt,Ne,Jt,Me[Jt],Ve),an!==null&&(t&&an.alternate!==null&&Nt.delete(an.key===null?Jt:an.key),ge=b(an,ge,Jt),vn===null?Rt=an:vn.sibling=an,vn=an);return t&&Nt.forEach(function(hl){return i(Ne,hl)}),Qt&&ji(Ne,Jt),Rt}function Bt(Ne,ge,Me,Ve){if(Me==null)throw Error(a(151));for(var Rt=null,vn=null,Nt=ge,Jt=ge=0,an=null,yn=Me.next();Nt!==null&&!yn.done;Jt++,yn=Me.next()){Nt.index>Jt?(an=Nt,Nt=null):an=Nt.sibling;var hl=Pe(Ne,Nt,yn.value,Ve);if(hl===null){Nt===null&&(Nt=an);break}t&&Nt&&hl.alternate===null&&i(Ne,Nt),ge=b(hl,ge,Jt),vn===null?Rt=hl:vn.sibling=hl,vn=hl,Nt=an}if(yn.done)return o(Ne,Nt),Qt&&ji(Ne,Jt),Rt;if(Nt===null){for(;!yn.done;Jt++,yn=Me.next())yn=Ke(Ne,yn.value,Ve),yn!==null&&(ge=b(yn,ge,Jt),vn===null?Rt=yn:vn.sibling=yn,vn=yn);return Qt&&ji(Ne,Jt),Rt}for(Nt=c(Nt);!yn.done;Jt++,yn=Me.next())yn=Be(Nt,Ne,Jt,yn.value,Ve),yn!==null&&(t&&yn.alternate!==null&&Nt.delete(yn.key===null?Jt:yn.key),ge=b(yn,ge,Jt),vn===null?Rt=yn:vn.sibling=yn,vn=yn);return t&&Nt.forEach(function(Fw){return i(Ne,Fw)}),Qt&&ji(Ne,Jt),Rt}function Mn(Ne,ge,Me,Ve){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:e:{for(var Rt=Me.key;ge!==null;){if(ge.key===Rt){if(Rt=Me.type,Rt===N){if(ge.tag===7){o(Ne,ge.sibling),Ve=m(ge,Me.props.children),Ve.return=Ne,Ne=Ve;break e}}else if(ge.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===se&&Te(Rt)===ge.type){o(Ne,ge.sibling),Ve=m(ge,Me.props),Ht(Ve,Me),Ve.return=Ne,Ne=Ve;break e}o(Ne,ge);break}else i(Ne,ge);ge=ge.sibling}Me.type===N?(Ve=js(Me.props.children,Ne.mode,Ve,Me.key),Ve.return=Ne,Ne=Ve):(Ve=Ho(Me.type,Me.key,Me.props,null,Ne.mode,Ve),Ht(Ve,Me),Ve.return=Ne,Ne=Ve)}return C(Ne);case k:e:{for(Rt=Me.key;ge!==null;){if(ge.key===Rt)if(ge.tag===4&&ge.stateNode.containerInfo===Me.containerInfo&&ge.stateNode.implementation===Me.implementation){o(Ne,ge.sibling),Ve=m(ge,Me.children||[]),Ve.return=Ne,Ne=Ve;break e}else{o(Ne,ge);break}else i(Ne,ge);ge=ge.sibling}Ve=$o(Me,Ne.mode,Ve),Ve.return=Ne,Ne=Ve}return C(Ne);case se:return Me=Te(Me),Mn(Ne,ge,Me,Ve)}if(Ce(Me))return vt(Ne,ge,Me,Ve);if(V(Me)){if(Rt=V(Me),typeof Rt!="function")throw Error(a(150));return Me=Rt.call(Me),Bt(Ne,ge,Me,Ve)}if(typeof Me.then=="function")return Mn(Ne,ge,ht(Me),Ve);if(Me.$$typeof===U)return Mn(Ne,ge,zu(Ne,Me),Ve);pt(Ne,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,ge!==null&&ge.tag===6?(o(Ne,ge.sibling),Ve=m(ge,Me),Ve.return=Ne,Ne=Ve):(o(Ne,ge),Ve=Vl(Me,Ne.mode,Ve),Ve.return=Ne,Ne=Ve),C(Ne)):o(Ne,ge)}return function(Ne,ge,Me,Ve){try{yt=0;var Rt=Mn(Ne,ge,Me,Ve);return Je=null,Rt}catch(Nt){if(Nt===pe||Nt===J)throw Nt;var vn=Gr(29,Nt,null,Ne.mode);return vn.lanes=Ve,vn.return=Ne,vn}finally{}}}var Pn=Zt(!0),Vt=Zt(!1),ft=!1;function rt(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hn(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pt(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(t,i,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(_n&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=$r(t),$l(t,null,o),i}return Hl(t,c,i,o),$r(t)}function bn(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,gi(t,o)}}function br(t,i){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};b===null?m=b=C:b=b.next=C,o=o.next}while(o!==null);b===null?m=b=i:b=b.next=i}else m=b=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Br=!1;function Tn(){if(Br){var t=g;if(t!==null)throw t}}function hr(t,i,o,c){Br=!1;var m=t.updateQueue;ft=!1;var b=m.firstBaseUpdate,C=m.lastBaseUpdate,q=m.shared.pending;if(q!==null){m.shared.pending=null;var ue=q,De=ue.next;ue.next=null,C===null?b=De:C.next=De,C=ue;var He=t.alternate;He!==null&&(He=He.updateQueue,q=He.lastBaseUpdate,q!==C&&(q===null?He.firstBaseUpdate=De:q.next=De,He.lastBaseUpdate=ue))}if(b!==null){var Ke=m.baseState;C=0,He=De=ue=null,q=b;do{var Pe=q.lane&-536870913,Be=Pe!==q.lane;if(Be?(rn&Pe)===Pe:(c&Pe)===Pe){Pe!==0&&Pe===d&&(Br=!0),He!==null&&(He=He.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var vt=t,Bt=q;Pe=i;var Mn=o;switch(Bt.tag){case 1:if(vt=Bt.payload,typeof vt=="function"){Ke=vt.call(Mn,Ke,Pe);break e}Ke=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Bt.payload,Pe=typeof vt=="function"?vt.call(Mn,Ke,Pe):vt,Pe==null)break e;Ke=_({},Ke,Pe);break e;case 2:ft=!0}}Pe=q.callback,Pe!==null&&(t.flags|=64,Be&&(t.flags|=8192),Be=m.callbacks,Be===null?m.callbacks=[Pe]:Be.push(Pe))}else Be={lane:Pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},He===null?(De=He=Be,ue=Ke):He=He.next=Be,C|=Pe;if(q=q.next,q===null){if(q=m.shared.pending,q===null)break;Be=q,q=Be.next,Be.next=null,m.lastBaseUpdate=Be,m.shared.pending=null}}while(!0);He===null&&(ue=Ke),m.baseState=ue,m.firstBaseUpdate=De,m.lastBaseUpdate=He,b===null&&(m.shared.lanes=0),tl|=C,t.lanes=C,t.memoizedState=Ke}}function Vr(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function fr(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)Vr(o[t],i)}var Xt=M(null),cn=M(0);function $n(t,i){t=xo,z(cn,t),z(Xt,i),xo=t|i.baseLanes}function gn(){z(cn,xo),z(Xt,Xt.current)}function wr(){xo=cn.current,j(Xt),j(cn)}var Gn=M(null),hn=null;function or(t){var i=t.alternate;z(ln,ln.current&1),z(Gn,t),hn===null&&(i===null||Xt.current!==null||i.memoizedState!==null)&&(hn=t)}function wn(t){z(ln,ln.current),z(Gn,t),hn===null&&(hn=t)}function dr(t){t.tag===22?(z(ln,ln.current),z(Gn,t),hn===null&&(hn=t)):pr()}function pr(){z(ln,ln.current),z(Gn,Gn.current)}function Nn(t){j(Gn),hn===t&&(hn=null),j(ln)}var ln=M(0);function Wr(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Lp(o)||Cp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Jn=0,Lt=null,Ot=null,fn=null,ui=!1,Fi=!1,ni=!1,mr=0,Ms=0,Ds=null,Fu=0;function On(){throw Error(a(321))}function qc(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Rr(t[o],i[o]))return!1;return!0}function Fc(t,i,o,c,m,b){return Jn=b,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?t1:zd,ni=!1,b=o(c,m),ni=!1,Fi&&(b=as(i,o,c,m)),Hu(t),b}function Hu(t){Q.H=Jc;var i=Ot!==null&&Ot.next!==null;if(Jn=0,fn=Ot=Lt=null,ui=!1,Ms=0,Ds=null,i)throw Error(a(300));t===null||jr||(t=t.dependencies,t!==null&&Iu(t)&&(jr=!0))}function as(t,i,o,c){Lt=t;var m=0;do{if(Fi&&(Ds=null),Ms=0,Fi=!1,25<=m)throw Error(a(301));if(m+=1,fn=Ot=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=n1,b=i(o,c)}while(Fi);return b}function Rd(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Ps(i):i,t=t.useState()[0],(Ot!==null?Ot.memoizedState:null)!==t&&(Lt.flags|=1024),i}function Hc(){var t=mr!==0;return mr=0,t}function $c(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function $u(t){if(ui){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ui=!1}Jn=0,fn=Ot=Lt=null,Fi=!1,Ms=mr=0,Ds=null}function Er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lt.memoizedState=fn=t:fn=fn.next=t,fn}function Xn(){if(Ot===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var i=fn===null?Lt.memoizedState:fn.next;if(i!==null)fn=i,Ot=t;else{if(t===null)throw Lt.alternate===null?Error(a(467)):Error(a(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},fn===null?Lt.memoizedState=fn=t:fn=fn.next=t}return fn}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(t){var i=Ms;return Ms+=1,Ds===null&&(Ds=[]),t=qe(Ds,t,i),i=Lt,(fn===null?i.memoizedState:fn.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?t1:zd),t}function Ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ps(t);if(t.$$typeof===U)return Ur(t)}throw Error(a(438,String(t)))}function fo(t){var i=null,o=Lt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Jl(),Lt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),c=0;c<t;c++)o[c]=be;return i.index++,o}function Ra(t,i){return typeof i=="function"?i(t):i}function Gu(t){var i=Xn();return Jo(i,Ot,t)}function Jo(t,i,o){var c=t.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=t.baseQueue,b=c.pending;if(b!==null){if(m!==null){var C=m.next;m.next=b.next,b.next=C}i.baseQueue=m=b,c.pending=null}if(b=t.baseState,m===null)t.memoizedState=b;else{i=m.next;var q=C=null,ue=null,De=i,He=!1;do{var Ke=De.lane&-536870913;if(Ke!==De.lane?(rn&Ke)===Ke:(Jn&Ke)===Ke){var Pe=De.revertLane;if(Pe===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ke===d&&(He=!0);else if((Jn&Pe)===Pe){De=De.next,Pe===d&&(He=!0);continue}else Ke={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ue===null?(q=ue=Ke,C=b):ue=ue.next=Ke,Lt.lanes|=Pe,tl|=Pe;Ke=De.action,ni&&o(b,Ke),b=De.hasEagerState?De.eagerState:o(b,Ke)}else Pe={lane:Ke,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ue===null?(q=ue=Pe,C=b):ue=ue.next=Pe,Lt.lanes|=Ke,tl|=Ke;De=De.next}while(De!==null&&De!==i);if(ue===null?C=b:ue.next=q,!Rr(b,t.memoizedState)&&(jr=!0,He&&(o=g,o!==null)))throw o;t.memoizedState=b,t.baseState=C,t.baseQueue=ue,c.lastRenderedState=b}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Vu(t){var i=Xn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var c=o.dispatch,m=o.pending,b=i.memoizedState;if(m!==null){o.pending=null;var C=m=m.next;do b=t(b,C.action),C=C.next;while(C!==m);Rr(b,i.memoizedState)||(jr=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),o.lastRenderedState=b}return[b,c]}function Wu(t,i,o){var c=Lt,m=Xn(),b=Qt;if(b){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!Rr((Ot||m).memoizedState,o);if(C&&(m.memoizedState=o,jr=!0),m=m.queue,Md(Vc.bind(null,c,m,t),[t]),m.getSnapshot!==i||C||fn!==null&&fn.memoizedState.tag&1){if(c.flags|=2048,mo(9,{destroy:void 0},Gc.bind(null,c,m,o,i),null),Un===null)throw Error(a(349));b||(Jn&127)!==0||ss(c,i,o)}return o}function ss(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Lt.updateQueue,i===null?(i=Jl(),Lt.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Gc(t,i,o,c){i.value=o,i.getSnapshot=c,Vh(i)&&Wc(t)}function Vc(t,i,o){return o(function(){Vh(i)&&Wc(t)})}function Vh(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Rr(t,o)}catch{return!0}}function Wc(t){var i=rs(t,2);i!==null&&Wi(i,t,2)}function Us(t){var i=Er();if(typeof t=="function"){var o=t;if(t=o(),ni){Xe(!0);try{o()}finally{Xe(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},i}function Wh(t,i,o,c){return t.baseState=o,Jo(t,Ot,typeof c=="function"?c:Ra)}function Yh(t,i,o,c,m){if(Zh(t))throw Error(a(485));if(t=i.action,t!==null){var b={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};Q.T!==null?o(!0):b.isTransition=!1,c(b),o=i.pending,o===null?(b.next=i.pending=b,Kh(i,b)):(b.next=o.next,i.pending=o.next=b)}}function Kh(t,i){var o=i.action,c=i.payload,m=t.state;if(i.isTransition){var b=Q.T,C={};Q.T=C;try{var q=o(m,c),ue=Q.S;ue!==null&&ue(C,q),Yc(t,i,q)}catch(De){po(t,i,De)}finally{b!==null&&C.types!==null&&(b.types=C.types),Q.T=b}}else try{b=o(m,c),Yc(t,i,b)}catch(De){po(t,i,De)}}function Yc(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Jh(t,i,c)},function(c){return po(t,i,c)}):Jh(t,i,o)}function Jh(t,i,o){i.status="fulfilled",i.value=o,Yu(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Kh(t,o)))}function po(t,i,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Yu(i),i=i.next;while(i!==c)}t.action=null}function Yu(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Xl(t,i){return i}function Ma(t,i){if(Qt){var o=Un.formState;if(o!==null){e:{var c=Lt;if(Qt){if(Dn){t:{for(var m=Dn,b=Kn;m.nodeType!==8;){if(!b){m=null;break t}if(m=Da(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){Dn=Da(m.nextSibling),c=m.data==="F!";break e}}Ls(c)}c=!1}c&&(i=o[0])}}return o=Er(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:i},o.queue=c,o=Zm.bind(null,Lt,c),c.dispatch=o,c=Us(!1),b=Id.bind(null,Lt,!1,c.queue),c=Er(),m={state:i,dispatch:null,action:t,pending:null},c.queue=m,o=Yh.bind(null,Lt,m,b,o),m.dispatch=o,c.memoizedState=t,[i,o,!1]}function os(t){var i=Xn();return ls(i,Ot,t)}function ls(t,i,o){if(i=Jo(t,i,Xl)[0],t=Gu(Ra)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ps(i)}catch(C){throw C===pe?J:C}else c=i;i=Xn();var m=i.queue,b=m.dispatch;return o!==i.memoizedState&&(Lt.flags|=2048,mo(9,{destroy:void 0},Ku.bind(null,m,o),null)),[c,b,t]}function Ku(t,i){t.action=i}function Ju(t){var i=Xn(),o=Ot;if(o!==null)return ls(i,o,t);Xn(),i=i.memoizedState,o=Xn();var c=o.queue.dispatch;return o.memoizedState=t,[i,c,!1]}function mo(t,i,o,c){return t={tag:t,create:o,deps:c,inst:i,next:null},i=Lt.updateQueue,i===null&&(i=Jl(),Lt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,i.lastEffect=t),t}function Xh(){return Xn().memoizedState}function Xo(t,i,o,c){var m=Er();Lt.flags|=t,m.memoizedState=mo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Zo(t,i,o,c){var m=Xn();c=c===void 0?null:c;var b=m.memoizedState.inst;Ot!==null&&c!==null&&qc(c,Ot.memoizedState.deps)?m.memoizedState=mo(i,b,o,c):(Lt.flags|=t,m.memoizedState=mo(1|i,b,o,c))}function Bm(t,i){Xo(8390656,8,t,i)}function Md(t,i){Zo(2048,8,t,i)}function Pb(t){Lt.flags|=4;var i=Lt.updateQueue;if(i===null)i=Jl(),Lt.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function Im(t){var i=Xn().memoizedState;return Pb({ref:i,nextImpl:t}),function(){if((_n&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function zm(t,i){return Zo(4,2,t,i)}function qm(t,i){return Zo(4,4,t,i)}function Fm(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hm(t,i,o){o=o!=null?o.concat([t]):null,Zo(4,4,Fm.bind(null,i,t),o)}function Dd(){}function $m(t,i){var o=Xn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&qc(i,c[1])?c[0]:(o.memoizedState=[t,i],t)}function Gm(t,i){var o=Xn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&qc(i,c[1]))return c[0];if(c=t(),ni){Xe(!0);try{t()}finally{Xe(!1)}}return o.memoizedState=[c,i],c}function Pd(t,i,o){return o===void 0||(Jn&1073741824)!==0&&(rn&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=V1(),Lt.lanes|=t,tl|=t,o)}function Vm(t,i,o,c){return Rr(o,i)?o:Xt.current!==null?(t=Pd(t,o,c),Rr(t,i)||(jr=!0),t):(Jn&42)===0||(Jn&1073741824)!==0&&(rn&261930)===0?(jr=!0,t.memoizedState=o):(t=V1(),Lt.lanes|=t,tl|=t,i)}function Wm(t,i,o,c,m){var b=he.p;he.p=b!==0&&8>b?b:8;var C=Q.T,q={};Q.T=q,Id(t,!1,i,o);try{var ue=m(),De=Q.S;if(De!==null&&De(q,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var He=R(ue,c);Kc(t,i,He,fa(t))}else Kc(t,i,c,fa(t))}catch(Ke){Kc(t,i,{then:function(){},status:"rejected",reason:Ke},fa())}finally{he.p=b,C!==null&&q.types!==null&&(C.types=q.types),Q.T=C}}function Ub(){}function Ud(t,i,o,c){if(t.tag!==5)throw Error(a(476));var m=Ym(t).queue;Wm(t,m,i,de,o===null?Ub:function(){return Km(t),o(c)})}function Ym(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:de},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Km(t){var i=Ym(t);i.next===null&&(i=t.alternate.memoizedState),Kc(t,i.next.queue,{},fa())}function Bd(){return Ur(fh)}function Jm(){return Xn().memoizedState}function Xm(){return Xn().memoizedState}function Bb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=fa();t=Pt(o);var c=Kt(i,t,o);c!==null&&(Wi(c,i,o),bn(c,i,o)),i={cache:Yo()},t.payload=i;return}i=i.return}}function Ib(t,i,o){var c=fa();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zh(t)?Qm(i,o):(o=Tu(t,i,o,c),o!==null&&(Wi(o,t,c),e1(o,i,c)))}function Zm(t,i,o){var c=fa();Kc(t,i,o,c)}function Kc(t,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zh(t))Qm(i,m);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var C=i.lastRenderedState,q=b(C,o);if(m.hasEagerState=!0,m.eagerState=q,Rr(q,C))return Hl(t,i,m,0),Un===null&&Fl(),!1}catch{}finally{}if(o=Tu(t,i,m,c),o!==null)return Wi(o,t,c),e1(o,i,c),!0}return!1}function Id(t,i,o,c){if(c={lane:2,revertLane:vp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zh(t)){if(i)throw Error(a(479))}else i=Tu(t,o,c,2),i!==null&&Wi(i,t,2)}function Zh(t){var i=t.alternate;return t===Lt||i!==null&&i===Lt}function Qm(t,i){Fi=ui=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function e1(t,i,o){if((o&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,gi(t,o)}}var Jc={readContext:Ur,use:Ko,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};Jc.useEffectEvent=On;var t1={readContext:Ur,use:Ko,useCallback:function(t,i){return Er().memoizedState=[t,i===void 0?null:i],t},useContext:Ur,useEffect:Bm,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,Xo(4194308,4,Fm.bind(null,i,t),o)},useLayoutEffect:function(t,i){return Xo(4194308,4,t,i)},useInsertionEffect:function(t,i){Xo(4,2,t,i)},useMemo:function(t,i){var o=Er();i=i===void 0?null:i;var c=t();if(ni){Xe(!0);try{t()}finally{Xe(!1)}}return o.memoizedState=[c,i],c},useReducer:function(t,i,o){var c=Er();if(o!==void 0){var m=o(i);if(ni){Xe(!0);try{o(i)}finally{Xe(!1)}}}else m=i;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=Ib.bind(null,Lt,t),[c.memoizedState,t]},useRef:function(t){var i=Er();return t={current:t},i.memoizedState=t},useState:function(t){t=Us(t);var i=t.queue,o=Zm.bind(null,Lt,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:Dd,useDeferredValue:function(t,i){var o=Er();return Pd(o,t,i)},useTransition:function(){var t=Us(!1);return t=Wm.bind(null,Lt,t.queue,!0,!1),Er().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var c=Lt,m=Er();if(Qt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Un===null)throw Error(a(349));(rn&127)!==0||ss(c,i,o)}m.memoizedState=o;var b={value:o,getSnapshot:i};return m.queue=b,Bm(Vc.bind(null,c,b,t),[t]),c.flags|=2048,mo(9,{destroy:void 0},Gc.bind(null,c,b,o,i),null),o},useId:function(){var t=Er(),i=Un.identifierPrefix;if(Qt){var o=zi,c=Ii;o=(c&~(1<<32-tt(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=mr++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Fu++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Bd,useFormState:Ma,useActionState:Ma,useOptimistic:function(t){var i=Er();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Id.bind(null,Lt,!0,o),o.dispatch=i,[t,i]},useMemoCache:fo,useCacheRefresh:function(){return Er().memoizedState=Bb.bind(null,Lt)},useEffectEvent:function(t){var i=Er(),o={impl:t};return i.memoizedState=o,function(){if((_n&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},zd={readContext:Ur,use:Ko,useCallback:$m,useContext:Ur,useEffect:Md,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:qm,useMemo:Gm,useReducer:Gu,useRef:Xh,useState:function(){return Gu(Ra)},useDebugValue:Dd,useDeferredValue:function(t,i){var o=Xn();return Vm(o,Ot.memoizedState,t,i)},useTransition:function(){var t=Gu(Ra)[0],i=Xn().memoizedState;return[typeof t=="boolean"?t:Ps(t),i]},useSyncExternalStore:Wu,useId:Jm,useHostTransitionStatus:Bd,useFormState:os,useActionState:os,useOptimistic:function(t,i){var o=Xn();return Wh(o,Ot,t,i)},useMemoCache:fo,useCacheRefresh:Xm};zd.useEffectEvent=Im;var n1={readContext:Ur,use:Ko,useCallback:$m,useContext:Ur,useEffect:Md,useImperativeHandle:Hm,useInsertionEffect:zm,useLayoutEffect:qm,useMemo:Gm,useReducer:Vu,useRef:Xh,useState:function(){return Vu(Ra)},useDebugValue:Dd,useDeferredValue:function(t,i){var o=Xn();return Ot===null?Pd(o,t,i):Vm(o,Ot.memoizedState,t,i)},useTransition:function(){var t=Vu(Ra)[0],i=Xn().memoizedState;return[typeof t=="boolean"?t:Ps(t),i]},useSyncExternalStore:Wu,useId:Jm,useHostTransitionStatus:Bd,useFormState:Ju,useActionState:Ju,useOptimistic:function(t,i){var o=Xn();return Ot!==null?Wh(o,Ot,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:fo,useCacheRefresh:Xm};n1.useEffectEvent=Im;function qd(t,i,o,c){i=t.memoizedState,o=o(c,i),o=o==null?i:_({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Fd={enqueueSetState:function(t,i,o){t=t._reactInternals;var c=fa(),m=Pt(c);m.payload=i,o!=null&&(m.callback=o),i=Kt(t,m,c),i!==null&&(Wi(i,t,c),bn(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var c=fa(),m=Pt(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Kt(t,m,c),i!==null&&(Wi(i,t,c),bn(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=fa(),c=Pt(o);c.tag=2,i!=null&&(c.callback=i),i=Kt(t,c,o),i!==null&&(Wi(i,t,o),bn(i,t,o))}};function r1(t,i,o,c,m,b,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,b,C):i.prototype&&i.prototype.isPureReactComponent?!Qa(o,c)||!Qa(m,b):!0}function i1(t,i,o,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==t&&Fd.enqueueReplaceState(i,i.state,null)}function Zl(t,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(t=t.defaultProps){o===i&&(o=_({},o));for(var m in t)o[m]===void 0&&(o[m]=t[m])}return o}function a1(t){ql(t)}function s1(t){console.error(t)}function o1(t){ql(t)}function Qh(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function l1(t,i,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Hd(t,i,o){return o=Pt(o),o.tag=3,o.payload={element:null},o.callback=function(){Qh(t,i)},o}function u1(t){return t=Pt(t),t.tag=3,t}function c1(t,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;t.payload=function(){return m(b)},t.callback=function(){l1(i,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){l1(i,o,c),typeof m!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var q=c.stack;this.componentDidCatch(c.value,{componentStack:q!==null?q:""})})}function zb(t,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Os(i,o,m,!0),o=Gn.current,o!==null){switch(o.tag){case 31:case 13:return hn===null?ff():o.alternate===null&&gr===0&&(gr=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===ve?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),pp(t,c,m)),!1;case 22:return o.flags|=65536,c===ve?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),pp(t,c,m)),!1}throw Error(a(435,o.tag))}return pp(t,c,m),ff(),!1}if(Qt)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==ua&&(t=Error(a(422),{cause:c}),Vo(Pi(t,o)))):(c!==ua&&(i=Error(a(423),{cause:c}),Vo(Pi(i,o))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=Pi(c,o),m=Hd(t.stateNode,c,m),br(t,m),gr!==4&&(gr=2)),!1;var b=Error(a(520),{cause:c});if(b=Pi(b,o),ih===null?ih=[b]:ih.push(b),gr!==4&&(gr=2),i===null)return!0;c=Pi(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=m&-m,o.lanes|=t,t=Hd(o.stateNode,c,t),br(o,t),!1;case 1:if(i=o.type,b=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(nl===null||!nl.has(b))))return o.flags|=65536,m&=-m,o.lanes|=m,m=u1(m),c1(m,t,o,c),br(o,m),!1}o=o.return}while(o!==null);return!1}var $d=Error(a(461)),jr=!1;function ri(t,i,o,c){i.child=t===null?Vt(i,null,o,c):Pn(i,t.child,o,c)}function h1(t,i,o,c,m){o=o.render;var b=i.ref;if("ref"in c){var C={};for(var q in c)q!=="ref"&&(C[q]=c[q])}else C=c;return Rs(i),c=Fc(t,i,o,C,b,m),q=Hc(),t!==null&&!jr?($c(t,i,m),go(t,i,m)):(Qt&&q&&Bc(i),i.flags|=1,ri(t,i,c,m),i.child)}function f1(t,i,o,c,m){if(t===null){var b=o.type;return typeof b=="function"&&!Ru(b)&&b.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=b,d1(t,i,b,c,m)):(t=Ho(o.type,null,c,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(b=t.child,!Zd(t,m)){var C=b.memoizedProps;if(o=o.compare,o=o!==null?o:Qa,o(C,c)&&t.ref===i.ref)return go(t,i,m)}return i.flags|=1,t=Di(b,c),t.ref=i.ref,t.return=i,i.child=t}function d1(t,i,o,c,m){if(t!==null){var b=t.memoizedProps;if(Qa(b,c)&&t.ref===i.ref)if(jr=!1,i.pendingProps=c=b,Zd(t,m))(t.flags&131072)!==0&&(jr=!0);else return i.lanes=t.lanes,go(t,i,m)}return Gd(t,i,o,c,m)}function p1(t,i,o,c){var m=c.children,b=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|o:o,t!==null){for(c=i.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,i.child=null;return m1(t,i,b,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&G(i,b!==null?b.cachePool:null),b!==null?$n(i,b):gn(),dr(i);else return c=i.lanes=536870912,m1(t,i,b!==null?b.baseLanes|o:o,o,c)}else b!==null?(G(i,b.cachePool),$n(i,b),pr(),i.memoizedState=null):(t!==null&&G(i,null),gn(),pr());return ri(t,i,m,o),i.child}function Xc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function m1(t,i,o,c,m){var b=$();return b=b===null?null:{parent:sr._currentValue,pool:b},i.memoizedState={baseLanes:o,cachePool:b},t!==null&&G(i,null),gn(),dr(i),t!==null&&Os(t,i,c,!0),i.childLanes=m,null}function ef(t,i){return i=nf({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function g1(t,i,o){return Pn(i,t.child,null,o),t=ef(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function qb(t,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Qt){if(c.mode==="hidden")return t=ef(i,c),i.lanes=536870912,Xc(null,t);if(wn(i),(t=Dn)?(t=kg(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Ii,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Mu(t),o.return=i,i.child=o,Dr=i,Dn=null)):t=null,t===null)throw Ls(i);return i.lanes=536870912,null}return ef(i,c)}var b=t.memoizedState;if(b!==null){var C=b.dehydrated;if(wn(i),m)if(i.flags&256)i.flags&=-257,i=g1(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(jr||Os(t,i,o,!1),m=(o&t.childLanes)!==0,jr||m){if(c=Un,c!==null&&(C=vi(c,o),C!==0&&C!==b.retryLane))throw b.retryLane=C,rs(t,C),Wi(c,t,C),$d;ff(),i=g1(t,i,o)}else t=b.treeContext,Dn=Da(C.nextSibling),Dr=i,Qt=!0,ti=null,Kn=!1,t!==null&&$h(i,t),i=ef(i,c),i.flags|=4096;return i}return t=Di(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function tf(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function Gd(t,i,o,c,m){return Rs(i),o=Fc(t,i,o,c,void 0,m),c=Hc(),t!==null&&!jr?($c(t,i,m),go(t,i,m)):(Qt&&c&&Bc(i),i.flags|=1,ri(t,i,o,m),i.child)}function v1(t,i,o,c,m,b){return Rs(i),i.updateQueue=null,o=as(i,c,o,m),Hu(t),c=Hc(),t!==null&&!jr?($c(t,i,b),go(t,i,b)):(Qt&&c&&Bc(i),i.flags|=1,ri(t,i,o,b),i.child)}function y1(t,i,o,c,m){if(Rs(i),i.stateNode===null){var b=Mr,C=o.contextType;typeof C=="object"&&C!==null&&(b=Ur(C)),b=new o(c,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Fd,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=c,b.state=i.memoizedState,b.refs={},rt(i),C=o.contextType,b.context=typeof C=="object"&&C!==null?Ur(C):Mr,b.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(qd(i,o,C,c),b.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Fd.enqueueReplaceState(b,b.state,null),hr(i,c,b,m),Tn(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){b=i.stateNode;var q=i.memoizedProps,ue=Zl(o,q);b.props=ue;var De=b.context,He=o.contextType;C=Mr,typeof He=="object"&&He!==null&&(C=Ur(He));var Ke=o.getDerivedStateFromProps;He=typeof Ke=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=i.pendingProps!==q,He||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||De!==C)&&i1(i,b,c,C),ft=!1;var Pe=i.memoizedState;b.state=Pe,hr(i,c,b,m),Tn(),De=i.memoizedState,q||Pe!==De||ft?(typeof Ke=="function"&&(qd(i,o,Ke,c),De=i.memoizedState),(ue=ft||r1(i,o,ue,c,Pe,De,C))?(He||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=De),b.props=c,b.state=De,b.context=C,c=ue):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Hn(t,i),C=i.memoizedProps,He=Zl(o,C),b.props=He,Ke=i.pendingProps,Pe=b.context,De=o.contextType,ue=Mr,typeof De=="object"&&De!==null&&(ue=Ur(De)),q=o.getDerivedStateFromProps,(De=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==Ke||Pe!==ue)&&i1(i,b,c,ue),ft=!1,Pe=i.memoizedState,b.state=Pe,hr(i,c,b,m),Tn();var Be=i.memoizedState;C!==Ke||Pe!==Be||ft||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof q=="function"&&(qd(i,o,q,c),Be=i.memoizedState),(He=ft||r1(i,o,He,c,Pe,Be,ue)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(De||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Be,ue),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Be,ue)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===t.memoizedProps&&Pe===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Pe===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Be),b.props=c,b.state=Be,b.context=ue,c=He):(typeof b.componentDidUpdate!="function"||C===t.memoizedProps&&Pe===t.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&Pe===t.memoizedState||(i.flags|=1024),c=!1)}return b=c,tf(t,i),c=(i.flags&128)!==0,b||c?(b=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,t!==null&&c?(i.child=Pn(i,t.child,null,m),i.child=Pn(i,null,o,m)):ri(t,i,o,m),i.memoizedState=b.state,t=i.child):t=go(t,i,m),t}function b1(t,i,o,c){return co(),i.flags|=256,ri(t,i,o,c),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(t){return{baseLanes:t,cachePool:X()}}function Yd(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=ha),t}function w1(t,i,o){var c=i.pendingProps,m=!1,b=(i.flags&128)!==0,C;if((C=b)||(C=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),C&&(m=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qt){if(m?or(i):pr(),(t=Dn)?(t=kg(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Ii,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},o=Mu(t),o.return=i,i.child=o,Dr=i,Dn=null)):t=null,t===null)throw Ls(i);return Cp(t)?i.lanes=32:i.lanes=536870912,null}var q=c.children;return c=c.fallback,m?(pr(),m=i.mode,q=nf({mode:"hidden",children:q},m),c=js(c,m,o,null),q.return=i,c.return=i,q.sibling=c,i.child=q,c=i.child,c.memoizedState=Wd(o),c.childLanes=Yd(t,C,o),i.memoizedState=Vd,Xc(null,c)):(or(i),Kd(i,q))}var ue=t.memoizedState;if(ue!==null&&(q=ue.dehydrated,q!==null)){if(b)i.flags&256?(or(i),i.flags&=-257,i=Jd(t,i,o)):i.memoizedState!==null?(pr(),i.child=t.child,i.flags|=128,i=null):(pr(),q=c.fallback,m=i.mode,c=nf({mode:"visible",children:c.children},m),q=js(q,m,o,null),q.flags|=2,c.return=i,q.return=i,c.sibling=q,i.child=c,Pn(i,t.child,null,o),c=i.child,c.memoizedState=Wd(o),c.childLanes=Yd(t,C,o),i.memoizedState=Vd,i=Xc(null,c));else if(or(i),Cp(q)){if(C=q.nextSibling&&q.nextSibling.dataset,C)var De=C.dgst;C=De,c=Error(a(419)),c.stack="",c.digest=C,Vo({value:c,source:null,stack:null}),i=Jd(t,i,o)}else if(jr||Os(t,i,o,!1),C=(o&t.childLanes)!==0,jr||C){if(C=Un,C!==null&&(c=vi(C,o),c!==0&&c!==ue.retryLane))throw ue.retryLane=c,rs(t,c),Wi(C,t,c),$d;Lp(q)||ff(),i=Jd(t,i,o)}else Lp(q)?(i.flags|=192,i.child=t.child,i=null):(t=ue.treeContext,Dn=Da(q.nextSibling),Dr=i,Qt=!0,ti=null,Kn=!1,t!==null&&$h(i,t),i=Kd(i,c.children),i.flags|=4096);return i}return m?(pr(),q=c.fallback,m=i.mode,ue=t.child,De=ue.sibling,c=Di(ue,{mode:"hidden",children:c.children}),c.subtreeFlags=ue.subtreeFlags&65011712,De!==null?q=Di(De,q):(q=js(q,m,o,null),q.flags|=2),q.return=i,c.return=i,c.sibling=q,i.child=c,Xc(null,c),c=i.child,q=t.child.memoizedState,q===null?q=Wd(o):(m=q.cachePool,m!==null?(ue=sr._currentValue,m=m.parent!==ue?{parent:ue,pool:ue}:m):m=X(),q={baseLanes:q.baseLanes|o,cachePool:m}),c.memoizedState=q,c.childLanes=Yd(t,C,o),i.memoizedState=Vd,Xc(t.child,c)):(or(i),o=t.child,t=o.sibling,o=Di(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=o,i.memoizedState=null,o)}function Kd(t,i){return i=nf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function nf(t,i){return t=Gr(22,t,null,i),t.lanes=0,t}function Jd(t,i,o){return Pn(i,t.child,null,o),t=Kd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _1(t,i,o){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Wo(t.return,i,o)}function Xd(t,i,o,c,m,b){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:b}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=o,C.tailMode=m,C.treeForkCount=b)}function x1(t,i,o){var c=i.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var C=ln.current,q=(C&2)!==0;if(q?(C=C&1|2,i.flags|=128):C&=1,z(ln,C),ri(t,i,c,o),c=Qt?Wl:0,!q&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_1(t,o,i);else if(t.tag===19)_1(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)t=o.alternate,t!==null&&Wr(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Xd(i,!1,m,o,b,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&Wr(t)===null){i.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}Xd(i,!0,o,null,b,c);break;case"together":Xd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function go(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),tl|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Os(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Di(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Di(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function Zd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function Fb(t,i,o){switch(i.tag){case 3:oe(i,i.stateNode.containerInfo),Ts(i,sr,t.memoizedState.cache),co();break;case 27:case 5:le(i);break;case 4:oe(i,i.stateNode.containerInfo);break;case 10:Ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wn(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(or(i),i.flags|=128,null):(o&i.child.childLanes)!==0?w1(t,i,o):(or(i),t=go(t,i,o),t!==null?t.sibling:null);or(i);break;case 19:var m=(t.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Os(t,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return x1(t,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),z(ln,ln.current),c)break;return null;case 22:return i.lanes=0,p1(t,i,o,i.pendingProps);case 24:Ts(i,sr,t.memoizedState.cache)}return go(t,i,o)}function S1(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)jr=!0;else{if(!Zd(t,o)&&(i.flags&128)===0)return jr=!1,Fb(t,i,o);jr=(t.flags&131072)!==0}else jr=!1,Qt&&(i.flags&1048576)!==0&&Hh(i,Wl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=Te(i.elementType),i.type=t,typeof t=="function")Ru(t)?(c=Zl(t,c),i.tag=1,i=y1(null,i,t,c,o)):(i.tag=0,i=Gd(null,i,t,c,o));else{if(t!=null){var m=t.$$typeof;if(m===F){i.tag=11,i=h1(null,i,t,c,o);break e}else if(m===ce){i.tag=14,i=f1(null,i,t,c,o);break e}}throw i=re(t)||t,Error(a(306,i,""))}}return i;case 0:return Gd(t,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Zl(c,i.pendingProps),y1(t,i,c,m,o);case 3:e:{if(oe(i,i.stateNode.containerInfo),t===null)throw Error(a(387));c=i.pendingProps;var b=i.memoizedState;m=b.element,Hn(t,i),hr(i,c,null,o);var C=i.memoizedState;if(c=C.cache,Ts(i,sr,c),c!==b.cache&&ho(i,[sr],o,!0),Tn(),c=C.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=b1(t,i,c,o);break e}else if(c!==m){m=Pi(Error(a(424)),i),Vo(m),i=b1(t,i,c,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dn=Da(t.firstChild),Dr=i,Qt=!0,ti=null,Kn=!0,o=Vt(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(co(),c===m){i=go(t,i,o);break e}ri(t,i,c,o)}i=i.child}return i;case 26:return tf(t,i),t===null?(o=Mg(i.type,null,i.pendingProps,null))?i.memoizedState=o:Qt||(o=i.type,t=i.pendingProps,c=bf(ne.current).createElement(o),c[An]=i,c[qn]=t,ii(c,o,t),tr(c),i.stateNode=c):i.memoizedState=Mg(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return le(i),t===null&&Qt&&(c=i.stateNode=Tg(i.type,i.pendingProps,ne.current),Dr=i,Kn=!0,m=Dn,sl(i.type)?(Tp=m,Dn=Da(c.firstChild)):Dn=m),ri(t,i,i.pendingProps.children,o),tf(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qt&&((m=c=Dn)&&(c=yw(c,i.type,i.pendingProps,Kn),c!==null?(i.stateNode=c,Dr=i,Dn=Da(c.firstChild),Kn=!1,m=!0):m=!1),m||Ls(i)),le(i),m=i.type,b=i.pendingProps,C=t!==null?t.memoizedProps:null,c=b.children,Ep(m,b)?c=null:C!==null&&Ep(m,C)&&(i.flags|=32),i.memoizedState!==null&&(m=Fc(t,i,Rd,null,null,o),fh._currentValue=m),tf(t,i),ri(t,i,c,o),i.child;case 6:return t===null&&Qt&&((t=o=Dn)&&(o=bw(o,i.pendingProps,Kn),o!==null?(i.stateNode=o,Dr=i,Dn=null,t=!0):t=!1),t||Ls(i)),null;case 13:return w1(t,i,o);case 4:return oe(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Pn(i,null,c,o):ri(t,i,c,o),i.child;case 11:return h1(t,i,i.type,i.pendingProps,o);case 7:return ri(t,i,i.pendingProps,o),i.child;case 8:return ri(t,i,i.pendingProps.children,o),i.child;case 12:return ri(t,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Ts(i,i.type,c.value),ri(t,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Rs(i),m=Ur(m),c=c(m),i.flags|=1,ri(t,i,c,o),i.child;case 14:return f1(t,i,i.type,i.pendingProps,o);case 15:return d1(t,i,i.type,i.pendingProps,o);case 19:return x1(t,i,o);case 31:return qb(t,i,o);case 22:return p1(t,i,o,i.pendingProps);case 24:return Rs(i),c=Ur(sr),t===null?(m=$(),m===null&&(m=Un,b=Yo(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=o),m=b),i.memoizedState={parent:c,cache:m},rt(i),Ts(i,sr,m)):((t.lanes&o)!==0&&(Hn(t,i),hr(i,null,null,o),Tn()),m=t.memoizedState,b=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Ts(i,sr,c)):(c=b.cache,Ts(i,sr,c),c!==m.cache&&ho(i,[sr],o,!0))),ri(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function vo(t){t.flags|=4}function Qd(t,i,o,c,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(J1())t.flags|=8192;else throw Ie=ve,Re}else t.flags&=-16777217}function A1(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ig(i))if(J1())t.flags|=8192;else throw Ie=ve,Re}function rf(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?un():536870912,t.lanes|=i,ec|=i)}function Zc(t,i){if(!Qt)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Vn(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(i)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=o,i}function Hb(t,i,o){var c=i.pendingProps;switch(Uu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(i),null;case 1:return Vn(i),null;case 3:return o=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),qi(sr),me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Pr(i)?vo(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zc())),Vn(i),null;case 26:var m=i.type,b=i.memoizedState;return t===null?(vo(i),b!==null?(Vn(i),A1(i,b)):(Vn(i),Qd(i,m,null,c,o))):b?b!==t.memoizedState?(vo(i),Vn(i),A1(i,b)):(Vn(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&vo(i),Vn(i),Qd(i,m,t,c,o)),null;case 27:if(_e(i),o=ne.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&vo(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Vn(i),null}t=H.current,Pr(i)?Ic(i):(t=Tg(m,c,o),i.stateNode=t,vo(i))}return Vn(i),null;case 5:if(_e(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&vo(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Vn(i),null}if(b=H.current,Pr(i))Ic(i);else{var C=bf(ne.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?C.createElement(m,{is:c.is}):C.createElement(m)}}b[An]=i,b[qn]=c;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=b;e:switch(ii(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&vo(i)}}return Vn(i),Qd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&vo(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(t=ne.current,Pr(i)){if(t=i.stateNode,o=i.memoizedProps,c=null,m=Dr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[An]=i,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||wg(t.nodeValue,o)),t||Ls(i,!0)}else t=bf(t).createTextNode(c),t[An]=i,i.stateNode=t}return Vn(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(c=Pr(i),o!==null){if(t===null){if(!c)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[An]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vn(i),t=!1}else o=zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Vn(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Pr(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[An]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vn(i),m=!1}else m=zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),rf(i,i.updateQueue),Vn(i),null);case 4:return me(),t===null&&_p(i.stateNode.containerInfo),Vn(i),null;case 10:return qi(i.type),Vn(i),null;case 19:if(j(ln),c=i.memoizedState,c===null)return Vn(i),null;if(m=(i.flags&128)!==0,b=c.rendering,b===null)if(m)Zc(c,!1);else{if(gr!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(b=Wr(t),b!==null){for(i.flags|=128,Zc(c,!1),t=b.updateQueue,i.updateQueue=t,rf(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Gl(o,t),o=o.sibling;return z(ln,ln.current&1|2),Qt&&ji(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&ut()>uf&&(i.flags|=128,m=!0,Zc(c,!1),i.lanes=4194304)}else{if(!m)if(t=Wr(b),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,rf(i,t),Zc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!Qt)return Vn(i),null}else 2*ut()-c.renderingStartTime>uf&&o!==536870912&&(i.flags|=128,m=!0,Zc(c,!1),i.lanes=4194304);c.isBackwards?(b.sibling=i.child,i.child=b):(t=c.last,t!==null?t.sibling=b:i.child=b,c.last=b)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=ut(),t.sibling=null,o=ln.current,z(ln,m?o&1|2:o&1),Qt&&ji(i,c.treeForkCount),t):(Vn(i),null);case 22:case 23:return Nn(i),wr(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Vn(i),i.subtreeFlags&6&&(i.flags|=8192)):Vn(i),o=i.updateQueue,o!==null&&rf(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),t!==null&&j(B),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),qi(sr),Vn(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function $b(t,i){switch(Uu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(sr),me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _e(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(a(340));co()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));co()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(ln),null;case 4:return me(),null;case 10:return qi(i.type),null;case 22:case 23:return Nn(i),wr(),t!==null&&j(B),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(sr),null;case 25:return null;default:return null}}function N1(t,i){switch(Uu(i),i.tag){case 3:qi(sr),me();break;case 26:case 27:case 5:_e(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:j(ln);break;case 10:qi(i.type);break;case 22:case 23:Nn(i),wr(),t!==null&&j(B);break;case 24:qi(sr)}}function Qc(t,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&t)===t){c=void 0;var b=o.create,C=o.inst;c=b(),C.destroy=c}o=o.next}while(o!==m)}}catch(q){jn(i,i.return,q)}}function Qo(t,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&t)===t){var C=c.inst,q=C.destroy;if(q!==void 0){C.destroy=void 0,m=i;var ue=o,De=q;try{De()}catch(He){jn(m,ue,He)}}}c=c.next}while(c!==b)}}catch(He){jn(i,i.return,He)}}function E1(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{fr(i,o)}catch(c){jn(t,t.return,c)}}}function j1(t,i,o){o.props=Zl(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){jn(t,i,c)}}function eh(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(m){jn(t,i,m)}}function Bs(t,i){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){jn(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){jn(t,i,m)}else o.current=null}function k1(t){var i=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){jn(t,t.return,m)}}function ep(t,i,o){try{var c=t.stateNode;fw(c,t.type,o,i),c[qn]=i}catch(m){jn(t,t.return,m)}}function L1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sl(t.type)||t.tag===4}function tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function np(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ia));else if(c!==4&&(c===27&&sl(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(np(t,i,o),t=t.sibling;t!==null;)np(t,i,o),t=t.sibling}function af(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(c!==4&&(c===27&&sl(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(af(t,i,o),t=t.sibling;t!==null;)af(t,i,o),t=t.sibling}function C1(t){var i=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);ii(i,c,o),i[An]=t,i[qn]=o}catch(b){jn(t,t.return,b)}}var yo=!1,kr=!1,rp=!1,T1=typeof WeakSet=="function"?WeakSet:Set,Yr=null;function Gb(t,i){if(t=t.containerInfo,Ap=Ef,t=ts(t),Ca(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var C=0,q=-1,ue=-1,De=0,He=0,Ke=t,Pe=null;t:for(;;){for(var Be;Ke!==o||m!==0&&Ke.nodeType!==3||(q=C+m),Ke!==b||c!==0&&Ke.nodeType!==3||(ue=C+c),Ke.nodeType===3&&(C+=Ke.nodeValue.length),(Be=Ke.firstChild)!==null;)Pe=Ke,Ke=Be;for(;;){if(Ke===t)break t;if(Pe===o&&++De===m&&(q=C),Pe===b&&++He===c&&(ue=C),(Be=Ke.nextSibling)!==null)break;Ke=Pe,Pe=Ke.parentNode}Ke=Be}o=q===-1||ue===-1?null:{start:q,end:ue}}else o=null}o=o||{start:0,end:0}}else o=null;for(Np={focusedElem:t,selectionRange:o},Ef=!1,Yr=i;Yr!==null;)if(i=Yr,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Yr=t;else for(;Yr!==null;){switch(i=Yr,b=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)m=t[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,o=i,m=b.memoizedProps,b=b.memoizedState,c=o.stateNode;try{var vt=Zl(o.type,m);t=c.getSnapshotBeforeUpdate(vt,b),c.__reactInternalSnapshotBeforeUpdate=t}catch(Bt){jn(o,o.return,Bt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)kp(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Yr=t;break}Yr=i.return}}function O1(t,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:wo(t,o),c&4&&Qc(5,o);break;case 1:if(wo(t,o),c&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(C){jn(o,o.return,C)}else{var m=Zl(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){jn(o,o.return,C)}}c&64&&E1(o),c&512&&eh(o,o.return);break;case 3:if(wo(t,o),c&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{fr(t,i)}catch(C){jn(o,o.return,C)}}break;case 27:i===null&&c&4&&C1(o);case 26:case 5:wo(t,o),i===null&&c&4&&k1(o),c&512&&eh(o,o.return);break;case 12:wo(t,o);break;case 31:wo(t,o),c&4&&D1(t,o);break;case 13:wo(t,o),c&4&&P1(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=ew.bind(null,o),ww(t,o))));break;case 22:if(c=o.memoizedState!==null||yo,!c){i=i!==null&&i.memoizedState!==null||kr,m=yo;var b=kr;yo=c,(kr=i)&&!b?_o(t,o,(o.subtreeFlags&8772)!==0):wo(t,o),yo=m,kr=b}break;case 30:break;default:wo(t,o)}}function R1(t){var i=t.alternate;i!==null&&(t.alternate=null,R1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ws(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Zn=null,Hi=!1;function bo(t,i,o){for(o=o.child;o!==null;)M1(t,i,o),o=o.sibling}function M1(t,i,o){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ee,o)}catch{}switch(o.tag){case 26:kr||Bs(o,i),bo(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kr||Bs(o,i);var c=Zn,m=Hi;sl(o.type)&&(Zn=o.stateNode,Hi=!1),bo(t,i,o),uh(o.stateNode),Zn=c,Hi=m;break;case 5:kr||Bs(o,i);case 6:if(c=Zn,m=Hi,Zn=null,bo(t,i,o),Zn=c,Hi=m,Zn!==null)if(Hi)try{(Zn.nodeType===9?Zn.body:Zn.nodeName==="HTML"?Zn.ownerDocument.body:Zn).removeChild(o.stateNode)}catch(b){jn(o,i,b)}else try{Zn.removeChild(o.stateNode)}catch(b){jn(o,i,b)}break;case 18:Zn!==null&&(Hi?(t=Zn,Eg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),lc(t)):Eg(Zn,o.stateNode));break;case 4:c=Zn,m=Hi,Zn=o.stateNode.containerInfo,Hi=!0,bo(t,i,o),Zn=c,Hi=m;break;case 0:case 11:case 14:case 15:Qo(2,o,i),kr||Qo(4,o,i),bo(t,i,o);break;case 1:kr||(Bs(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&j1(o,i,c)),bo(t,i,o);break;case 21:bo(t,i,o);break;case 22:kr=(c=kr)||o.memoizedState!==null,bo(t,i,o),kr=c;break;default:bo(t,i,o)}}function D1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lc(t)}catch(o){jn(i,i.return,o)}}}function P1(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lc(t)}catch(o){jn(i,i.return,o)}}function Vb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new T1),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new T1),i;default:throw Error(a(435,t.tag))}}function sf(t,i){var o=Vb(t);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=tw.bind(null,t,c);c.then(m,m)}})}function $i(t,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],b=t,C=i,q=C;e:for(;q!==null;){switch(q.tag){case 27:if(sl(q.type)){Zn=q.stateNode,Hi=!1;break e}break;case 5:Zn=q.stateNode,Hi=!1;break e;case 3:case 4:Zn=q.stateNode.containerInfo,Hi=!0;break e}q=q.return}if(Zn===null)throw Error(a(160));M1(b,C,m),Zn=null,Hi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)U1(i,t),i=i.sibling}var us=null;function U1(t,i){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$i(i,t),Gi(t),c&4&&(Qo(3,t,t.return),Qc(3,t),Qo(5,t,t.return));break;case 1:$i(i,t),Gi(t),c&512&&(kr||o===null||Bs(o,o.return)),c&64&&yo&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=us;if($i(i,t),Gi(t),c&512&&(kr||o===null||Bs(o,o.return)),c&4){var b=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Qi]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),ii(b,c,o),b[An]=t,tr(b),c=b;break e;case"link":var C=Ug("link","href",m).get(c+(o.href||""));if(C){for(var q=0;q<C.length;q++)if(b=C[q],b.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&b.getAttribute("rel")===(o.rel==null?null:o.rel)&&b.getAttribute("title")===(o.title==null?null:o.title)&&b.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(q,1);break t}}b=m.createElement(c),ii(b,c,o),m.head.appendChild(b);break;case"meta":if(C=Ug("meta","content",m).get(c+(o.content||""))){for(q=0;q<C.length;q++)if(b=C[q],b.getAttribute("content")===(o.content==null?null:""+o.content)&&b.getAttribute("name")===(o.name==null?null:o.name)&&b.getAttribute("property")===(o.property==null?null:o.property)&&b.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&b.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(q,1);break t}}b=m.createElement(c),ii(b,c,o),m.head.appendChild(b);break;default:throw Error(a(468,c))}b[An]=t,tr(b),c=b}t.stateNode=c}else Bg(m,t.type,t.stateNode);else t.stateNode=Pg(m,c,t.memoizedProps);else b!==c?(b===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):b.count--,c===null?Bg(m,t.type,t.stateNode):Pg(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&ep(t,t.memoizedProps,o.memoizedProps)}break;case 27:$i(i,t),Gi(t),c&512&&(kr||o===null||Bs(o,o.return)),o!==null&&c&4&&ep(t,t.memoizedProps,o.memoizedProps);break;case 5:if($i(i,t),Gi(t),c&512&&(kr||o===null||Bs(o,o.return)),t.flags&32){m=t.stateNode;try{wi(m,"")}catch(vt){jn(t,t.return,vt)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,ep(t,m,o!==null?o.memoizedProps:m)),c&1024&&(rp=!0);break;case 6:if($i(i,t),Gi(t),c&4){if(t.stateNode===null)throw Error(a(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(vt){jn(t,t.return,vt)}}break;case 3:if(xf=null,m=us,us=wf(i.containerInfo),$i(i,t),us=m,Gi(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{lc(i.containerInfo)}catch(vt){jn(t,t.return,vt)}rp&&(rp=!1,B1(t));break;case 4:c=us,us=wf(t.stateNode.containerInfo),$i(i,t),Gi(t),us=c;break;case 12:$i(i,t),Gi(t);break;case 31:$i(i,t),Gi(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,sf(t,c)));break;case 13:$i(i,t),Gi(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lf=ut()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,sf(t,c)));break;case 22:m=t.memoizedState!==null;var ue=o!==null&&o.memoizedState!==null,De=yo,He=kr;if(yo=De||m,kr=He||ue,$i(i,t),kr=He,yo=De,Gi(t),c&8192)e:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||ue||yo||kr||Ql(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){ue=o=i;try{if(b=ue.stateNode,m)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{q=ue.stateNode;var Ke=ue.memoizedProps.style,Pe=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;q.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(vt){jn(ue,ue.return,vt)}}}else if(i.tag===6){if(o===null){ue=i;try{ue.stateNode.nodeValue=m?"":ue.memoizedProps}catch(vt){jn(ue,ue.return,vt)}}}else if(i.tag===18){if(o===null){ue=i;try{var Be=ue.stateNode;m?jg(Be,!0):jg(ue.stateNode,!1)}catch(vt){jn(ue,ue.return,vt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,sf(t,o))));break;case 19:$i(i,t),Gi(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,sf(t,c)));break;case 30:break;case 21:break;default:$i(i,t),Gi(t)}}function Gi(t){var i=t.flags;if(i&2){try{for(var o,c=t.return;c!==null;){if(L1(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,b=tp(t);af(t,b,m);break;case 5:var C=o.stateNode;o.flags&32&&(wi(C,""),o.flags&=-33);var q=tp(t);af(t,q,C);break;case 3:case 4:var ue=o.stateNode.containerInfo,De=tp(t);np(t,De,ue);break;default:throw Error(a(161))}}catch(He){jn(t,t.return,He)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function B1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;B1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wo(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)O1(t,i.alternate,i),i=i.sibling}function Ql(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qo(4,i,i.return),Ql(i);break;case 1:Bs(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&j1(i,i.return,o),Ql(i);break;case 27:uh(i.stateNode);case 26:case 5:Bs(i,i.return),Ql(i);break;case 22:i.memoizedState===null&&Ql(i);break;case 30:Ql(i);break;default:Ql(i)}t=t.sibling}}function _o(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=t,b=i,C=b.flags;switch(b.tag){case 0:case 11:case 15:_o(m,b,o),Qc(4,b);break;case 1:if(_o(m,b,o),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(De){jn(c,c.return,De)}if(c=b,m=c.updateQueue,m!==null){var q=c.stateNode;try{var ue=m.shared.hiddenCallbacks;if(ue!==null)for(m.shared.hiddenCallbacks=null,m=0;m<ue.length;m++)Vr(ue[m],q)}catch(De){jn(c,c.return,De)}}o&&C&64&&E1(b),eh(b,b.return);break;case 27:C1(b);case 26:case 5:_o(m,b,o),o&&c===null&&C&4&&k1(b),eh(b,b.return);break;case 12:_o(m,b,o);break;case 31:_o(m,b,o),o&&C&4&&D1(m,b);break;case 13:_o(m,b,o),o&&C&4&&P1(m,b);break;case 22:b.memoizedState===null&&_o(m,b,o),eh(b,b.return);break;case 30:break;default:_o(m,b,o)}i=i.sibling}}function ip(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Yl(o))}function ap(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t))}function cs(t,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I1(t,i,o,c),i=i.sibling}function I1(t,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:cs(t,i,o,c),m&2048&&Qc(9,i);break;case 1:cs(t,i,o,c);break;case 3:cs(t,i,o,c),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t)));break;case 12:if(m&2048){cs(t,i,o,c),t=i.stateNode;try{var b=i.memoizedProps,C=b.id,q=b.onPostCommit;typeof q=="function"&&q(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ue){jn(i,i.return,ue)}}else cs(t,i,o,c);break;case 31:cs(t,i,o,c);break;case 13:cs(t,i,o,c);break;case 23:break;case 22:b=i.stateNode,C=i.alternate,i.memoizedState!==null?b._visibility&2?cs(t,i,o,c):th(t,i):b._visibility&2?cs(t,i,o,c):(b._visibility|=2,Xu(t,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&ip(C,i);break;case 24:cs(t,i,o,c),m&2048&&ap(i.alternate,i);break;default:cs(t,i,o,c)}}function Xu(t,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=t,C=i,q=o,ue=c,De=C.flags;switch(C.tag){case 0:case 11:case 15:Xu(b,C,q,ue,m),Qc(8,C);break;case 23:break;case 22:var He=C.stateNode;C.memoizedState!==null?He._visibility&2?Xu(b,C,q,ue,m):th(b,C):(He._visibility|=2,Xu(b,C,q,ue,m)),m&&De&2048&&ip(C.alternate,C);break;case 24:Xu(b,C,q,ue,m),m&&De&2048&&ap(C.alternate,C);break;default:Xu(b,C,q,ue,m)}i=i.sibling}}function th(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,c=i,m=c.flags;switch(c.tag){case 22:th(o,c),m&2048&&ip(c.alternate,c);break;case 24:th(o,c),m&2048&&ap(c.alternate,c);break;default:th(o,c)}i=i.sibling}}var nh=8192;function Zu(t,i,o){if(t.subtreeFlags&nh)for(t=t.child;t!==null;)z1(t,i,o),t=t.sibling}function z1(t,i,o){switch(t.tag){case 26:Zu(t,i,o),t.flags&nh&&t.memoizedState!==null&&Ow(o,us,t.memoizedState,t.memoizedProps);break;case 5:Zu(t,i,o);break;case 3:case 4:var c=us;us=wf(t.stateNode.containerInfo),Zu(t,i,o),us=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=nh,nh=16777216,Zu(t,i,o),nh=c):Zu(t,i,o));break;default:Zu(t,i,o)}}function q1(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rh(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yr=c,H1(c,t)}q1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)F1(t),t=t.sibling}function F1(t){switch(t.tag){case 0:case 11:case 15:rh(t),t.flags&2048&&Qo(9,t,t.return);break;case 3:rh(t);break;case 12:rh(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,of(t)):rh(t);break;default:rh(t)}}function of(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yr=c,H1(c,t)}q1(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qo(8,i,i.return),of(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,of(i));break;default:of(i)}t=t.sibling}}function H1(t,i){for(;Yr!==null;){var o=Yr;switch(o.tag){case 0:case 11:case 15:Qo(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yr=c;else e:for(o=t;Yr!==null;){c=Yr;var m=c.sibling,b=c.return;if(R1(c),c===o){Yr=null;break e}if(m!==null){m.return=b,Yr=m;break e}Yr=b}}}var Wb={getCacheForType:function(t){var i=Ur(sr),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return Ur(sr).controller.signal}},Yb=typeof WeakMap=="function"?WeakMap:Map,_n=0,Un=null,en=null,rn=0,En=0,ca=null,el=!1,Qu=!1,sp=!1,xo=0,gr=0,tl=0,eu=0,op=0,ha=0,ec=0,ih=null,Vi=null,lp=!1,lf=0,$1=0,uf=1/0,cf=null,nl=null,Ir=0,rl=null,tc=null,So=0,up=0,cp=null,G1=null,ah=0,hp=null;function fa(){return(_n&2)!==0&&rn!==0?rn&-rn:Q.T!==null?vp():Ar()}function V1(){if(ha===0)if((rn&536870912)===0||Qt){var t=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),ha=t}else ha=536870912;return t=Gn.current,t!==null&&(t.flags|=32),ha}function Wi(t,i,o){(t===Un&&(En===2||En===9)||t.cancelPendingCommit!==null)&&(nc(t,0),il(t,rn,ha,!1)),jt(t,o),((_n&2)===0||t!==Un)&&(t===Un&&((_n&2)===0&&(eu|=o),gr===4&&il(t,rn,ha,!1)),Is(t))}function W1(t,i,o){if((_n&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&t.expiredLanes)===0||zt(t,i),m=c?Xb(t,i):dp(t,i,!0),b=c;do{if(m===0){Qu&&!c&&il(t,i,0,!1);break}else{if(o=t.current.alternate,b&&!Kb(o)){m=dp(t,i,!1),b=!1;continue}if(m===2){if(b=i,t.errorRecoveryDisabledLanes&b)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var q=t;m=ih;var ue=q.current.memoizedState.isDehydrated;if(ue&&(nc(q,C).flags|=256),C=dp(q,C,!1),C!==2){if(sp&&!ue){q.errorRecoveryDisabledLanes|=b,eu|=b,m=4;break e}b=Vi,Vi=m,b!==null&&(Vi===null?Vi=b:Vi.push.apply(Vi,b))}m=C}if(b=!1,m!==2)continue}}if(m===1){nc(t,0),il(t,i,0,!0);break}e:{switch(c=t,b=m,b){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:il(c,i,ha,!el);break e;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=lf+300-ut(),10<m)){if(il(c,i,ha,!el),Mt(c,0,!0)!==0)break e;So=i,c.timeoutHandle=Ag(Y1.bind(null,c,o,Vi,cf,lp,i,ha,eu,ec,el,b,"Throttled",-0,0),m);break e}Y1(c,o,Vi,cf,lp,i,ha,eu,ec,el,b,null,-0,0)}}break}while(!0);Is(t)}function Y1(t,i,o,c,m,b,C,q,ue,De,He,Ke,Pe,Be){if(t.timeoutHandle=-1,Ke=i.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ia},z1(i,b,Ke);var vt=(b&62914560)===b?lf-ut():(b&4194048)===b?$1-ut():0;if(vt=Rw(Ke,vt),vt!==null){So=b,t.cancelPendingCommit=vt(ng.bind(null,t,i,b,o,c,m,C,q,ue,He,Ke,null,Pe,Be)),il(t,b,C,!De);return}}ng(t,i,b,o,c,m,C,q,ue)}function Kb(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],b=m.getSnapshot;m=m.value;try{if(!Rr(b(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function il(t,i,o,c){i&=~op,i&=~eu,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var m=i;0<m;){var b=31-tt(m),C=1<<b;c[b]=-1,m&=~C}o!==0&&ya(t,o,i)}function hf(){return(_n&6)===0?(sh(0),!1):!0}function fp(){if(en!==null){if(En===0)var t=en.return;else t=en,Oa=Cs=null,$u(t),Je=null,yt=0,t=en;for(;t!==null;)N1(t.alternate,t),t=t.return;en=null}}function nc(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,mw(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),So=0,fp(),Un=t,en=o=Di(t.current,null),rn=i,En=0,ca=null,el=!1,Qu=zt(t,i),sp=!1,ec=ha=op=eu=tl=gr=0,Vi=ih=null,lp=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var m=31-tt(c),b=1<<m;i|=t[m],c&=~b}return xo=i,Fl(),o}function K1(t,i){Lt=null,Q.H=Jc,i===pe||i===J?(i=Ge(),En=3):i===Re?(i=Ge(),En=4):En=i===$d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ca=i,en===null&&(gr=1,Qh(t,Pi(i,t.current)))}function J1(){var t=Gn.current;return t===null?!0:(rn&4194048)===rn?hn===null:(rn&62914560)===rn||(rn&536870912)!==0?t===hn:!1}function X1(){var t=Q.H;return Q.H=Jc,t===null?Jc:t}function Z1(){var t=Q.A;return Q.A=Wb,t}function ff(){gr=4,el||(rn&4194048)!==rn&&Gn.current!==null||(Qu=!0),(tl&134217727)===0&&(eu&134217727)===0||Un===null||il(Un,rn,ha,!1)}function dp(t,i,o){var c=_n;_n|=2;var m=X1(),b=Z1();(Un!==t||rn!==i)&&(cf=null,nc(t,i)),i=!1;var C=gr;e:do try{if(En!==0&&en!==null){var q=en,ue=ca;switch(En){case 8:fp(),C=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var De=En;if(En=0,ca=null,rc(t,q,ue,De),o&&Qu){C=0;break e}break;default:De=En,En=0,ca=null,rc(t,q,ue,De)}}Jb(),C=gr;break}catch(He){K1(t,He)}while(!0);return i&&t.shellSuspendCounter++,Oa=Cs=null,_n=c,Q.H=m,Q.A=b,en===null&&(Un=null,rn=0,Fl()),C}function Jb(){for(;en!==null;)Q1(en)}function Xb(t,i){var o=_n;_n|=2;var c=X1(),m=Z1();Un!==t||rn!==i?(cf=null,uf=ut()+500,nc(t,i)):Qu=zt(t,i);e:do try{if(En!==0&&en!==null){i=en;var b=ca;t:switch(En){case 1:En=0,ca=null,rc(t,i,b,1);break;case 2:case 9:if(Le(b)){En=0,ca=null,eg(i);break}i=function(){En!==2&&En!==9||Un!==t||(En=7),Is(t)},b.then(i,i);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:Le(b)?(En=0,ca=null,eg(i)):(En=0,ca=null,rc(t,i,b,7));break;case 5:var C=null;switch(en.tag){case 26:C=en.memoizedState;case 5:case 27:var q=en;if(C?Ig(C):q.stateNode.complete){En=0,ca=null;var ue=q.sibling;if(ue!==null)en=ue;else{var De=q.return;De!==null?(en=De,df(De)):en=null}break t}}En=0,ca=null,rc(t,i,b,5);break;case 6:En=0,ca=null,rc(t,i,b,6);break;case 8:fp(),gr=6;break e;default:throw Error(a(462))}}Zb();break}catch(He){K1(t,He)}while(!0);return Oa=Cs=null,Q.H=c,Q.A=m,_n=o,en!==null?0:(Un=null,rn=0,Fl(),gr)}function Zb(){for(;en!==null&&!nt();)Q1(en)}function Q1(t){var i=S1(t.alternate,t,xo);t.memoizedProps=t.pendingProps,i===null?df(t):en=i}function eg(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=v1(o,i,i.pendingProps,i.type,void 0,rn);break;case 11:i=v1(o,i,i.pendingProps,i.type.render,i.ref,rn);break;case 5:$u(i);default:N1(o,i),i=en=Gl(i,xo),i=S1(o,i,xo)}t.memoizedProps=t.pendingProps,i===null?df(t):en=i}function rc(t,i,o,c){Oa=Cs=null,$u(i),Je=null,yt=0;var m=i.return;try{if(zb(t,m,i,o,rn)){gr=1,Qh(t,Pi(o,t.current)),en=null;return}}catch(b){if(m!==null)throw en=m,b;gr=1,Qh(t,Pi(o,t.current)),en=null;return}i.flags&32768?(Qt||c===1?t=!0:Qu||(rn&536870912)!==0?t=!1:(el=t=!0,(c===2||c===9||c===3||c===6)&&(c=Gn.current,c!==null&&c.tag===13&&(c.flags|=16384))),tg(i,t)):df(i)}function df(t){var i=t;do{if((i.flags&32768)!==0){tg(i,el);return}t=i.return;var o=Hb(i.alternate,i,xo);if(o!==null){en=o;return}if(i=i.sibling,i!==null){en=i;return}en=i=t}while(i!==null);gr===0&&(gr=5)}function tg(t,i){do{var o=$b(t.alternate,t);if(o!==null){o.flags&=32767,en=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){en=t;return}en=t=o}while(t!==null);gr=6,en=null}function ng(t,i,o,c,m,b,C,q,ue){t.cancelPendingCommit=null;do pf();while(Ir!==0);if((_n&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(b=i.lanes|i.childLanes,b|=Cu,Xi(t,o,b,C,q,ue),t===Un&&(en=Un=null,rn=0),tc=i,rl=t,So=o,up=b,cp=m,G1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nw(xt,function(){return og(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,m=he.p,he.p=2,C=_n,_n|=4;try{Gb(t,i,o)}finally{_n=C,he.p=m,Q.T=c}}Ir=1,rg(),ig(),ag()}}function rg(){if(Ir===1){Ir=0;var t=rl,i=tc,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=he.p;he.p=2;var m=_n;_n|=4;try{U1(i,t);var b=Np,C=ts(t.containerInfo),q=b.focusedElem,ue=b.selectionRange;if(C!==q&&q&&q.ownerDocument&&es(q.ownerDocument.documentElement,q)){if(ue!==null&&Ca(q)){var De=ue.start,He=ue.end;if(He===void 0&&(He=De),"selectionStart"in q)q.selectionStart=De,q.selectionEnd=Math.min(He,q.value.length);else{var Ke=q.ownerDocument||document,Pe=Ke&&Ke.defaultView||window;if(Pe.getSelection){var Be=Pe.getSelection(),vt=q.textContent.length,Bt=Math.min(ue.start,vt),Mn=ue.end===void 0?Bt:Math.min(ue.end,vt);!Be.extend&&Bt>Mn&&(C=Mn,Mn=Bt,Bt=C);var Ne=Fo(q,Bt),ge=Fo(q,Mn);if(Ne&&ge&&(Be.rangeCount!==1||Be.anchorNode!==Ne.node||Be.anchorOffset!==Ne.offset||Be.focusNode!==ge.node||Be.focusOffset!==ge.offset)){var Me=Ke.createRange();Me.setStart(Ne.node,Ne.offset),Be.removeAllRanges(),Bt>Mn?(Be.addRange(Me),Be.extend(ge.node,ge.offset)):(Me.setEnd(ge.node,ge.offset),Be.addRange(Me))}}}}for(Ke=[],Be=q;Be=Be.parentNode;)Be.nodeType===1&&Ke.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ke.length;q++){var Ve=Ke[q];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Ef=!!Ap,Np=Ap=null}finally{_n=m,he.p=c,Q.T=o}}t.current=i,Ir=2}}function ig(){if(Ir===2){Ir=0;var t=rl,i=tc,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=he.p;he.p=2;var m=_n;_n|=4;try{O1(t,i.alternate,i)}finally{_n=m,he.p=c,Q.T=o}}Ir=3}}function ag(){if(Ir===4||Ir===3){Ir=0,et();var t=rl,i=tc,o=So,c=G1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ir=5:(Ir=0,tc=rl=null,sg(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(nl=null),ur(o),i=i.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ee,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Q.T,m=he.p,he.p=2,Q.T=null;try{for(var b=t.onRecoverableError,C=0;C<c.length;C++){var q=c[C];b(q.value,{componentStack:q.stack})}}finally{Q.T=i,he.p=m}}(So&3)!==0&&pf(),Is(t),m=t.pendingLanes,(o&261930)!==0&&(m&42)!==0?t===hp?ah++:(ah=0,hp=t):ah=0,sh(0)}}function sg(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yl(i)))}function pf(){return rg(),ig(),ag(),og()}function og(){if(Ir!==5)return!1;var t=rl,i=up;up=0;var o=ur(So),c=Q.T,m=he.p;try{he.p=32>o?32:o,Q.T=null,o=cp,cp=null;var b=rl,C=So;if(Ir=0,tc=rl=null,So=0,(_n&6)!==0)throw Error(a(331));var q=_n;if(_n|=4,F1(b.current),I1(b,b.current,C,o),_n=q,sh(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ee,b)}catch{}return!0}finally{he.p=m,Q.T=c,sg(t,i)}}function lg(t,i,o){i=Pi(o,i),i=Hd(t.stateNode,i,2),t=Kt(t,i,2),t!==null&&(jt(t,2),Is(t))}function jn(t,i,o){if(t.tag===3)lg(t,t,o);else for(;i!==null;){if(i.tag===3){lg(i,t,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(nl===null||!nl.has(c))){t=Pi(o,t),o=u1(2),c=Kt(i,o,2),c!==null&&(c1(o,c,i,t),jt(c,2),Is(c));break}}i=i.return}}function pp(t,i,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Yb;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(sp=!0,m.add(o),t=Qb.bind(null,t,i,o),i.then(t,t))}function Qb(t,i,o){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Un===t&&(rn&o)===o&&(gr===4||gr===3&&(rn&62914560)===rn&&300>ut()-lf?(_n&2)===0&&nc(t,0):op|=o,ec===rn&&(ec=0)),Is(t)}function ug(t,i){i===0&&(i=un()),t=rs(t,i),t!==null&&(jt(t,i),Is(t))}function ew(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),ug(t,o)}function tw(t,i){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),ug(t,o)}function nw(t,i){return Ye(t,i)}var mf=null,ic=null,mp=!1,gf=!1,gp=!1,al=0;function Is(t){t!==ic&&t.next===null&&(ic===null?mf=ic=t:ic=ic.next=t),gf=!0,mp||(mp=!0,iw())}function sh(t,i){if(!gp&&gf){gp=!0;do for(var o=!1,c=mf;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var C=c.suspendedLanes,q=c.pingedLanes;b=(1<<31-tt(42|t)+1)-1,b&=m&~(C&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(o=!0,dg(c,b))}else b=rn,b=Mt(c,c===Un?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||zt(c,b)||(o=!0,dg(c,b));c=c.next}while(o);gp=!1}}function rw(){cg()}function cg(){gf=mp=!1;var t=0;al!==0&&pw()&&(t=al);for(var i=ut(),o=null,c=mf;c!==null;){var m=c.next,b=hg(c,i);b===0?(c.next=null,o===null?mf=m:o.next=m,m===null&&(ic=o)):(o=c,(t!==0||(b&3)!==0)&&(gf=!0)),c=m}Ir!==0&&Ir!==5||sh(t),al!==0&&(al=0)}function hg(t,i){for(var o=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var C=31-tt(b),q=1<<C,ue=m[C];ue===-1?((q&o)===0||(q&c)!==0)&&(m[C]=nn(q,i)):ue<=i&&(t.expiredLanes|=q),b&=~q}if(i=Un,o=rn,o=Mt(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===i&&(En===2||En===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||zt(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(c!==null&&We(c),ur(o)){case 2:case 8:o=Ut;break;case 32:o=xt;break;case 268435456:o=ot;break;default:o=xt}return c=fg.bind(null,t),o=Ye(o,c),t.callbackPriority=i,t.callbackNode=o,i}return c!==null&&c!==null&&We(c),t.callbackPriority=2,t.callbackNode=null,2}function fg(t,i){if(Ir!==0&&Ir!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(pf()&&t.callbackNode!==o)return null;var c=rn;return c=Mt(t,t===Un?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(W1(t,c,i),hg(t,ut()),t.callbackNode!=null&&t.callbackNode===o?fg.bind(null,t):null)}function dg(t,i){if(pf())return null;W1(t,i,!0)}function iw(){gw(function(){(_n&6)!==0?Ye(at,rw):cg()})}function vp(){if(al===0){var t=d;t===0&&(t=Tt,Tt<<=1,(Tt&261888)===0&&(Tt=256)),al=t}return al}function pg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function mg(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function aw(t,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var b=pg((m[qn]||null).action),C=c.submitter;C&&(i=(i=C[qn]||null)?pg(i.formAction):C.getAttribute("formAction"),i!==null&&(b=i,C=null));var q=new xa("action","action",null,c,m);t.push({event:q,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(al!==0){var ue=C?mg(m,C):new FormData(m);Ud(o,{pending:!0,data:ue,method:m.method,action:b},null,ue)}}else typeof b=="function"&&(q.preventDefault(),ue=C?mg(m,C):new FormData(m),Ud(o,{pending:!0,data:ue,method:m.method,action:b},b,ue))},currentTarget:m}]})}}for(var yp=0;yp<oo.length;yp++){var bp=oo[yp],sw=bp.toLowerCase(),ow=bp[0].toUpperCase()+bp.slice(1);Mi(sw,"on"+ow)}Mi(so,"onAnimationEnd"),Mi(zl,"onAnimationIteration"),Mi(Dc,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(zh,"onTransitionRun"),Mi(qh,"onTransitionStart"),Mi(Fh,"onTransitionCancel"),Mi(Pc,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),na("onBeforeInput",["compositionend","keypress","textInput","paste"]),na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oh));function gg(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],m=c.event;c=c.listeners;e:{var b=void 0;if(i)for(var C=c.length-1;0<=C;C--){var q=c[C],ue=q.instance,De=q.currentTarget;if(q=q.listener,ue!==b&&m.isPropagationStopped())break e;b=q,m.currentTarget=De;try{b(m)}catch(He){ql(He)}m.currentTarget=null,b=ue}else for(C=0;C<c.length;C++){if(q=c[C],ue=q.instance,De=q.currentTarget,q=q.listener,ue!==b&&m.isPropagationStopped())break e;b=q,m.currentTarget=De;try{b(m)}catch(He){ql(He)}m.currentTarget=null,b=ue}}}}function tn(t,i){var o=i[yi];o===void 0&&(o=i[yi]=new Set);var c=t+"__bubble";o.has(c)||(vg(i,t,2,!1),o.add(c))}function wp(t,i,o){var c=0;i&&(c|=4),vg(o,t,c,i)}var vf="_reactListening"+Math.random().toString(36).slice(2);function _p(t){if(!t[vf]){t[vf]=!0,Al.forEach(function(o){o!=="selectionchange"&&(lw.has(o)||wp(o,!1,t),wp(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vf]||(i[vf]=!0,wp("selectionchange",!1,i))}}function vg(t,i,o,c){switch(Vg(i)){case 2:var m=Pw;break;case 8:m=Uw;break;default:m=Pp}o=m.bind(null,i,o,t),m=void 0,!Ul||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(i,o,{capture:!0,passive:m}):t.addEventListener(i,o,!0):m!==void 0?t.addEventListener(i,o,{passive:m}):t.addEventListener(i,o,!1)}function xp(t,i,o,c,m){var b=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var q=c.stateNode.containerInfo;if(q===m)break;if(C===4)for(C=c.return;C!==null;){var ue=C.tag;if((ue===3||ue===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;q!==null;){if(C=ea(q),C===null)return;if(ue=C.tag,ue===5||ue===6||ue===26||ue===27){c=b=C;continue e}q=q.parentNode}}c=c.return}Au(function(){var De=b,He=Xs(o),Ke=[];e:{var Pe=Uc.get(t);if(Pe!==void 0){var Be=xa,vt=t;switch(t){case"keypress":if(Ga(o)===0)break e;case"keydown":case"keyup":Be=pn;break;case"focusin":vt="focus",Be=Ka;break;case"focusout":vt="blur",Be=Ka;break;case"beforeblur":case"afterblur":Be=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Sa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=yr;break;case so:case zl:case Dc:Be=x;break;case Pc:Be=Tr;break;case"scroll":case"scrollend":Be=Do;break;case"wheel":Be=oi;break;case"copy":case"cut":case"paste":Be=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=rr;break;case"toggle":case"beforetoggle":Be=Po}var Bt=(i&4)!==0,Mn=!Bt&&(t==="scroll"||t==="scrollend"),Ne=Bt?Pe!==null?Pe+"Capture":null:Pe;Bt=[];for(var ge=De,Me;ge!==null;){var Ve=ge;if(Me=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Me===null||Ne===null||(Ve=_i(ge,Ne),Ve!=null&&Bt.push(lh(ge,Ve,Me))),Mn)break;ge=ge.return}0<Bt.length&&(Pe=new Be(Pe,vt,null,o,He),Ke.push({event:Pe,listeners:Bt}))}}if((i&7)===0){e:{if(Pe=t==="mouseover"||t==="pointerover",Be=t==="mouseout"||t==="pointerout",Pe&&o!==$a&&(vt=o.relatedTarget||o.fromElement)&&(ea(vt)||vt[qr]))break e;if((Be||Pe)&&(Pe=He.window===He?He:(Pe=He.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Be?(vt=o.relatedTarget||o.toElement,Be=De,vt=vt?ea(vt):null,vt!==null&&(Mn=l(vt),Bt=vt.tag,vt!==Mn||Bt!==5&&Bt!==27&&Bt!==6)&&(vt=null)):(Be=null,vt=De),Be!==vt)){if(Bt=Sa,Ve="onMouseLeave",Ne="onMouseEnter",ge="mouse",(t==="pointerout"||t==="pointerover")&&(Bt=rr,Ve="onPointerLeave",Ne="onPointerEnter",ge="pointer"),Mn=Be==null?Pe:Ks(Be),Me=vt==null?Pe:Ks(vt),Pe=new Bt(Ve,ge+"leave",Be,o,He),Pe.target=Mn,Pe.relatedTarget=Me,Ve=null,ea(He)===De&&(Bt=new Bt(Ne,ge+"enter",vt,o,He),Bt.target=Me,Bt.relatedTarget=Mn,Ve=Bt),Mn=Ve,Be&&vt)t:{for(Bt=uw,Ne=Be,ge=vt,Me=0,Ve=Ne;Ve;Ve=Bt(Ve))Me++;Ve=0;for(var Rt=ge;Rt;Rt=Bt(Rt))Ve++;for(;0<Me-Ve;)Ne=Bt(Ne),Me--;for(;0<Ve-Me;)ge=Bt(ge),Ve--;for(;Me--;){if(Ne===ge||ge!==null&&Ne===ge.alternate){Bt=Ne;break t}Ne=Bt(Ne),ge=Bt(ge)}Bt=null}else Bt=null;Be!==null&&yg(Ke,Pe,Be,Bt,!1),vt!==null&&Mn!==null&&yg(Ke,Mn,vt,Bt,!0)}}e:{if(Pe=De?Ks(De):window,Be=Pe.nodeName&&Pe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Pe.type==="file")var vn=Es;else if(Bl(Pe))if(li)vn=ka;else{vn=ir;var Nt=zo}else Be=Pe.nodeName,!Be||Be.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?De&&Ml(De.elementType)&&(vn=Es):vn=Lu;if(vn&&(vn=vn(t,De))){Ai(Ke,vn,o,He);break e}Nt&&Nt(t,Pe,De),t==="focusout"&&De&&Pe.type==="number"&&De.memoizedProps.value!=null&&Cl(Pe,"number",Pe.value)}switch(Nt=De?Ks(De):window,t){case"focusin":(Bl(Nt)||Nt.contentEditable==="true")&&(Ni=Nt,ns=De,Hr=null);break;case"focusout":Hr=ns=Ni=null;break;case"mousedown":Ri=!0;break;case"contextmenu":case"mouseup":case"dragend":Ri=!1,mn(Ke,o,He);break;case"selectionchange":if(ao)break;case"keydown":case"keyup":mn(Ke,o,He)}var Jt;if(Aa)e:{switch(t){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else Na?Ns(t,o)&&(an="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(an="onCompositionStart");an&&(Ss&&o.locale!=="ko"&&(Na||an!=="onCompositionStart"?an==="onCompositionEnd"&&Na&&(Jt=eo()):(xi=He,Qs="value"in xi?xi.value:xi.textContent,Na=!0)),Nt=yf(De,an),0<Nt.length&&(an=new Ae(an,t,null,o,He),Ke.push({event:an,listeners:Nt}),Jt?an.data=Jt:(Jt=Uo(o),Jt!==null&&(an.data=Jt)))),(Jt=io?Yn(t,o):Ja(t,o))&&(an=yf(De,"onBeforeInput"),0<an.length&&(Nt=new Ae("onBeforeInput","beforeinput",null,o,He),Ke.push({event:Nt,listeners:an}),Nt.data=Jt)),aw(Ke,t,De,o,He)}gg(Ke,i)})}function lh(t,i,o){return{instance:t,listener:i,currentTarget:o}}function yf(t,i){for(var o=i+"Capture",c=[];t!==null;){var m=t,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=_i(t,o),m!=null&&c.unshift(lh(t,m,b)),m=_i(t,i),m!=null&&c.push(lh(t,m,b))),t.tag===3)return c;t=t.return}return[]}function uw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yg(t,i,o,c,m){for(var b=i._reactName,C=[];o!==null&&o!==c;){var q=o,ue=q.alternate,De=q.stateNode;if(q=q.tag,ue!==null&&ue===c)break;q!==5&&q!==26&&q!==27||De===null||(ue=De,m?(De=_i(o,b),De!=null&&C.unshift(lh(o,De,ue))):m||(De=_i(o,b),De!=null&&C.push(lh(o,De,ue)))),o=o.return}C.length!==0&&t.push({event:i,listeners:C})}var cw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function bg(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(hw,"")}function wg(t,i){return i=bg(i),bg(t)===i}function Rn(t,i,o,c,m,b){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||wi(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&wi(t,""+c);break;case"className":Oo(t,"class",c);break;case"tabIndex":Oo(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(t,o,c);break;case"style":xu(t,c,b);break;case"data":if(i!=="object"){Oo(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=ra(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(o==="formAction"?(i!=="input"&&Rn(t,i,"name",m.name,m,null),Rn(t,i,"formEncType",m.formEncType,m,null),Rn(t,i,"formMethod",m.formMethod,m,null),Rn(t,i,"formTarget",m.formTarget,m,null)):(Rn(t,i,"encType",m.encType,m,null),Rn(t,i,"method",m.method,m,null),Rn(t,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=ra(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=ia);break;case"onScroll":c!=null&&tn("scroll",t);break;case"onScrollEnd":c!=null&&tn("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=ra(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":tn("beforetoggle",t),tn("toggle",t),qa(t,"popover",c);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":qa(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dl.get(o)||o,qa(t,o,c))}}function Sp(t,i,o,c,m,b){switch(o){case"style":xu(t,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof c=="string"?wi(t,c):(typeof c=="number"||typeof c=="bigint")&&wi(t,""+c);break;case"onScroll":c!=null&&tn("scroll",t);break;case"onScrollEnd":c!=null&&tn("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ia);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),b=t[qn]||null,b=b!=null?b[o]:null,typeof b=="function"&&t.removeEventListener(i,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,c,m);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):qa(t,o,c)}}}function ii(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tn("error",t),tn("load",t);var c=!1,m=!1,b;for(b in o)if(o.hasOwnProperty(b)){var C=o[b];if(C!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Rn(t,i,b,C,o,null)}}m&&Rn(t,i,"srcSet",o.srcSet,o,null),c&&Rn(t,i,"src",o.src,o,null);return;case"input":tn("invalid",t);var q=b=C=m=null,ue=null,De=null;for(c in o)if(o.hasOwnProperty(c)){var He=o[c];if(He!=null)switch(c){case"name":m=He;break;case"type":C=He;break;case"checked":ue=He;break;case"defaultChecked":De=He;break;case"value":b=He;break;case"defaultValue":q=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(a(137,i));break;default:Rn(t,i,c,He,o,null)}}wu(t,b,q,ue,De,C,m,!1);return;case"select":tn("invalid",t),c=C=b=null;for(m in o)if(o.hasOwnProperty(m)&&(q=o[m],q!=null))switch(m){case"value":b=q;break;case"defaultValue":C=q;break;case"multiple":c=q;default:Rn(t,i,m,q,o,null)}i=b,o=C,t.multiple=!!c,i!=null?Qr(t,!!c,i,!1):o!=null&&Qr(t,!!c,o,!0);return;case"textarea":tn("invalid",t),b=m=c=null;for(C in o)if(o.hasOwnProperty(C)&&(q=o[C],q!=null))switch(C){case"value":c=q;break;case"defaultValue":m=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(91));break;default:Rn(t,i,C,q,o,null)}Ol(t,c,m,b);return;case"option":for(ue in o)if(o.hasOwnProperty(ue)&&(c=o[ue],c!=null))switch(ue){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Rn(t,i,ue,c,o,null)}return;case"dialog":tn("beforetoggle",t),tn("toggle",t),tn("cancel",t),tn("close",t);break;case"iframe":case"object":tn("load",t);break;case"video":case"audio":for(c=0;c<oh.length;c++)tn(oh[c],t);break;case"image":tn("error",t),tn("load",t);break;case"details":tn("toggle",t);break;case"embed":case"source":case"link":tn("error",t),tn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in o)if(o.hasOwnProperty(De)&&(c=o[De],c!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Rn(t,i,De,c,o,null)}return;default:if(Ml(i)){for(He in o)o.hasOwnProperty(He)&&(c=o[He],c!==void 0&&Sp(t,i,He,c,o,void 0));return}}for(q in o)o.hasOwnProperty(q)&&(c=o[q],c!=null&&Rn(t,i,q,c,o,null))}function fw(t,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,C=null,q=null,ue=null,De=null,He=null;for(Be in o){var Ke=o[Be];if(o.hasOwnProperty(Be)&&Ke!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ue=Ke;default:c.hasOwnProperty(Be)||Rn(t,i,Be,null,c,Ke)}}for(var Pe in c){var Be=c[Pe];if(Ke=o[Pe],c.hasOwnProperty(Pe)&&(Be!=null||Ke!=null))switch(Pe){case"type":b=Be;break;case"name":m=Be;break;case"checked":De=Be;break;case"defaultChecked":He=Be;break;case"value":C=Be;break;case"defaultValue":q=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(a(137,i));break;default:Be!==Ke&&Rn(t,i,Pe,Be,c,Ke)}}Ll(t,C,q,ue,De,He,b,m);return;case"select":Be=C=q=Pe=null;for(b in o)if(ue=o[b],o.hasOwnProperty(b)&&ue!=null)switch(b){case"value":break;case"multiple":Be=ue;default:c.hasOwnProperty(b)||Rn(t,i,b,null,c,ue)}for(m in c)if(b=c[m],ue=o[m],c.hasOwnProperty(m)&&(b!=null||ue!=null))switch(m){case"value":Pe=b;break;case"defaultValue":q=b;break;case"multiple":C=b;default:b!==ue&&Rn(t,i,m,b,c,ue)}i=q,o=C,c=Be,Pe!=null?Qr(t,!!o,Pe,!1):!!c!=!!o&&(i!=null?Qr(t,!!o,i,!0):Qr(t,!!o,o?[]:"",!1));return;case"textarea":Be=Pe=null;for(q in o)if(m=o[q],o.hasOwnProperty(q)&&m!=null&&!c.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Rn(t,i,q,null,c,m)}for(C in c)if(m=c[C],b=o[C],c.hasOwnProperty(C)&&(m!=null||b!=null))switch(C){case"value":Pe=m;break;case"defaultValue":Be=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==b&&Rn(t,i,C,m,c,b)}Tl(t,Pe,Be);return;case"option":for(var vt in o)if(Pe=o[vt],o.hasOwnProperty(vt)&&Pe!=null&&!c.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Rn(t,i,vt,null,c,Pe)}for(ue in c)if(Pe=c[ue],Be=o[ue],c.hasOwnProperty(ue)&&Pe!==Be&&(Pe!=null||Be!=null))switch(ue){case"selected":t.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:Rn(t,i,ue,Pe,c,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in o)Pe=o[Bt],o.hasOwnProperty(Bt)&&Pe!=null&&!c.hasOwnProperty(Bt)&&Rn(t,i,Bt,null,c,Pe);for(De in c)if(Pe=c[De],Be=o[De],c.hasOwnProperty(De)&&Pe!==Be&&(Pe!=null||Be!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(a(137,i));break;default:Rn(t,i,De,Pe,c,Be)}return;default:if(Ml(i)){for(var Mn in o)Pe=o[Mn],o.hasOwnProperty(Mn)&&Pe!==void 0&&!c.hasOwnProperty(Mn)&&Sp(t,i,Mn,void 0,c,Pe);for(He in c)Pe=c[He],Be=o[He],!c.hasOwnProperty(He)||Pe===Be||Pe===void 0&&Be===void 0||Sp(t,i,He,Pe,c,Be);return}}for(var Ne in o)Pe=o[Ne],o.hasOwnProperty(Ne)&&Pe!=null&&!c.hasOwnProperty(Ne)&&Rn(t,i,Ne,null,c,Pe);for(Ke in c)Pe=c[Ke],Be=o[Ke],!c.hasOwnProperty(Ke)||Pe===Be||Pe==null&&Be==null||Rn(t,i,Ke,Pe,c,Be)}function _g(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],b=m.transferSize,C=m.initiatorType,q=m.duration;if(b&&q&&_g(C)){for(C=0,q=m.responseEnd,c+=1;c<o.length;c++){var ue=o[c],De=ue.startTime;if(De>q)break;var He=ue.transferSize,Ke=ue.initiatorType;He&&_g(Ke)&&(ue=ue.responseEnd,C+=He*(ue<q?1:(q-De)/(ue-De)))}if(--c,i+=8*(b+C)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ap=null,Np=null;function bf(t){return t.nodeType===9?t:t.ownerDocument}function xg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ep(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jp=null;function pw(){var t=window.event;return t&&t.type==="popstate"?t===jp?!1:(jp=t,!0):(jp=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(t){return Ng.resolve(null).then(t).catch(vw)}:Ag;function vw(t){setTimeout(function(){throw t})}function sl(t){return t==="head"}function Eg(t,i){var o=i,c=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(m),lc(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")uh(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,uh(o);for(var b=o.firstChild;b;){var C=b.nextSibling,q=b.nodeName;b[Qi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=C}}else o==="body"&&uh(t.ownerDocument.body);o=m}while(o);lc(i)}function jg(t,i){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function kp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kp(o),ws(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function yw(t,i,o,c){for(;t.nodeType===1;){var m=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Qi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=Da(t.nextSibling),t===null)break}return null}function bw(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Da(t.nextSibling),t===null))return null;return t}function kg(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Da(t.nextSibling),t===null))return null;return t}function Lp(t){return t.data==="$?"||t.data==="$~"}function Cp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ww(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Da(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Tp=null;function Lg(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return Da(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function Cg(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function Tg(t,i,o){switch(i=bf(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uh(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ws(t)}var Pa=new Map,Og=new Set;function wf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ao=he.d;he.d={f:_w,r:xw,D:Sw,C:Aw,L:Nw,m:Ew,X:kw,S:jw,M:Lw};function _w(){var t=Ao.f(),i=hf();return t||i}function xw(t){var i=ta(t);i!==null&&i.tag===5&&i.type==="form"?Km(i):Ao.r(t)}var ac=typeof document>"u"?null:document;function Rg(t,i,o){var c=ac;if(c&&typeof i=="string"&&i){var m=Fr(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Og.has(m)||(Og.add(m),t={rel:t,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),ii(i,"link",t),tr(i),c.head.appendChild(i)))}}function Sw(t){Ao.D(t),Rg("dns-prefetch",t,null)}function Aw(t,i){Ao.C(t,i),Rg("preconnect",t,i)}function Nw(t,i,o){Ao.L(t,i,o);var c=ac;if(c&&t&&i){var m='link[rel="preload"][as="'+Fr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Fr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Fr(o.imageSizes)+'"]')):m+='[href="'+Fr(t)+'"]';var b=m;switch(i){case"style":b=sc(t);break;case"script":b=oc(t)}Pa.has(b)||(t=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),Pa.set(b,t),c.querySelector(m)!==null||i==="style"&&c.querySelector(ch(b))||i==="script"&&c.querySelector(hh(b))||(i=c.createElement("link"),ii(i,"link",t),tr(i),c.head.appendChild(i)))}}function Ew(t,i){Ao.m(t,i);var o=ac;if(o&&t){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Fr(c)+'"][href="'+Fr(t)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=oc(t)}if(!Pa.has(b)&&(t=_({rel:"modulepreload",href:t},i),Pa.set(b,t),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(hh(b)))return}c=o.createElement("link"),ii(c,"link",t),tr(c),o.head.appendChild(c)}}}function jw(t,i,o){Ao.S(t,i,o);var c=ac;if(c&&t){var m=ba(c).hoistableStyles,b=sc(t);i=i||"default";var C=m.get(b);if(!C){var q={loading:0,preload:null};if(C=c.querySelector(ch(b)))q.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},o),(o=Pa.get(b))&&Op(t,o);var ue=C=c.createElement("link");tr(ue),ii(ue,"link",t),ue._p=new Promise(function(De,He){ue.onload=De,ue.onerror=He}),ue.addEventListener("load",function(){q.loading|=1}),ue.addEventListener("error",function(){q.loading|=2}),q.loading|=4,_f(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:q},m.set(b,C)}}}function kw(t,i){Ao.X(t,i);var o=ac;if(o&&t){var c=ba(o).hoistableScripts,m=oc(t),b=c.get(m);b||(b=o.querySelector(hh(m)),b||(t=_({src:t,async:!0},i),(i=Pa.get(m))&&Rp(t,i),b=o.createElement("script"),tr(b),ii(b,"link",t),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function Lw(t,i){Ao.M(t,i);var o=ac;if(o&&t){var c=ba(o).hoistableScripts,m=oc(t),b=c.get(m);b||(b=o.querySelector(hh(m)),b||(t=_({src:t,async:!0,type:"module"},i),(i=Pa.get(m))&&Rp(t,i),b=o.createElement("script"),tr(b),ii(b,"link",t),o.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function Mg(t,i,o,c){var m=(m=ne.current)?wf(m):null;if(!m)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=sc(o.href),o=ba(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=sc(o.href);var b=ba(m).hoistableStyles,C=b.get(t);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,C),(b=m.querySelector(ch(t)))&&!b._p&&(C.instance=b,C.state.loading=5),Pa.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Pa.set(t,o),b||Cw(m,t,o,C.state))),i&&c===null)throw Error(a(528,""));return C}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oc(o),o=ba(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function sc(t){return'href="'+Fr(t)+'"'}function ch(t){return'link[rel="stylesheet"]['+t+"]"}function Dg(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Cw(t,i,o,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),ii(i,"link",o),tr(i),t.head.appendChild(i))}function oc(t){return'[src="'+Fr(t)+'"]'}function hh(t){return"script[async]"+t}function Pg(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Fr(o.href)+'"]');if(c)return i.instance=c,tr(c),c;var m=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),tr(c),ii(c,"style",m),_f(c,o.precedence,t),i.instance=c;case"stylesheet":m=sc(o.href);var b=t.querySelector(ch(m));if(b)return i.state.loading|=4,i.instance=b,tr(b),b;c=Dg(o),(m=Pa.get(m))&&Op(c,m),b=(t.ownerDocument||t).createElement("link"),tr(b);var C=b;return C._p=new Promise(function(q,ue){C.onload=q,C.onerror=ue}),ii(b,"link",c),i.state.loading|=4,_f(b,o.precedence,t),i.instance=b;case"script":return b=oc(o.src),(m=t.querySelector(hh(b)))?(i.instance=m,tr(m),m):(c=o,(m=Pa.get(b))&&(c=_({},o),Rp(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),tr(m),ii(m,"link",c),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,_f(c,o.precedence,t));return i.instance}function _f(t,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,C=0;C<c.length;C++){var q=c[C];if(q.dataset.precedence===i)b=q;else if(b!==m)break}b?b.parentNode.insertBefore(t,b.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Op(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xf=null;function Ug(t,i,o){if(xf===null){var c=new Map,m=xf=new Map;m.set(o,c)}else m=xf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),m=0;m<o.length;m++){var b=o[m];if(!(b[Qi]||b[An]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(i)||"";C=t+C;var q=c.get(C);q?q.push(b):c.set(C,[b])}}return c}function Bg(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function Tw(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ig(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ow(t,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=sc(c.href),b=i.querySelector(ch(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Sf.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=b,tr(b);return}b=i.ownerDocument||i,c=Dg(c),(m=Pa.get(m))&&Op(c,m),b=b.createElement("link"),tr(b);var C=b;C._p=new Promise(function(q,ue){C.onload=q,C.onerror=ue}),ii(b,"link",c),o.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Sf.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var Mp=0;function Rw(t,i){return t.stylesheets&&t.count===0&&Nf(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+i);0<t.imgBytes&&Mp===0&&(Mp=62500*dw());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nf(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>Mp?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Af=null;function Nf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Af=new Map,i.forEach(Mw,t),Af=null,Sf.call(t))}function Mw(t,i){if(!(i.state.loading&4)){var o=Af.get(t);if(o)var c=o.get(null);else{o=new Map,Af.set(t,o);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var C=m[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}m=i.instance,C=m.getAttribute("data-precedence"),b=o.get(C)||c,b===c&&o.set(null,m),o.set(C,m),this.count++,c=Sf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var fh={$$typeof:U,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Dw(t,i,o,c,m,b,C,q,ue){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function zg(t,i,o,c,m,b,C,q,ue,De,He,Ke){return t=new Dw(t,i,o,C,ue,De,He,Ke,q),i=1,b===!0&&(i|=24),b=Gr(3,null,null,i),t.current=b,b.stateNode=t,i=Yo(),i.refCount++,t.pooledCache=i,i.refCount++,b.memoizedState={element:c,isDehydrated:o,cache:i},rt(b),t}function qg(t){return t?(t=Mr,t):Mr}function Fg(t,i,o,c,m,b){m=qg(m),c.context===null?c.context=m:c.pendingContext=m,c=Pt(i),c.payload={element:o},b=b===void 0?null:b,b!==null&&(c.callback=b),o=Kt(t,c,i),o!==null&&(Wi(o,t,i),bn(o,t,i))}function Hg(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function Dp(t,i){Hg(t,i),(t=t.alternate)&&Hg(t,i)}function $g(t){if(t.tag===13||t.tag===31){var i=rs(t,67108864);i!==null&&Wi(i,t,67108864),Dp(t,67108864)}}function Gg(t){if(t.tag===13||t.tag===31){var i=fa();i=In(i);var o=rs(t,i);o!==null&&Wi(o,t,i),Dp(t,i)}}var Ef=!0;function Pw(t,i,o,c){var m=Q.T;Q.T=null;var b=he.p;try{he.p=2,Pp(t,i,o,c)}finally{he.p=b,Q.T=m}}function Uw(t,i,o,c){var m=Q.T;Q.T=null;var b=he.p;try{he.p=8,Pp(t,i,o,c)}finally{he.p=b,Q.T=m}}function Pp(t,i,o,c){if(Ef){var m=Up(c);if(m===null)xp(t,i,c,jf,o),Wg(t,c);else if(Iw(m,t,i,o,c))c.stopPropagation();else if(Wg(t,c),i&4&&-1<Bw.indexOf(t)){for(;m!==null;){var b=ta(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=it(b.pendingLanes);if(C!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;C;){var ue=1<<31-tt(C);q.entanglements[1]|=ue,C&=~ue}Is(b),(_n&6)===0&&(uf=ut()+500,sh(0))}}break;case 31:case 13:q=rs(b,2),q!==null&&Wi(q,b,2),hf(),Dp(b,2)}if(b=Up(c),b===null&&xp(t,i,c,jf,o),b===m)break;m=b}m!==null&&c.stopPropagation()}else xp(t,i,c,null,o)}}function Up(t){return t=Xs(t),Bp(t)}var jf=null;function Bp(t){if(jf=null,t=ea(t),t!==null){var i=l(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=u(i),t!==null)return t;t=null}else if(o===31){if(t=h(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jf=t,null}function Vg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case at:return 2;case Ut:return 8;case xt:case dt:return 32;case ot:return 268435456;default:return 32}default:return 32}}var Ip=!1,ol=null,ll=null,ul=null,dh=new Map,ph=new Map,cl=[],Bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(t,i){switch(t){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":dh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(i.pointerId)}}function mh(t,i,o,c,m,b){return t===null||t.nativeEvent!==b?(t={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},i!==null&&(i=ta(i),i!==null&&$g(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function Iw(t,i,o,c,m){switch(i){case"focusin":return ol=mh(ol,t,i,o,c,m),!0;case"dragenter":return ll=mh(ll,t,i,o,c,m),!0;case"mouseover":return ul=mh(ul,t,i,o,c,m),!0;case"pointerover":var b=m.pointerId;return dh.set(b,mh(dh.get(b)||null,t,i,o,c,m)),!0;case"gotpointercapture":return b=m.pointerId,ph.set(b,mh(ph.get(b)||null,t,i,o,c,m)),!0}return!1}function Yg(t){var i=ea(t.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){t.blockedOn=i,bs(t.priority,function(){Gg(o)});return}}else if(i===31){if(i=h(o),i!==null){t.blockedOn=i,bs(t.priority,function(){Gg(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=Up(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);$a=c,o.target.dispatchEvent(c),$a=null}else return i=ta(o),i!==null&&$g(i),t.blockedOn=o,!1;i.shift()}return!0}function Kg(t,i,o){kf(t)&&o.delete(i)}function zw(){Ip=!1,ol!==null&&kf(ol)&&(ol=null),ll!==null&&kf(ll)&&(ll=null),ul!==null&&kf(ul)&&(ul=null),dh.forEach(Kg),ph.forEach(Kg)}function Lf(t,i){t.blockedOn===i&&(t.blockedOn=null,Ip||(Ip=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zw)))}var Cf=null;function Jg(t){Cf!==t&&(Cf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cf===t&&(Cf=null);for(var i=0;i<t.length;i+=3){var o=t[i],c=t[i+1],m=t[i+2];if(typeof c!="function"){if(Bp(c||o)===null)continue;break}var b=ta(o);b!==null&&(t.splice(i,3),i-=3,Ud(b,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function lc(t){function i(ue){return Lf(ue,t)}ol!==null&&Lf(ol,t),ll!==null&&Lf(ll,t),ul!==null&&Lf(ul,t),dh.forEach(i),ph.forEach(i);for(var o=0;o<cl.length;o++){var c=cl[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<cl.length&&(o=cl[0],o.blockedOn===null);)Yg(o),o.blockedOn===null&&cl.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],b=o[c+1],C=m[qn]||null;if(typeof b=="function")C||Jg(o);else if(C){var q=null;if(b&&b.hasAttribute("formAction")){if(m=b,C=b[qn]||null)q=C.formAction;else if(Bp(m)!==null)continue}else q=C.action;typeof q=="function"?o[c+1]=q:(o.splice(c,3),c-=3),Jg(o)}}}function Xg(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function zp(t){this._internalRoot=t}Tf.prototype.render=zp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=fa();Fg(o,c,t,i,null,null)},Tf.prototype.unmount=zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Fg(t.current,2,null,t,null,null),hf(),i[qr]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ar();t={blockedOn:null,target:t,priority:i};for(var o=0;o<cl.length&&i!==0&&i<cl[o].priority;o++);cl.splice(o,0,t),o===0&&Yg(t)}};var Zg=e.version;if(Zg!=="19.2.0")throw Error(a(527,Zg,"19.2.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var qw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{Ee=Of.inject(qw),Oe=Of}catch{}}return vh.createRoot=function(t,i){if(!s(t))throw Error(a(299));var o=!1,c="",m=a1,b=s1,C=o1;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=zg(t,1,!1,null,null,o,c,null,m,b,C,Xg),t[qr]=i.current,_p(t),new zp(i)},vh.hydrateRoot=function(t,i,o){if(!s(t))throw Error(a(299));var c=!1,m="",b=a1,C=s1,q=o1,ue=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(q=o.onRecoverableError),o.formState!==void 0&&(ue=o.formState)),i=zg(t,1,!0,i,o??null,c,m,ue,b,C,q,Xg),i.context=qg(null),o=i.current,c=fa(),c=In(c),m=Pt(c),m.callback=null,Kt(o,m,c),o=c,i.current.lanes=o,jt(i,o),Is(i),t[qr]=i.current,_p(t),new Tf(i)},vh.version="19.2.0",vh}var l2;function e_(){if(l2)return Hp.exports;l2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hp.exports=Qw(),Hp.exports}var t_=e_();const n_=hm(t_);var u2="popstate";function r_(r={}){function e(a,s){let{pathname:l,search:u,hash:h}=a.location;return D0("",{pathname:l,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Ch(s)}return a_(e,n,null,r)}function er(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ba(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i_(){return Math.random().toString(36).substring(2,10)}function c2(r,e){return{usr:r.state,key:r.key,idx:e}}function D0(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Lc(e):e,state:n,key:e&&e.key||a||i_()}}function Ch({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Lc(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function a_(r,e,n,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,u=s.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let T=y(),L=T==null?null:T-p;p=T,f&&f({action:h,location:N.location,delta:L})}function A(T,L){h="PUSH";let D=D0(N.location,T,L);p=y()+1;let U=c2(D,p),F=N.createHref(D);try{u.pushState(U,"",F)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(F)}l&&f&&f({action:h,location:N.location,delta:1})}function w(T,L){h="REPLACE";let D=D0(N.location,T,L);p=y();let U=c2(D,p),F=N.createHref(D);u.replaceState(U,"",F),l&&f&&f({action:h,location:N.location,delta:0})}function k(T){return s_(T)}let N={get action(){return h},get location(){return r(s,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(u2,_),f=T,()=>{s.removeEventListener(u2,_),f=null}},createHref(T){return e(s,T)},createURL:k,encodeLocation(T){let L=k(T);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:A,replace:w,go(T){return u.go(T)}};return N}function s_(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),er(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ch(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function L5(r,e,n="/"){return o_(r,e,n,!1)}function o_(r,e,n,a){let s=typeof e=="string"?Lc(e):e,l=Co(s.pathname||"/",n);if(l==null)return null;let u=C5(r);l_(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=b_(l);h=v_(u[f],p,a)}return h}function C5(r,e=[],n=[],a="",s=!1){let l=(u,h,f=s,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&f)return;er(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let _=Lo([a,y.relativePath]),A=n.concat(y);u.children&&u.children.length>0&&(er(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),C5(u.children,e,A,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:m_(_,u.index),routesMeta:A})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of T5(u.path))l(u,h,!0,f)}),e}function T5(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let u=T5(a.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),s&&h.push(...u),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function l_(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:g_(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var u_=/^:[\w-]+$/,c_=3,h_=2,f_=1,d_=10,p_=-2,h2=r=>r==="*";function m_(r,e){let n=r.split("/"),a=n.length;return n.some(h2)&&(a+=p_),e&&(a+=h_),n.filter(s=>!h2(s)).reduce((s,l)=>s+(u_.test(l)?c_:l===""?f_:d_),a)}function g_(r,e){return r.length===e.length&&r.slice(0,-1).every((a,s)=>a===e[s])?r[r.length-1]-e[e.length-1]:0}function v_(r,e,n=!1){let{routesMeta:a}=r,s={},l="/",u=[];for(let h=0;h<a.length;++h){let f=a[h],p=h===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),A=f.route;if(!_&&p&&n&&!a[a.length-1].route.index&&(_=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Lo([l,_.pathname]),pathnameBase:A_(Lo([l,_.pathnameBase])),route:A}),_.pathnameBase!=="/"&&(l=Lo([l,_.pathnameBase]))}return u}function pd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=y_(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:a.reduce((p,{paramName:y,isOptional:_},A)=>{if(y==="*"){let k=h[A]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const w=h[A];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:r}}function y_(r,e=!1,n=!0){Ba(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(a.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function b_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ba(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Co(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var w_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=r=>w_.test(r);function x_(r,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof r=="string"?Lc(r):r,l;if(n)if(__(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=f2(n.substring(1),"/"):l=f2(n,e)}else l=e;return{pathname:l,search:N_(a),hash:E_(s)}}function f2(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S_(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dm(r){let e=S_(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function pm(r,e,n,a=!1){let s;typeof r=="string"?s=Lc(r):(s={...r},er(!s.pathname||!s.pathname.includes("?"),Wp("?","pathname","search",s)),er(!s.pathname||!s.pathname.includes("#"),Wp("#","pathname","hash",s)),er(!s.search||!s.search.includes("#"),Wp("#","search","hash",s)));let l=r===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!a&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),_-=1;s.pathname=A.join("/")}h=_>=0?e[_]:"/"}let f=x_(s,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Lo=r=>r.join("/").replace(/\/\/+/g,"/"),A_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),N_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,E_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function j_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O5=["POST","PUT","PATCH","DELETE"];new Set(O5);var k_=["GET",...O5];new Set(k_);var Cc=K.createContext(null);Cc.displayName="DataRouter";var Ad=K.createContext(null);Ad.displayName="DataRouterState";K.createContext(!1);var R5=K.createContext({isTransitioning:!1});R5.displayName="ViewTransition";var L_=K.createContext(new Map);L_.displayName="Fetchers";var C_=K.createContext(null);C_.displayName="Await";var gs=K.createContext(null);gs.displayName="Navigation";var Ph=K.createContext(null);Ph.displayName="Location";var Gs=K.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var mm=K.createContext(null);mm.displayName="RouteError";function T_(r,{relative:e}={}){er(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(gs),{hash:s,pathname:l,search:u}=Uh(r,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Lo([n,l])),a.createHref({pathname:h,search:u,hash:s})}function Tc(){return K.useContext(Ph)!=null}function To(){return er(Tc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ph).location}var M5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D5(r){K.useContext(gs).static||K.useLayoutEffect(r)}function gm(){let{isDataRoute:r}=K.useContext(Gs);return r?$_():O_()}function O_(){er(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Cc),{basename:e,navigator:n}=K.useContext(gs),{matches:a}=K.useContext(Gs),{pathname:s}=To(),l=JSON.stringify(dm(a)),u=K.useRef(!1);return D5(()=>{u.current=!0}),K.useCallback((f,p={})=>{if(Ba(u.current,M5),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=pm(f,JSON.parse(l),s,p.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Lo([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,s,r])}K.createContext(null);function Uh(r,{relative:e}={}){let{matches:n}=K.useContext(Gs),{pathname:a}=To(),s=JSON.stringify(dm(n));return K.useMemo(()=>pm(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function R_(r,e){return P5(r,e)}function P5(r,e,n,a,s){er(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(gs),{matches:u}=K.useContext(Gs),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let D=_&&_.path||"";U5(p,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let A=To(),w;if(e){let D=typeof e=="string"?Lc(e):e;er(y==="/"||D.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=A;let k=w.pathname||"/",N=k;if(y!=="/"){let D=y.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=L5(r,{pathname:N});Ba(_||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ba(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=B_(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:Lo([y,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:Lo([y,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,a,s);return e&&L?K.createElement(Ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function M_(){let r=H_(),e=j_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:s},n):null,u)}var D_=K.createElement(M_,null),P_=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?K.createElement(Gs.Provider,{value:this.props.routeContext},K.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U_({routeContext:r,match:e,children:n}){let a=K.useContext(Cc);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Gs.Provider,{value:r},n)}function B_(r,e=[],n=null,a=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n?.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);er(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,f=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=y),_.route.id){let{loaderData:A,errors:w}=n,k=_.route.loader&&!A.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||k){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&a?(y,_)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((y,_,A)=>{let w,k=!1,N=null,T=null;n&&(w=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||D_,h&&(f<0&&A===0?(U5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,T=null):f===A&&(k=!0,T=_.route.hydrateFallbackElement||null)));let L=e.concat(l.slice(0,A+1)),D=()=>{let U;return w?U=N:k?U=T:_.route.Component?U=K.createElement(_.route.Component,null):_.route.element?U=_.route.element:U=y,K.createElement(U_,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:U})};return n&&(_.route.ErrorBoundary||_.route.errorElement||A===0)?K.createElement(P_,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):D()},null)}function vm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(r){let e=K.useContext(Cc);return er(e,vm(r)),e}function z_(r){let e=K.useContext(Ad);return er(e,vm(r)),e}function q_(r){let e=K.useContext(Gs);return er(e,vm(r)),e}function ym(r){let e=q_(r),n=e.matches[e.matches.length-1];return er(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function F_(){return ym("useRouteId")}function H_(){let r=K.useContext(mm),e=z_("useRouteError"),n=ym("useRouteError");return r!==void 0?r:e.errors?.[n]}function $_(){let{router:r}=I_("useNavigate"),e=ym("useNavigate"),n=K.useRef(!1);return D5(()=>{n.current=!0}),K.useCallback(async(s,l={})=>{Ba(n.current,M5),n.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...l}))},[r,e])}var d2={};function U5(r,e,n){!e&&!d2[r]&&(d2[r]=!0,Ba(!1,n))}K.memo(G_);function G_({routes:r,future:e,state:n,unstable_onError:a}){return P5(r,void 0,n,a,e)}function V_({to:r,replace:e,state:n,relative:a}){er(Tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=K.useContext(gs);Ba(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=K.useContext(Gs),{pathname:u}=To(),h=gm(),f=pm(r,dm(l),u,a==="path"),p=JSON.stringify(f);return K.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:a})},[h,p,a,e,n]),null}function ki(r){er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W_({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:l=!1}){er(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof n=="string"&&(n=Lc(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:A="default"}=n,w=K.useMemo(()=>{let k=Co(f,u);return k==null?null:{location:{pathname:k,search:p,hash:y,state:_,key:A},navigationType:a}},[u,f,p,y,_,A,a]);return Ba(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:K.createElement(gs.Provider,{value:h},K.createElement(Ph.Provider,{children:e,value:w}))}function Y_({children:r,location:e}){return R_(P0(r),e)}function P0(r,e=[]){let n=[];return K.Children.forEach(r,(a,s)=>{if(!K.isValidElement(a))return;let l=[...e,s];if(a.type===K.Fragment){n.push.apply(n,P0(a.props.children,l));return}er(a.type===ki,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),er(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=P0(a.props.children,l)),n.push(u)}),n}var sd="get",od="application/x-www-form-urlencoded";function Nd(r){return r!=null&&typeof r.tagName=="string"}function K_(r){return Nd(r)&&r.tagName.toLowerCase()==="button"}function J_(r){return Nd(r)&&r.tagName.toLowerCase()==="form"}function X_(r){return Nd(r)&&r.tagName.toLowerCase()==="input"}function Z_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Q_(r,e){return r.button===0&&(!e||e==="_self")&&!Z_(r)}var Rf=null;function ex(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var tx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yp(r){return r!=null&&!tx.has(r)?(Ba(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${od}"`),null):r}function nx(r,e){let n,a,s,l,u;if(J_(r)){let h=r.getAttribute("action");a=h?Co(h,e):null,n=r.getAttribute("method")||sd,s=Yp(r.getAttribute("enctype"))||od,l=new FormData(r)}else if(K_(r)||X_(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||h.getAttribute("action");if(a=f?Co(f,e):null,n=r.getAttribute("formmethod")||h.getAttribute("method")||sd,s=Yp(r.getAttribute("formenctype"))||Yp(h.getAttribute("enctype"))||od,l=new FormData(h,r),!ex()){let{name:p,type:y,value:_}=r;if(y==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,_)}}else{if(Nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sd,a=null,s=od,u=r}return l&&s==="text/plain"&&(u=l,l=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function rx(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Co(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function ix(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ax(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sx(r,e,n){let a=await Promise.all(r.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await ix(l,n);return u.links?u.links():[]}return[]}));return cx(a.flat(1).filter(ax).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function p2(r,e,n,a,s,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let y=a.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function ox(r,e,{includeHydrateFallback:n}={}){return lx(r.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function lx(r){return[...new Set(r)]}function ux(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function cx(r,e){let n=new Set;return new Set(e),r.reduce((a,s)=>{let l=JSON.stringify(ux(s));return n.has(l)||(n.add(l),a.push({key:l,link:s})),a},[])}function B5(){let r=K.useContext(Cc);return bm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hx(){let r=K.useContext(Ad);return bm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=K.createContext(void 0);wm.displayName="FrameworkContext";function I5(){let r=K.useContext(wm);return bm(r,"You must render this element inside a <HydratedRouter> element"),r}function fx(r,e){let n=K.useContext(wm),[a,s]=K.useState(!1),[l,u]=K.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,A=K.useRef(null);K.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let N=L=>{L.forEach(D=>{u(D.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return A.current&&T.observe(A.current),()=>{T.disconnect()}}},[r]),K.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let w=()=>{s(!0)},k=()=>{s(!1),u(!1)};return n?r!=="intent"?[l,A,{}]:[l,A,{onFocus:yh(h,w),onBlur:yh(f,k),onMouseEnter:yh(p,w),onMouseLeave:yh(y,k),onTouchStart:yh(_,w)}]:[!1,A,{}]}function yh(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function dx({page:r,...e}){let{router:n}=B5(),a=K.useMemo(()=>L5(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?K.createElement(mx,{page:r,matches:a,...e}):null}function px(r){let{manifest:e,routeModules:n}=I5(),[a,s]=K.useState([]);return K.useEffect(()=>{let l=!1;return sx(r,e,n).then(u=>{l||s(u)}),()=>{l=!0}},[r,e,n]),a}function mx({page:r,matches:e,...n}){let a=To(),{manifest:s,routeModules:l}=I5(),{basename:u}=B5(),{loaderData:h,matches:f}=hx(),p=K.useMemo(()=>p2(r,e,f,s,a,"data"),[r,e,f,s,a]),y=K.useMemo(()=>p2(r,e,f,s,a,"assets"),[r,e,f,s,a]),_=K.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let k=new Set,N=!1;if(e.forEach(L=>{let D=s.routes[L.route.id];!D||!D.hasLoader||(!p.some(U=>U.route.id===L.route.id)&&L.route.id in h&&l[L.route.id]?.shouldRevalidate||D.hasClientLoader?N=!0:k.add(L.route.id))}),k.size===0)return[];let T=rx(r,u,"data");return N&&k.size>0&&T.searchParams.set("_routes",e.filter(L=>k.has(L.route.id)).map(L=>L.route.id).join(",")),[T.pathname+T.search]},[u,h,a,s,p,e,r,l]),A=K.useMemo(()=>ox(y,s),[y,s]),w=px(y);return K.createElement(K.Fragment,null,_.map(k=>K.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>K.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),w.map(({key:k,link:N})=>K.createElement("link",{key:k,nonce:n.nonce,...N})))}function gx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z5&&(window.__reactRouterVersion="7.9.6")}catch{}function vx({basename:r,children:e,window:n}){let a=K.useRef();a.current==null&&(a.current=r_({window:n,v5Compat:!0}));let s=a.current,[l,u]=K.useState({action:s.action,location:s.location}),h=K.useCallback(f=>{K.startTransition(()=>u(f))},[u]);return K.useLayoutEffect(()=>s.listen(h),[s,h]),K.createElement(W_,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:s})}var q5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F5=K.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...A},w){let{basename:k}=K.useContext(gs),N=typeof p=="string"&&q5.test(p),T,L=!1;if(typeof p=="string"&&N&&(T=p,z5))try{let W=new URL(window.location.href),be=p.startsWith("//")?new URL(W.protocol+p):new URL(p),I=Co(be.pathname,k);be.origin===W.origin&&I!=null?p=I+be.search+be.hash:L=!0}catch{Ba(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=T_(p,{relative:s}),[U,F,ae]=fx(a,A),ye=wx(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:_});function ce(W){e&&e(W),W.defaultPrevented||ye(W)}let se=K.createElement("a",{...A,...ae,href:T||D,onClick:L||l?e:ce,ref:gx(w,F),target:f,"data-discover":!N&&n==="render"?"true":void 0});return U&&!N?K.createElement(K.Fragment,null,se,K.createElement(dx,{page:D})):se});F5.displayName="Link";var Yi=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:h,children:f,...p},y){let _=Uh(u,{relative:p.relative}),A=To(),w=K.useContext(Ad),{navigator:k,basename:N}=K.useContext(gs),T=w!=null&&Nx(_)&&h===!0,L=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,D=A.pathname,U=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&N&&(U=Co(U,N)||U);const F=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ae=D===L||!s&&D.startsWith(L)&&D.charAt(F)==="/",ye=U!=null&&(U===L||!s&&U.startsWith(L)&&U.charAt(L.length)==="/"),ce={isActive:ae,isPending:ye,isTransitioning:T},se=ae?e:void 0,W;typeof a=="function"?W=a(ce):W=[a,ae?"active":null,ye?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let be=typeof l=="function"?l(ce):l;return K.createElement(F5,{...p,"aria-current":se,className:W,ref:y,style:be,to:u,viewTransition:h},typeof f=="function"?f(ce):f)});Yi.displayName="NavLink";var yx=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:l,method:u=sd,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...A},w)=>{let k=Sx(),N=Ax(h,{relative:p}),T=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&q5.test(h),D=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let F=U.nativeEvent.submitter,ae=F?.getAttribute("formmethod")||u;k(F||U.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:s,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return K.createElement("form",{ref:w,method:T,action:N,onSubmit:a?f:D,...A,"data-discover":!L&&r==="render"?"true":void 0})});yx.displayName="Form";function bx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H5(r){let e=K.useContext(Cc);return er(e,bx(r)),e}function wx(r,{target:e,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:u}={}){let h=gm(),f=To(),p=Uh(r,{relative:l});return K.useCallback(y=>{if(Q_(y,e)){y.preventDefault();let _=n!==void 0?n:Ch(f)===Ch(p);h(r,{replace:_,state:a,preventScrollReset:s,relative:l,viewTransition:u})}},[f,h,p,n,a,e,r,s,l,u])}var _x=0,xx=()=>`__${String(++_x)}__`;function Sx(){let{router:r}=H5("useSubmit"),{basename:e}=K.useContext(gs),n=F_();return K.useCallback(async(a,s={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=nx(a,e);if(s.navigate===!1){let y=s.fetcherKey||xx();await r.fetch(y,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await r.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,n])}function Ax(r,{relative:e}={}){let{basename:n}=K.useContext(gs),a=K.useContext(Gs);er(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Uh(r||".",{relative:e})},u=To();if(r==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!r||r===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Lo([n,l.pathname])),Ch(l)}function Nx(r,{relative:e}={}){let n=K.useContext(R5);er(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=H5("useViewTransitionState"),s=Uh(r,{relative:e});if(!n.isTransitioning)return!1;let l=Co(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Co(n.nextLocation.pathname,a)||n.nextLocation.pathname;return pd(s.pathname,u)!=null||pd(s.pathname,l)!=null}const Ex="/assets/prowest-logo-B6qBetZM.png";var U0=function(r,e){return U0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},U0(r,e)};function $5(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U0(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var md=function(){return md=Object.assign||function(e){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},md.apply(this,arguments)};function Oc(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n}function G5(r,e,n,a){var s=arguments.length,l=s<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,e,n,a);else for(var h=r.length-1;h>=0;h--)(u=r[h])&&(l=(s<3?u(l):s>3?u(e,n,l):u(e,n))||l);return s>3&&l&&Object.defineProperty(e,n,l),l}function V5(r,e){return function(n,a){e(n,a,r)}}function W5(r,e,n,a,s,l){function u(L){if(L!==void 0&&typeof L!="function")throw new TypeError("Function expected");return L}for(var h=a.kind,f=h==="getter"?"get":h==="setter"?"set":"value",p=!e&&r?a.static?r:r.prototype:null,y=e||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),_,A=!1,w=n.length-1;w>=0;w--){var k={};for(var N in a)k[N]=N==="access"?{}:a[N];for(var N in a.access)k.access[N]=a.access[N];k.addInitializer=function(L){if(A)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(L||null))};var T=(0,n[w])(h==="accessor"?{get:y.get,set:y.set}:y[f],k);if(h==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(_=u(T.get))&&(y.get=_),(_=u(T.set))&&(y.set=_),(_=u(T.init))&&s.unshift(_)}else(_=u(T))&&(h==="field"?s.unshift(_):y[f]=_)}p&&Object.defineProperty(p,a.name,y),A=!0}function Y5(r,e,n){for(var a=arguments.length>2,s=0;s<e.length;s++)n=a?e[s].call(r,n):e[s].call(r);return a?n:void 0}function K5(r){return typeof r=="symbol"?r:"".concat(r)}function J5(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function X5(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Et(r,e,n,a){function s(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(y){try{p(a.next(y))}catch(_){u(_)}}function f(y){try{p(a.throw(y))}catch(_){u(_)}}function p(y){y.done?l(y.value):s(y.value).then(h,f)}p((a=a.apply(r,e||[])).next())})}function Z5(r,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return f([p,y])}}function f(p){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(a=1,s&&(l=p[0]&2?s.return:p[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,p[1])).done)return l;switch(s=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(r,n)}catch(y){p=[6,y],s=0}finally{a=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Ed=Object.create?(function(r,e,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,a,s)}):(function(r,e,n,a){a===void 0&&(a=n),r[a]=e[n]});function Q5(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ed(e,r,n)}function gd(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],a=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _m(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var a=n.call(r),s,l=[],u;try{for(;(e===void 0||e-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(h){u={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(u)throw u.error}}return l}function ey(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(_m(arguments[e]));return r}function ty(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var a=Array(r),s=0,e=0;e<n;e++)for(var l=arguments[e],u=0,h=l.length;u<h;u++,s++)a[s]=l[u];return a}function ny(r,e,n){if(n||arguments.length===2)for(var a=0,s=e.length,l;a<s;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return r.concat(l||Array.prototype.slice.call(e))}function kc(r){return this instanceof kc?(this.v=r,this):new kc(r)}function ry(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(r,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(w){return function(k){return Promise.resolve(k).then(w,_)}}function h(w,k){a[w]&&(s[w]=function(N){return new Promise(function(T,L){l.push([w,N,T,L])>1||f(w,N)})},k&&(s[w]=k(s[w])))}function f(w,k){try{p(a[w](k))}catch(N){A(l[0][3],N)}}function p(w){w.value instanceof kc?Promise.resolve(w.value.v).then(y,_):A(l[0][2],w)}function y(w){f("next",w)}function _(w){f("throw",w)}function A(w,k){w(k),l.shift(),l.length&&f(l[0][0],l[0][1])}}function iy(r){var e,n;return e={},a("next"),a("throw",function(s){throw s}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(s,l){e[s]=r[s]?function(u){return(n=!n)?{value:kc(r[s](u)),done:!1}:l?l(u):u}:l}}function ay(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof gd=="function"?gd(r):r[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(l){n[l]=r[l]&&function(u){return new Promise(function(h,f){u=r[l](u),s(h,f,u.done,u.value)})}}function s(l,u,h,f){Promise.resolve(f).then(function(p){l({value:p,done:h})},u)}}function sy(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var jx=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},B0=function(r){return B0=Object.getOwnPropertyNames||function(e){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[n.length]=a);return n},B0(r)};function oy(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=B0(r),a=0;a<n.length;a++)n[a]!=="default"&&Ed(e,r,n[a]);return jx(e,r),e}function ly(r){return r&&r.__esModule?r:{default:r}}function uy(r,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(r):a?a.value:e.get(r)}function cy(r,e,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(r,n):s?s.value=n:e.set(r,n),n}function hy(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function fy(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(l){return Promise.reject(l)}}),r.stack.push({value:e,dispose:a,async:n})}else n&&r.stack.push({async:!0});return e}var kx=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var a=new Error(n);return a.name="SuppressedError",a.error=r,a.suppressed=e,a};function dy(r){function e(l){r.error=r.hasError?new kx(l,r.error,"An error was suppressed during disposal."):l,r.hasError=!0}var n,a=0;function s(){for(;n=r.stack.pop();)try{if(!n.async&&a===1)return a=0,r.stack.push(n),Promise.resolve().then(s);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(l).then(s,function(u){return e(u),s()})}else a|=1}catch(u){e(u)}if(a===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return s()}function py(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,l,u){return a?e?".jsx":".js":s&&(!l||!u)?n:s+l+"."+u.toLowerCase()+"js"}):r}const Lx={__extends:$5,__assign:md,__rest:Oc,__decorate:G5,__param:V5,__esDecorate:W5,__runInitializers:Y5,__propKey:K5,__setFunctionName:J5,__metadata:X5,__awaiter:Et,__generator:Z5,__createBinding:Ed,__exportStar:Q5,__values:gd,__read:_m,__spread:ey,__spreadArrays:ty,__spreadArray:ny,__await:kc,__asyncGenerator:ry,__asyncDelegator:iy,__asyncValues:ay,__makeTemplateObject:sy,__importStar:oy,__importDefault:ly,__classPrivateFieldGet:uy,__classPrivateFieldSet:cy,__classPrivateFieldIn:hy,__addDisposableResource:fy,__disposeResources:dy,__rewriteRelativeImportExtension:py},Cx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fy,get __assign(){return md},__asyncDelegator:iy,__asyncGenerator:ry,__asyncValues:ay,__await:kc,__awaiter:Et,__classPrivateFieldGet:uy,__classPrivateFieldIn:hy,__classPrivateFieldSet:cy,__createBinding:Ed,__decorate:G5,__disposeResources:dy,__esDecorate:W5,__exportStar:Q5,__extends:$5,__generator:Z5,__importDefault:ly,__importStar:oy,__makeTemplateObject:sy,__metadata:X5,__param:V5,__propKey:K5,__read:_m,__rest:Oc,__rewriteRelativeImportExtension:py,__runInitializers:Y5,__setFunctionName:J5,__spread:ey,__spreadArray:ny,__spreadArrays:ty,__values:gd,default:Lx},Symbol.toStringTag,{value:"Module"})),Tx=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class xm extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class Ox extends xm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class m2 extends xm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g2 extends xm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(I0||(I0={}));class Rx{constructor(e,{headers:n={},customFetch:a,region:s=I0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Tx(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Et(this,arguments,void 0,function*(n,a={}){var s;let l,u;try{const{headers:h,method:f,body:p,signal:y,timeout:_}=a;let A={},{region:w}=a;w||(w=this.region);const k=new URL(`${this.url}/${n}`);w&&w!=="any"&&(A["x-region"]=w,k.searchParams.set("forceFunctionRegion",w));let N;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(A["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(A["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(A["Content-Type"]="application/json",N=JSON.stringify(p)):N=p;let T=y;_&&(u=new AbortController,l=setTimeout(()=>u.abort(),_),y?(T=u.signal,y.addEventListener("abort",()=>u.abort())):T=u.signal);const L=yield this.fetch(k.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},A),this.headers),h),body:N,signal:T}).catch(ae=>{throw new Ox(ae)}),D=L.headers.get("x-relay-error");if(D&&D==="true")throw new m2(L);if(!L.ok)throw new g2(L);let U=((s=L.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),F;return U==="application/json"?F=yield L.json():U==="application/octet-stream"||U==="application/pdf"?F=yield L.blob():U==="text/event-stream"?F=L:U==="multipart/form-data"?F=yield L.formData():F=yield L.text(),{data:F,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof g2||h instanceof m2?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var hi={};const Rc=$w(Cx);var Mf={},Df={},Pf={},Uf={},Bf={},If={},v2;function my(){if(v2)return If;v2=1,Object.defineProperty(If,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return If.default=r,If}var y2;function gy(){if(y2)return Bf;y2=1,Object.defineProperty(Bf,"__esModule",{value:!0});const e=Rc.__importDefault(my());class n{constructor(s){var l,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let h=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var p,y,_,A;let w=null,k=null,N=null,T=f.status,L=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ae=await f.text();ae===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?k=ae:k=JSON.parse(ae))}const U=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(_=f.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");U&&F&&F.length>1&&(N=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(w={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,N=null,T=406,L="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const U=await f.text();try{w=JSON.parse(U),Array.isArray(w)&&f.status===404&&(k=[],w=null,T=200,L="OK")}catch{f.status===404&&U===""?(T=204,L="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&(!((A=w?.details)===null||A===void 0)&&A.includes("0 rows"))&&(w=null,T=200,L="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:k,count:N,status:T,statusText:L}});return this.shouldThrowOnError||(h=h.catch(f=>{var p,y,_;return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:`${(y=f?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(_=f?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),h.then(s,l)}returns(){return this}overrideTypes(){return this}}return Bf.default=n,Bf}var b2;function vy(){if(b2)return Uf;b2=1,Object.defineProperty(Uf,"__esModule",{value:!0});const e=Rc.__importDefault(gy());class n extends e.default{select(s){let l=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:l=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${s}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:u=l}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,l,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(p,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:l=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var y;const _=[s?"analyze":null,l?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),A=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${A}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Uf.default=n,Uf}var w2;function Sm(){if(w2)return Pf;w2=1,Object.defineProperty(Pf,"__esModule",{value:!0});const e=Rc.__importDefault(vy()),n=new RegExp("[,()]");class a extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${p}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const f=h?`${h}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return Pf.default=a,Pf}var _2;function yy(){if(_2)return Df;_2=1,Object.defineProperty(Df,"__esModule",{value:!0});const e=Rc.__importDefault(Sm());class n{constructor(s,{headers:l={},schema:u,fetch:h}){this.url=s,this.headers=new Headers(l),this.schema=u,this.fetch=h}select(s,l){const{head:u=!1,count:h}=l??{},f=u?"HEAD":"GET";let p=!1;const y=(s??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:l,defaultToNull:u=!0}={}){var h;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(s,{onConflict:l,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const _=s.reduce((A,w)=>A.concat(Object.keys(w)),[]);if(_.length>0){const A=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",A.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(s,{count:l}={}){var u;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var l;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Df.default=n,Df}var x2;function Mx(){if(x2)return Mf;x2=1,Object.defineProperty(Mf,"__esModule",{value:!0});const r=Rc,e=r.__importDefault(yy()),n=r.__importDefault(Sm());class a{constructor(l,{headers:u={},schema:h,fetch:f}={}){this.url=l,this.headers=new Headers(u),this.schemaName=h,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new a(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:h=!1,get:f=!1,count:p}={}){var y;let _;const A=new URL(`${this.url}/rpc/${l}`);let w;h||f?(_=h?"HEAD":"GET",Object.entries(u).filter(([N,T])=>T!==void 0).map(([N,T])=>[N,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([N,T])=>{A.searchParams.append(N,T)})):(_="POST",w=u);const k=new Headers(this.headers);return p&&k.set("Prefer",`count=${p}`),new n.default({method:_,url:A,headers:k,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Mf.default=a,Mf}var S2;function Dx(){if(S2)return hi;S2=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.PostgrestError=hi.PostgrestBuilder=hi.PostgrestTransformBuilder=hi.PostgrestFilterBuilder=hi.PostgrestQueryBuilder=hi.PostgrestClient=void 0;const r=Rc,e=r.__importDefault(Mx());hi.PostgrestClient=e.default;const n=r.__importDefault(yy());hi.PostgrestQueryBuilder=n.default;const a=r.__importDefault(Sm());hi.PostgrestFilterBuilder=a.default;const s=r.__importDefault(vy());hi.PostgrestTransformBuilder=s.default;const l=r.__importDefault(gy());hi.PostgrestBuilder=l.default;const u=r.__importDefault(my());return hi.PostgrestError=u.default,hi.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:u.default},hi}var by=Dx();const wy=hm(by),Px=Hw({__proto__:null,default:wy},[by]),{PostgrestClient:Ux,PostgrestQueryBuilder:R8,PostgrestFilterBuilder:M8,PostgrestTransformBuilder:D8,PostgrestBuilder:P8,PostgrestError:U8}=wy||Px;class Bx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ix="2.81.1",zx=`realtime-js/${Ix}`,_y="1.0.0",qx="2.0.0",A2=_y,z0=1e4,Fx=1e3,Hx=100;var ou;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ou||(ou={}));var zr;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(zr||(zr={}));var Ua;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ua||(Ua={}));var q0;(function(r){r.websocket="websocket"})(q0||(q0={}));var lu;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(lu||(lu={}));class $x{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodePush(e){const{join_ref:n,ref:a,event:s,topic:l,payload:u}=e,h=this.META_LENGTH+n.length+a.length+l.length+s.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let p=new DataView(f),y=0;p.setUint8(y++,this.KINDS.push),p.setUint8(y++,n.length),p.setUint8(y++,a.length),p.setUint8(y++,l.length),p.setUint8(y++,s.length),Array.from(n,A=>p.setUint8(y++,A.charCodeAt(0))),Array.from(a,A=>p.setUint8(y++,A.charCodeAt(0))),Array.from(l,A=>p.setUint8(y++,A.charCodeAt(0))),Array.from(s,A=>p.setUint8(y++,A.charCodeAt(0)));var _=new Uint8Array(f.byteLength+u.byteLength);return _.set(new Uint8Array(f),0),_.set(new Uint8Array(u),f.byteLength),_.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a;const{join_ref:s,ref:l,topic:u}=e,h=e.payload.event,f=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+l.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let _=new DataView(y),A=0;_.setUint8(A++,this.KINDS.userBroadcastPush),_.setUint8(A++,s.length),_.setUint8(A++,l.length),_.setUint8(A++,u.length),_.setUint8(A++,h.length),_.setUint8(A++,this.BINARY_ENCODING),Array.from(s,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(u,k=>_.setUint8(A++,k.charCodeAt(0))),Array.from(h,k=>_.setUint8(A++,k.charCodeAt(0)));var w=new Uint8Array(y.byteLength+f.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(f),y.byteLength),w.buffer}_encodeJsonUserBroadcastPush(e){var n,a;const{join_ref:s,ref:l,topic:u}=e,h=e.payload.event,f=(a=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},y=new TextEncoder().encode(JSON.stringify(f)).buffer,_=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+l.length+u.length+h.length,A=new ArrayBuffer(this.HEADER_LENGTH+_);let w=new DataView(A),k=0;w.setUint8(k++,this.KINDS.userBroadcastPush),w.setUint8(k++,s.length),w.setUint8(k++,l.length),w.setUint8(k++,u.length),w.setUint8(k++,h.length),w.setUint8(k++,this.JSON_ENCODING),Array.from(s,T=>w.setUint8(k++,T.charCodeAt(0))),Array.from(l,T=>w.setUint8(k++,T.charCodeAt(0))),Array.from(u,T=>w.setUint8(k++,T.charCodeAt(0))),Array.from(h,T=>w.setUint8(k++,T.charCodeAt(0)));var N=new Uint8Array(A.byteLength+y.byteLength);return N.set(new Uint8Array(A),0),N.set(new Uint8Array(y),A.byteLength),N.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,l,u,h,f]=a;return n({join_ref:s,ref:l,topic:u,event:h,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(e,n,s);case this.KINDS.reply:return this._decodeReply(e,n,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodePush(e,n,a){const s=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3);let h=this.HEADER_LENGTH+this.META_LENGTH-1;const f=a.decode(e.slice(h,h+s));h=h+s;const p=a.decode(e.slice(h,h+l));h=h+l;const y=a.decode(e.slice(h,h+u));h=h+u;const _=JSON.parse(a.decode(e.slice(h,e.byteLength)));return{join_ref:f,ref:null,topic:p,event:y,payload:_}}_decodeReply(e,n,a){const s=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+this.META_LENGTH;const p=a.decode(e.slice(f,f+s));f=f+s;const y=a.decode(e.slice(f,f+l));f=f+l;const _=a.decode(e.slice(f,f+u));f=f+u;const A=a.decode(e.slice(f,f+h));f=f+h;const w=JSON.parse(a.decode(e.slice(f,e.byteLength))),k={status:A,response:w};return{join_ref:p,ref:y,topic:_,event:Ua.reply,payload:k}}_decodeBroadcast(e,n,a){const s=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=a.decode(e.slice(u,u+s));u=u+s;const f=a.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{join_ref:null,ref:null,topic:h,event:f,payload:p}}_decodeUserBroadcast(e,n,a){const s=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const p=a.decode(e.slice(f,f+s));f=f+s;const y=a.decode(e.slice(f,f+l));f=f+l;const _=a.decode(e.slice(f,f+u));f=f+u;const A=e.slice(f,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(a.decode(A)):A,k={type:this.BROADCAST,event:y,payload:w};return u>0&&(k.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class xy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(zn||(zn={}));const N2=(r,e,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=Gx(u,r,e,s),l),{}):{}},Gx=(r,e,n,a)=>{const s=e.find(h=>h.name===r),l=s?.type,u=n[r];return l&&!a.includes(l)?Sy(l,u):F0(u)},Sy=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return Kx(e,n)}switch(r){case zn.bool:return Vx(e);case zn.float4:case zn.float8:case zn.int2:case zn.int4:case zn.int8:case zn.numeric:case zn.oid:return Wx(e);case zn.json:case zn.jsonb:return Yx(e);case zn.timestamp:return Jx(e);case zn.abstime:case zn.date:case zn.daterange:case zn.int4range:case zn.int8range:case zn.money:case zn.reltime:case zn.text:case zn.time:case zn.timestamptz:case zn.timetz:case zn.tsrange:case zn.tstzrange:return F0(e);default:return F0(e)}},F0=r=>r,Vx=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Wx=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Yx=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Kx=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,a=r[n];if(r[0]==="{"&&a==="}"){let l;const u=r.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Sy(e,h))}return r},Jx=r=>typeof r=="string"?r.replace(" ","T"):r,Ay=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kp{constructor(e,n,a={},s=z0){this.channel=e,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E2;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(E2||(E2={}));class Eh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eh.syncState(this.state,s,l,u),this.pendingDiffs.forEach(f=>{this.state=Eh.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},s=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Eh.syncDiff(this.state,s,l,u),h())}),this.onJoin((s,l,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:u})}),this.onLeave((s,l,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,s){const l=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(l,(p,y)=>{u[p]||(f[p]=y)}),this.map(u,(p,y)=>{const _=l[p];if(_){const A=y.map(T=>T.presence_ref),w=_.map(T=>T.presence_ref),k=y.filter(T=>w.indexOf(T.presence_ref)<0),N=_.filter(T=>A.indexOf(T.presence_ref)<0);k.length>0&&(h[p]=k),N.length>0&&(f[p]=N)}else h[p]=y}),this.syncDiff(l,{joins:h,leaves:f},a,s)}static syncDiff(e,n,a,s){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(l,(h,f)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),y.length>0){const _=e[h].map(w=>w.presence_ref),A=y.filter(w=>_.indexOf(w.presence_ref)<0);e[h].unshift(...A)}a(h,y,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const y=f.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=p,s(h,p,f),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const s=e[a];return"metas"in s?n[a]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j2;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(j2||(j2={}));var jh;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(jh||(jh={}));var jo;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(jo||(jo={}));class Am{constructor(e,n={config:{}},a){var s,l;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kp(this,Ua.join,this.params,this.timeout),this.rejoinTimer=new xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zr.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ua.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Eh(this),this.broadcastEndpointURL=Ay(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==zr.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,p=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&s!==void 0?s:[],y=!!this.bindings[jh.PRESENCE]&&this.bindings[jh.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,_={},A={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(jo.CHANNEL_ERROR,w)),this._onClose(()=>e?.(jo.CLOSED)),this.updateJoinPayload(Object.assign({config:A},_)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket.setAuth(),w===void 0){e?.(jo.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,T=(k=N?.length)!==null&&k!==void 0?k:0,L=[];for(let D=0;D<T;D++){const U=N[D],{filter:{event:F,schema:ae,table:ye,filter:ce}}=U,se=w&&w[D];if(se&&se.event===F&&se.schema===ae&&se.table===ye&&se.filter===ce)L.push(Object.assign(Object.assign({},U),{id:se.id}));else{this.unsubscribe(),this.state=zr.errored,e?.(jo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,e&&e(jo.SUBSCRIBED);return}}).receive("error",w=>{this.state=zr.errored,e?.(jo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(jo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===zr.joined&&e===jh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var s;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const p=await h.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ua.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new Kp(this,Ua.leave,{},e),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zr.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const s=new AbortController,l=setTimeout(()=>s.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(l),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kp(this,e,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var s,l;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:y}=Ua;if(a&&[h,f,p,y].indexOf(u)>=0&&a!==this._joinRef())return;let A=this._onMessage(u,n,a);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var k,N,T;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((T=(N=w.filter)===null||N===void 0?void 0:N.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(w=>w.callback(A,a)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var k,N,T,L,D,U;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const F=w.id,ae=(k=w.filter)===null||k===void 0?void 0:k.event;return F&&((N=n.ids)===null||N===void 0?void 0:N.includes(F))&&(ae==="*"||ae?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const F=(D=(L=w?.filter)===null||L===void 0?void 0:L.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return F==="*"||F===((U=n?.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof A=="object"&&"ids"in A){const k=A.data,{schema:N,table:T,commit_timestamp:L,type:D,errors:U}=k;A=Object.assign(Object.assign({},{schema:N,table:T,commit_timestamp:L,eventType:D,new:{},old:{},errors:U}),this._getPayloadRecords(k))}w.callback(A,a)})}_isClosed(){return this.state===zr.closed}_isJoined(){return this.state===zr.joined}_isJoining(){return this.state===zr.joining}_isLeaving(){return this.state===zr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const s=e.toLocaleLowerCase(),l={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Am.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ua.close,{},e)}_onError(e){this._on(Ua.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=N2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=N2(e.columns,e.old_record)),n}}const Jp=()=>{},zf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xx=[1e3,2e3,5e3,1e4],Zx=1e4,Qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e3{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=z0,this.transport=null,this.heartbeatIntervalMs=zf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jp,this.ref=0,this.reconnectTimer=null,this.vsn=A2,this.logger=Jp,this.conn=null,this.sendBuffer=[],this.serializer=new $x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...l)=>s(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${q0.websocket}`,this.httpEndpoint=Ay(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ou.connecting:return lu.Connecting;case ou.open:return lu.Open;case ou.closing:return lu.Closing;default:return lu.Closed}}isConnected(){return this.connectionState()===lu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(l=>l.topic===a);if(s)return s;{const l=new Am(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:a,payload:s,ref:l}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${l})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:l,ref:u}=n,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${s} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(s,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ou.open||this.conn.readyState===ou.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ua.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${a}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([Qx],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:zx};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Ua.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,s,l,u,h,f,p,y,_,A,w;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:z0,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:zf.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Jp,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:A2,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(k=>Xx[k-1]||Zx),this.vsn){case _y:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((k,N)=>N(JSON.stringify(k))),this.decode=(_=e?.decode)!==null&&_!==void 0?_:((k,N)=>N(JSON.parse(k)));break;case qx:this.encode=(A=e?.encode)!==null&&A!==void 0?A:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Nm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lr(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class t3 extends Nm{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class H0 extends Nm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Em=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),n3=()=>Response,$0=r=>{if(Array.isArray(r))return r.map(n=>$0(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[s]=$0(a)}),e},r3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Xp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},i3=(r,e,n)=>Et(void 0,void 0,void 0,function*(){const a=yield n3();r instanceof a&&!n?.noResolveJson?r.json().then(s=>{const l=r.status||500,u=s?.statusCode||l+"";e(new t3(Xp(s),l,u))}).catch(s=>{e(new H0(Xp(s),s))}):e(new H0(Xp(r),r))}),a3=(r,e,n,a)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"||!a?s:(r3(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Bh(r,e,n,a,s,l){return Et(this,void 0,void 0,function*(){return new Promise((u,h)=>{r(n,a3(e,a,s,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>i3(f,h,a))})})}function Th(r,e,n,a){return Et(this,void 0,void 0,function*(){return Bh(r,"GET",e,n,a)})}function ps(r,e,n,a,s){return Et(this,void 0,void 0,function*(){return Bh(r,"POST",e,a,s,n)})}function G0(r,e,n,a,s){return Et(this,void 0,void 0,function*(){return Bh(r,"PUT",e,a,s,n)})}function s3(r,e,n,a){return Et(this,void 0,void 0,function*(){return Bh(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function jm(r,e,n,a,s){return Et(this,void 0,void 0,function*(){return Bh(r,"DELETE",e,a,s,n)})}class o3{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Et(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lr(e))return{data:null,error:e};throw e}})}}var Ny;class l3{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Ny]="BlobDownloadBuilder",this.promise=null}asStream(){return new o3(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Et(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lr(e))return{data:null,error:e};throw e}})}}Ny=Symbol.toStringTag;const u3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c3{constructor(e,n={},a,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=Em(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,s){return Et(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},k2),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),s?.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),_=yield(e=="PUT"?G0:ps)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lr(l))return{data:null,error:l};throw l}})}upload(e,n,a){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,s){return Et(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:k2.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield G0(this.fetch,h.toString(),f,{headers:y});return{data:{path:l,fullPath:_.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lr(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Et(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const l=yield ps(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),u=new URL(this.url+l.url),h=u.searchParams.get("token");if(!h)throw new Nm("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}})}update(e,n,a){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Et(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}copy(e,n,a){return Et(this,void 0,void 0,function*(){try{return{data:{path:(yield ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,a){return Et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),l=yield ps(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,a){return Et(this,void 0,void 0,function*(){try{const s=yield ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(e),f=()=>Th(this.fetch,`${this.url}/${s}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new l3(f,this.shouldThrowOnError)}info(e){return Et(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield Th(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$0(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}})}exists(e){return Et(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield s3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a)&&a instanceof H0){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),s=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&s.push(l);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&s.push(f);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${p}`)}}}remove(e){return Et(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}list(e,n,a){return Et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},u3),n),{prefix:e||""});return{data:yield ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}listV2(e,n){return Et(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield ps(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ey="2.81.1",jy={"X-Client-Info":`storage-js/${Ey}`};class h3{constructor(e,n={},a,s){this.shouldThrowOnError=!1;const l=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Em(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Et(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Th(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}getBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}createBucket(e){return Et(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lr(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Et(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class f3{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=Em(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}listBuckets(e){return Et(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Th(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}}const km={"X-Client-Info":`storage-js/${Ey}`,"Content-Type":"application/json"};class ky extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ma(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Zp extends ky{constructor(e,n,a){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class d3 extends ky{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var L2;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(L2||(L2={}));const Lm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),p3=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},C2=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),m3=(r,e,n)=>Et(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const s=r.status||500,l=r;if(typeof l.json=="function")l.json().then(u=>{const h=u?.statusCode||u?.code||s+"";e(new Zp(C2(u),s,h))}).catch(()=>{const u=s+"",h=l.statusText||`HTTP ${s} error`;e(new Zp(h,s,u))});else{const u=s+"",h=l.statusText||`HTTP ${s} error`;e(new Zp(h,s,u))}}else e(new d3(C2(r),r))}),g3=(r,e,n,a)=>{const s={method:r,headers:e?.headers||{}};return a?(p3(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function v3(r,e,n,a,s,l){return Et(this,void 0,void 0,function*(){return new Promise((u,h)=>{r(n,g3(e,a,s,l)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>m3(f,h,a))})})}function ga(r,e,n,a,s){return Et(this,void 0,void 0,function*(){return v3(r,"POST",e,a,s,n)})}class y3{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},km),n),this.fetch=Lm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Et(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Et(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ma(a))return{data:null,error:a};throw a}})}listIndexes(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Et(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ma(a))return{data:null,error:a};throw a}})}}class b3{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},km),n),this.fetch=Lm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Et(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ga(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}getVectors(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}listVectors(e){return Et(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ga(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}queryVectors(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Et(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ga(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}}class w3{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},km),n),this.fetch=Lm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}getBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield ga(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}listBuckets(){return Et(this,arguments,void 0,function*(e={}){try{return{data:yield ga(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:(yield ga(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ma(n))return{data:null,error:n};throw n}})}}class _3 extends w3{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new x3(this.url,this.headers,e,this.fetch)}}class x3 extends y3{constructor(e,n,a,s){super(e,n,s),this.vectorBucketName=a}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Et(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Et(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Et(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Et(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new S3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class S3 extends b3{constructor(e,n,a,s,l){super(e,n,l),this.vectorBucketName=a,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Et(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Et(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Et(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Et(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Et(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class A3 extends h3{constructor(e,n={},a,s){super(e,n,a,s)}from(e){return new c3(this.url,this.headers,e,this.fetch)}get vectors(){return new _3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f3(this.url+"/iceberg",this.headers,this.fetch)}}const N3="2.81.1";let Nh="";typeof Deno<"u"?Nh="deno":typeof document<"u"?Nh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nh="react-native":Nh="node";const E3={"X-Client-Info":`supabase-js-${Nh}/${N3}`},j3={headers:E3},k3={schema:"public"},L3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C3={},T3=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),O3=()=>Headers,R3=(r,e,n)=>{const a=T3(n),s=O3();return async(l,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:r;let p=new s(u?.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(l,Object.assign(Object.assign({},u),{headers:p}))}};function M3(r){return r.endsWith("/")?r:r+"/"}function D3(r,e){var n,a;const{db:s,auth:l,realtime:u,global:h}=r,{db:f,auth:p,realtime:y,global:_}=e,A={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?A.accessToken=r.accessToken:delete A.accessToken,A}function P3(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M3(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ly="2.81.1",yc=30*1e3,V0=3,Qp=V0*yc,U3="http://localhost:9999",B3="supabase.auth.token",I3={"X-Client-Info":`gotrue-js/${Ly}`},W0="X-Supabase-Api-Version",Cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q3=600*1e3;class Oh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Ct(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class F3 extends Oh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function H3(r){return Ct(r)&&r.name==="AuthApiError"}class uu extends Oh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xl extends Oh{constructor(e,n,a,s){super(e,a,s),this.name=n,this.status=a}}class fs extends xl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $3(r){return Ct(r)&&r.name==="AuthSessionMissingError"}class uc extends xl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qf extends xl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ff extends xl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function G3(r){return Ct(r)&&r.name==="AuthImplicitGrantRedirectError"}class T2 extends xl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y0 extends xl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function e0(r){return Ct(r)&&r.name==="AuthRetryableFetchError"}class O2 extends xl{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class K0 extends xl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R2=` 	
\r=`.split(""),V3=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<R2.length;e+=1)r[R2[e].charCodeAt(0)]=-2;for(let e=0;e<vd.length;e+=1)r[vd[e].charCodeAt(0)]=e;return r})();function M2(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(vd[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(vd[a]),e.queuedBits-=6}}function Ty(r,e,n){const a=V3[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function D2(r){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=u=>{K3(u,a,n)};for(let u=0;u<r.length;u+=1)Ty(r.charCodeAt(u),s,l);return e.join("")}function W3(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Y3(r,e){for(let n=0;n<r.length;n+=1){let a=r.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(r.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}W3(a,e)}}function K3(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Sc(r){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)Ty(r.charCodeAt(s),n,a);return new Uint8Array(e)}function J3(r){const e=[];return Y3(r,n=>e.push(n)),new Uint8Array(e)}function fu(r){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};return r.forEach(s=>M2(s,n,a)),M2(null,n,a),e.join("")}function X3(r){return Math.round(Date.now()/1e3)+r}function Z3(){return Symbol("auth-callback")}const ai=()=>typeof window<"u"&&typeof document<"u",tu={tested:!1,writable:!1},Oy=()=>{if(!ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tu.tested)return tu.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),tu.tested=!0,tu.writable=!0}catch{tu.tested=!0,tu.writable=!1}return tu.writable};function Q3(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,l)=>{e[l]=s})}catch{}return n.searchParams.forEach((a,s)=>{e[s]=a}),e}const Ry=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),eS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",bc=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},nu=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fl=async(r,e)=>{await r.removeItem(e)};class jd{constructor(){this.promise=new jd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jd.promiseConstructor=Promise;function t0(r){const e=r.split(".");if(e.length!==3)throw new K0("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!z3.test(e[a]))throw new K0("JWT not in base64url format");return{header:JSON.parse(D2(e[0])),payload:JSON.parse(D2(e[1])),signature:Sc(e[2]),raw:{header:e[0],payload:e[1]}}}async function tS(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function nS(r,e){return new Promise((a,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){s(u);return}}})()})}function rS(r){return("0"+r.toString(16)).substr(-2)}function iS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let l=0;l<56;l++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,rS).join("")}async function aS(r){const n=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function sS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await aS(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cc(r,e,n=!1){const a=iS();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await bc(r,`${e}-code-verifier`,s);const l=await sS(a);return[l,a===l?"plain":"s256"]}const oS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lS(r){const e=r.headers.get(W0);if(!e||!e.match(oS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function uS(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function cS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hc(r){if(!hS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function n0(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fS(r,e){return new Proxy(r,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,s)}})}function P2(r){return JSON.parse(JSON.stringify(r))}const au=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),dS=[502,503,504];async function U2(r){var e;if(!eS(r))throw new Y0(au(r),0);if(dS.includes(r.status))throw new Y0(au(r),r.status);let n;try{n=await r.json()}catch(l){throw new uu(au(l),l)}let a;const s=lS(r);if(s&&s.getTime()>=Cy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new O2(au(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new fs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new O2(au(n),r.status,n.weak_password.reasons);throw new F3(au(n),r.status||500,a)}const pS=(r,e,n,a)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Ft(r,e,n,a){var s;const l=Object.assign({},a?.headers);l[W0]||(l[W0]=Cy["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await mS(r,e,n+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function mS(r,e,n,a,s,l){const u=pS(e,a,s,l);let h;try{h=await r(n,Object.assign({},u))}catch(f){throw console.error(f),new Y0(au(f),0)}if(h.ok||await U2(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await U2(f)}}function ds(r){var e;let n=null;yS(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=X3(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:a},error:null}}function B2(r){const e=ds(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function bl(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function gS(r){return{data:r,error:null}}function vS(r){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:l}=r,u=Oc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function I2(r){return r}function yS(r){return r.access_token&&r.refresh_token&&r.expires_in}const r0=["global","local","others"];class bS{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Ry(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=r0[0]){if(r0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${r0.join(", ")}`);try{return await Ft(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bl})}catch(a){if(Ct(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=Oc(e,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await Ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vS,redirectTo:n?.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bl})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,s,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=await Ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:I2});if(y.error)throw y.error;const _=await y.json(),A=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);p[`${T}Page`]=N}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ct(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){hc(e);try{return await Ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bl})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hc(e);try{return await Ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bl})}catch(a){if(Ct(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){hc(e);try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bl})}catch(a){if(Ct(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){hc(e.userId);try{const{data:n,error:a}=await Ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hc(e.userId),hc(e.id);try{return{data:await Ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,s,l,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},y=await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:I2});if(y.error)throw y.error;const _=await y.json(),A=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(k.split(";")[1].split("=")[1]);p[`${T}Page`]=N}),p.total=parseInt(A)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(Ct(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ft(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ft(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Ft(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ft(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function z2(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const fc={debug:!!(globalThis&&Oy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class My extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wS extends My{}async function _S(r,e,n){fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),fc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await n()}finally{fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw fc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new wS(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(fc.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function SS(r){return parseInt(r,16)}function AS(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function NS(r){var e;const{chainId:n,domain:a,expirationTime:s,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:p,scheme:y,uri:_,version:A}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=Dy(r.address),k=y?`${y}://${a}`:a,N=r.statement?`${r.statement}
`:"",T=`${k} wants you to sign in with your Ethereum account:
${w}

${N}`;let L=`URI: ${_}
Version: ${A}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(s&&(L+=`
Expiration Time: ${s.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),f&&(L+=`
Request ID: ${f}`),p){let D=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);D+=`
- ${U}`}L+=D}return`${T}
${L}`}class Lr extends Error{constructor({message:e,code:n,cause:a,name:s}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=s??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class yd extends Lr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function ES({error:r,options:e}){var n,a,s;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Lr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Lr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Lr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Lr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Lr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Lr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Lr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(Py(u)){if(l.rp.id!==u)return new Lr({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Lr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function jS({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Lr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Lr({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(Py(a)){if(n.rpId!==a)return new Lr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Lr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Lr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Lr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class kS{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LS=new kS;function CS(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:a}=r,s=Oc(r,["challenge","user","excludeCredentials"]),l=Sc(e).buffer,u=Object.assign(Object.assign({},n),{id:Sc(n.id).buffer}),h=Object.assign(Object.assign({},s),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const p=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:Sc(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function TS(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,a=Oc(r,["challenge","allowCredentials"]),s=Sc(e).buffer,l=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Sc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function OS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:fu(new Uint8Array(r.response.attestationObject)),clientDataJSON:fu(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function RS(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,a=r.getClientExtensionResults(),s=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:fu(new Uint8Array(s.authenticatorData)),clientDataJSON:fu(new Uint8Array(s.clientDataJSON)),signature:fu(new Uint8Array(s.signature)),userHandle:s.userHandle?fu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Py(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function q2(){var r,e;return!!(ai()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function MS(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:ES({error:e,options:r})}}}async function DS(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:jS({error:e,options:r})}}}const PS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},US={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bd(...r){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of r)if(s)for(const l in s){const u=s[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(e(u)){const h=a[l];e(h)?a[l]=bd(h,u):a[l]=bd(u)}else a[l]=u}return a}function BS(r,e){return bd(PS,r,e||{})}function IS(r,e){return bd(US,r,e||{})}class zS{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:s},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:h};const f=s??LS.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=BS(u.webauthn.credential_options.publicKey,l?.create),{data:y,error:_}=await MS({publicKey:p,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const p=IS(u.webauthn.credential_options.publicKey,l?.request),{data:y,error:_}=await DS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(u){return Ct(u)?{data:null,error:u}:{data:null,error:new uu("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!n)return{data:null,error:new Oh("rpId is required for WebAuthn authentication")};try{if(!q2())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return Ct(u)?{data:null,error:u}:{data:null,error:new uu("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!n)return{data:null,error:new Oh("rpId is required for WebAuthn registration")};try{if(!q2())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(A=>A.factor_type==="webauthn"&&A.friendly_name===e&&A.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:f,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Ct(u)?{data:null,error:u}:{data:null,error:new uu("Unexpected error in register",u)}}}}xS();const qS={url:U3,storageKey:B3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function F2(r,e,n){return await n()}const dc={};class Rh{get jwks(){var e,n;return(n=(e=dc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){dc[this.storageKey]=Object.assign(Object.assign({},dc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=dc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){dc[this.storageKey]=Object.assign(Object.assign({},dc[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},qS),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Rh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Rh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ai()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new bS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Ry(l.fetch),this.lock=l.lock||F2,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ai()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=_S:this.lock=F2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Oy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z2(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=z2(this.memoryStorage)),ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ly}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(ai()&&(n=Q3(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),ai()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),G3(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?this._returnResult({error:n}):this._returnResult({error:new uu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,s;try{const l=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ds}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(Ct(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,a,s;try{let l;if("email"in e){const{email:y,password:_,options:A}=e;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await cc(this.storage,this.storageKey)),l=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A?.emailRedirectTo,body:{email:y,password:_,data:(n=A?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A?.captchaToken},code_challenge:w,code_challenge_method:k},xform:ds})}else if("phone"in e){const{phone:y,password:_,options:A}=e;l=await Ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(a=A?.data)!==null&&a!==void 0?a:{},channel:(s=A?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:A?.captchaToken}},xform:ds})}else throw new qf("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(l){if(Ct(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:h}=e;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:B2})}else if("phone"in e){const{phone:l,password:u,options:h}=e;n=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:B2})}else throw new qf("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const l=new uc;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(Ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,s,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,s,l,u,h,f,p,y,_,A;let w,k;if("message"in e)w=e.message,k=e.signature;else{const{chain:N,wallet:T,statement:L,options:D}=e;let U;if(ai())if(typeof T=="object")U=T;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")U=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const F=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),ae=await U.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ae||ae.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ye=Dy(ae[0]);let ce=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ce){const W=await U.request({method:"eth_chainId"});ce=SS(W)}const se={domain:F.host,address:ye,statement:L,uri:F.href,version:"1",chainId:ce,nonce:(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=D?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=NS(se),k=await U.request({method:"personal_sign",params:[AS(w),ye]})}try{const{data:N,error:T}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:k},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ds});if(T)throw T;if(!N||!N.session||!N.user){const L=new uc;return this._returnResult({data:{user:null,session:null},error:L})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:T})}catch(N){if(Ct(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var n,a,s,l,u,h,f,p,y,_,A,w;let k,N;if("message"in e)k=e.message,N=e.signature;else{const{chain:T,wallet:L,statement:D,options:U}=e;let F;if(ai())if(typeof L=="object")F=L;else{const ye=window;if("solana"in ye&&typeof ye.solana=="object"&&("signIn"in ye.solana&&typeof ye.solana.signIn=="function"||"signMessage"in ye.solana&&typeof ye.solana.signMessage=="function"))F=ye.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=L}const ae=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const ye=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U?.signInWithSolana),{version:"1",domain:ae.host,uri:ae.href}),D?{statement:D}:null));let ce;if(Array.isArray(ye)&&ye[0]&&typeof ye[0]=="object")ce=ye[0];else if(ye&&typeof ye=="object"&&"signedMessage"in ye&&"signature"in ye)ce=ye;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)k=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),N=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ae.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${ae.href}`,`Issued At: ${(s=(a=U?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=U?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((u=U?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((f=U?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((_=(y=U?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...U.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const ye=await F.signMessage(new TextEncoder().encode(k),"utf8");if(!ye||!(ye instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ye}}try{const{data:T,error:L}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:fu(N)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ds});if(L)throw L;if(!T||!T.session||!T.user){const D=new uc;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:L})}catch(T){if(Ct(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await nu(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:l,error:u}=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:ds});if(await fl(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new uc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:u})}catch(l){if(Ct(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:a,token:s,access_token:l,nonce:u}=e,h=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ds}),{data:f,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f||!f.session||!f.user){const y=new uc;return this._returnResult({data:{user:null,session:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:p})}catch(n){if(Ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,s,l,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await cc(this.storage,this.storageKey));const{error:_}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:y}=await Ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new qf("You must provide either an email or phone number.")}catch(h){if(Ct(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,a;try{let s,l;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await Ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:ds});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:p,session:f},error:null})}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,a,s,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await cc(this.storage,this.storageKey));const p=await Ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:gS});return!((l=p.data)===null||l===void 0)&&l.url&&ai()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(Ct(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new fs;const{error:s}=await Ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:l}=e,{error:u}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:s,options:l}=e,{data:u,error:h}=await Ft(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new qf("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await nu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Qp:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await nu(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=n0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=fS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bl}):await this._useSession(async n=>{var a,s,l;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fs}:await Ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:bl})})}catch(n){if(Ct(n))return $3(n)&&(await this._removeSession(),await fl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:s,error:l}=a;if(l)throw l;if(!s.session)throw new fs;const u=s.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await cc(this.storage,this.storageKey));const{data:p,error:y}=await Ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:bl});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(Ct(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fs;const n=Date.now()/1e3;let a=n,s=!0,l=null;const{payload:u}=t0(e.access_token);if(u.exp&&(a=u.exp,s=a<=n),s){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(Ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new fs;const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ct(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ai())throw new Ff("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ff(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new T2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ff("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new T2("No code detected.");const{data:D,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!l||!h||!u||!p)throw new Ff("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let A=y+_;f&&(A=parseInt(f));const w=A-y;w*1e3<=yc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const k=A-_;y-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,A,y):y-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,A,y);const{data:N,error:T}=await this._getUser(l);if(T)throw T;const L={provider_token:a,provider_refresh_token:s,access_token:l,expires_in:_,expires_at:A,refresh_token:u,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:e.type},error:null})}catch(a){if(Ct(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await nu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:l}=n;if(l)return this._returnResult({error:l});const u=(a=s.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(H3(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await fl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Z3(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,s;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await cc(this.storage,this.storageKey,!0));try{return await Ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ct(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:s}=await this._useSession(async l=>{var u,h,f,p,y;const{data:_,error:A}=l;if(A)throw A;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Ft(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return ai()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(Ct(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:l}}=n;if(s)throw s;const{options:u,provider:h,token:f,access_token:p,nonce:y}=e,_=await Ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ds}),{data:A,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!A||!A.session||!A.user?this._returnResult({data:{user:null,session:null},error:new uc}):(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("USER_UPDATED",A.session)),this._returnResult({data:A,error:w}))}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,s;const{data:l,error:u}=n;if(u)throw u;return await Ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await nS(async s=>(s>0&&await tS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ds})),(s,l)=>{const u=200*Math.pow(2,s);return l&&e0(l)&&Date.now()+u-a<yc})}catch(a){if(this._debug(n,"error",a),Ct(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),ai()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await nu(this.storage,this.storageKey);if(s&&this.userStorage){let u=await nu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await bc(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u?.user)!==null&&e!==void 0?e:n0()}else if(s&&!s.user&&!s.user){const u=await nu(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await fl(this.storage,this.storageKey+"-user"),await bc(this.storage,this.storageKey,s)):s.user=n0()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const l=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qp;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Qp}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),e0(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(s.access_token);!h&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jd;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new fs;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(s,"error",l),Ct(l)){const u={data:null,error:l};return e0(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await bc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const l=P2(s);await bc(this.storage,this.storageKey,l)}else{const s=P2(n);await bc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await fl(this.storage,this.storageKey),await fl(this.storage,this.storageKey+"-code-verifier"),await fl(this.storage,this.storageKey+"-user"),this.userStorage&&await fl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ai()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yc}ms, refresh threshold is ${V0} ticks`),s<=V0&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof My)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ai()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await cc(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);s.push(l.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:s,error:l}=n;return l?this._returnResult({data:null,error:l}):await Ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,s;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Ft(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?OS(e.webauthn.credential_response):RS(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await Ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:CS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:TS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=t0(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Ft(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new fs})})}catch(n){if(Ct(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new fs});const u=await Ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ai()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ct(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new fs});const u=await Ft(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ai()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Ct(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(h=>h.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+q3>s)return a;const{data:l,error:u}=await Ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,a=l.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:w,error:k}=await this.getSession();if(k||!w.session)return this._returnResult({data:null,error:k});a=w.session.access_token}const{header:s,payload:l,signature:u,raw:{header:h,payload:f}}=t0(a);n?.allowExpired||uS(l.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:l,header:s,signature:u},error:null}}const y=cS(s.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,u,J3(`${h}.${f}`)))throw new K0("Invalid JWT signature");return{data:{claims:l,header:s,signature:u},error:null}}catch(a){if(Ct(a))return this._returnResult({data:null,error:a});throw a}}}Rh.nextInstanceID={};const FS=Rh;class HS extends FS{constructor(e){super(e)}}class $S{constructor(e,n,a){var s,l,u;this.supabaseUrl=e,this.supabaseKey=n;const h=P3(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:k3,realtime:C3,auth:Object.assign(Object.assign({},L3),{storageKey:f}),global:j3},y=D3(a??{},p);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=R3(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Ux(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new A3(this.storageUrl.href,this.headers,this.fetch,a?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Rx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:l,storageKey:u,flowType:h,lock:f,debug:p,throwOnError:y},_,A){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HS({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:l,flowType:h,lock:f,debug:p,throwOnError:y,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new e3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a?.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GS=(r,e,n)=>new $S(r,e,n);function VS(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}VS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WS=void 0,YS=void 0,dn=GS(WS,YS),Uy=K.createContext(null);function KS({children:r}){const[e,n]=K.useState(null),[a,s]=K.useState(null),[l,u]=K.useState(!0);K.useEffect(()=>{let f=!0;(async()=>{u(!0);const{data:_,error:A}=await dn.auth.getUser();if(!f)return;if(A){console.warn("Auth error:",A.message),n(null),s(null),u(!1);return}const w=_?.user??null;if(n(w),!w){s(null),u(!1);return}const{data:k,error:N}=await dn.from("profiles").select("*").eq("id",w.id).single();N?(console.warn("Profile load error:",N.message),s({id:w.id,email:w.email,display_name:w.email,role:"BASIC",is_active:!0,show_in_contacts:!0,show_in_schedule:!0,show_in_timesheets:!0})):s(k),u(!1)})();const{data:{subscription:y}}=dn.auth.onAuthStateChange((_,A)=>{const w=A?.user??null;n(w),w?dn.from("profiles").select("*").eq("id",w.id).single().then(({data:k})=>{s(k)}):s(null)});return()=>{f=!1,y.unsubscribe()}},[]);const h={user:e,profile:a,role:a?.role||"BASIC",authLoading:l};return v.jsx(Uy.Provider,{value:h,children:r})}function Vs(){return K.useContext(Uy)}function JS({extraActions:r}){const n=Vs()?.user||null,a=async()=>{await dn.auth.signOut()};return v.jsxs("div",{className:"page-actions",children:[r,n&&v.jsx("button",{className:"btn-pill",type:"button",onClick:a,children:"Logout"})]})}function Li({icon:r,title:e,subtitle:n,actions:a,children:s}){return v.jsxs("div",{className:"page",children:[v.jsxs("header",{className:"page-header",children:[v.jsxs("div",{className:"page-title-group",children:[r&&v.jsx("span",{className:"page-icon",children:r}),v.jsxs("div",{children:[v.jsx("h2",{className:"page-title",children:e}),n&&v.jsx("p",{className:"page-subtitle",children:n})]})]}),v.jsx(JS,{extraActions:a})]}),v.jsx("div",{className:"page-body",children:s})]})}function XS(){const{user:r}=Vs(),e=gm(),[n,a]=K.useState(""),[s,l]=K.useState(""),[u,h]=K.useState(!1),[f,p]=K.useState("");K.useEffect(()=>{r&&e("/")},[r,e]);const y=async _=>{_.preventDefault(),p(""),h(!0);const{error:A}=await dn.auth.signInWithPassword({email:n.trim(),password:s});if(h(!1),A){p(A.message||"Login failed");return}e("/")};return v.jsx(Li,{icon:"",title:"Login",subtitle:"Sign in to Pro West Portal",children:v.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto"},children:[v.jsx("h3",{className:"card-title",children:"Staff login"}),v.jsx("p",{className:"card-subtitle",children:"Use your Pro West work email and password."}),v.jsxs("form",{onSubmit:y,style:{marginTop:"0.8rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Email"}),v.jsx("input",{type:"email",className:"maps-search-input",value:n,onChange:_=>a(_.target.value),placeholder:"you@prowestsurveying.com.au",required:!0})]}),v.jsxs("div",{className:"card-row",style:{marginTop:"0.6rem"},children:[v.jsx("span",{className:"card-row-label",children:"Password"}),v.jsx("input",{type:"password",className:"maps-search-input",value:s,onChange:_=>l(_.target.value),placeholder:"",required:!0})]}),f&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.8rem",color:"#b71c1c"},children:f}),v.jsx("button",{type:"submit",className:"btn-pill primary",style:{marginTop:"0.9rem",width:"100%"},disabled:u,children:u?"Signing in...":"Sign in"})]})]})})}function da({children:r}){const{user:e,authLoading:n}=Vs();return n?v.jsx("div",{style:{padding:"1rem"},children:"Checking login"}):e?r:v.jsx(V_,{to:"/login",replace:!0})}function ZS(){return v.jsxs(Li,{icon:"",title:"Home",subtitle:"Quick overview of Pro West operations",actions:v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn-pill primary",children:"Today"}),v.jsx("button",{className:"btn-pill",children:"This week"})]}),children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Welcome to ProWest Portal"}),v.jsx("p",{className:"card-subtitle",children:"Use the navigation on the left to access jobs, maps, schedule, forms and more."}),v.jsxs("p",{style:{fontSize:"0.85rem",color:"#555",marginTop:"0.35rem"},children:["This portal is designed for both ",v.jsx("strong",{children:"field"})," and ",v.jsx("strong",{children:"office"})," use:"]}),v.jsxs("ul",{style:{fontSize:"0.85rem",marginTop:"0.3rem",paddingLeft:"1.1rem"},children:[v.jsx("li",{children:"Check today's jobs and locations."}),v.jsx("li",{children:"Open job sites directly in Google Maps."}),v.jsx("li",{children:"Access safety forms like Take 5 and vehicle prestarts."}),v.jsx("li",{children:"Log timesheets and view the schedule (coming soon)."})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Quick links"}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"View today's jobs on the map"}),v.jsx("a",{className:"btn-pill",href:"/maps",children:"Open Maps"})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Open job register"}),v.jsx("a",{className:"btn-pill",href:"/jobs",children:"Jobs"})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"View crew schedule"}),v.jsx("a",{className:"btn-pill",href:"/schedule",children:"Schedule"})]})]})]})}function QS(){const{role:r}=Vs(),e=r==="ADMIN",[n,a]=K.useState([]),[s,l]=K.useState(!0),[u,h]=K.useState(null),[f,p]=K.useState("");K.useEffect(()=>{if(!e)return;(async()=>{l(!0),p("");const{data:A,error:w}=await dn.from("profiles").select("id, email, display_name, role, is_active, show_in_contacts, show_in_schedule, show_in_timesheets").order("email",{ascending:!0});w?(console.error("Error loading profiles:",w),p("Could not load user list."),a([])):a(A||[]),l(!1)})()},[e]);const y=async(_,A)=>{h(_),p("");const{error:w}=await dn.from("profiles").update(A).eq("id",_);w?(console.error("Error updating profile:",w),p("Could not update user  please try again.")):a(k=>k.map(N=>N.id===_?{...N,...A}:N)),h(null)};return e?v.jsx(Li,{icon:"",title:"Administration",subtitle:"Manage staff accounts and access levels",children:v.jsx("div",{className:"card",children:s?v.jsx("p",{children:"Loading users"}):v.jsxs(v.Fragment,{children:[f&&v.jsx("p",{style:{color:"#b71c1c",fontSize:"0.8rem"},children:f}),v.jsxs("div",{className:"admin-users-table",children:[v.jsxs("div",{className:"admin-users-header",children:[v.jsx("span",{children:"Name"}),v.jsx("span",{children:"Email"}),v.jsx("span",{children:"Access"}),v.jsx("span",{children:"Visible in"}),v.jsx("span",{children:"Active"})]}),n.map(_=>v.jsxs("div",{className:"admin-users-row",children:[v.jsx("span",{children:_.display_name||_.email}),v.jsx("span",{children:_.email}),v.jsxs("span",{children:[v.jsxs("label",{style:{marginRight:"0.5rem"},children:[v.jsx("input",{type:"radio",name:`role-${_.id}`,value:"BASIC",checked:_.role!=="ADMIN",onChange:()=>y(_.id,{role:"BASIC"}),disabled:u===_.id})," ","Basic"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:`role-${_.id}`,value:"ADMIN",checked:_.role==="ADMIN",onChange:()=>y(_.id,{role:"ADMIN"}),disabled:u===_.id})," ","Admin"]})]}),v.jsxs("span",{children:[v.jsxs("label",{style:{marginRight:"0.5rem",fontSize:"0.8rem"},children:[v.jsx("input",{type:"checkbox",checked:!!_.show_in_contacts,onChange:A=>y(_.id,{show_in_contacts:A.target.checked}),disabled:u===_.id})," ","Contacts"]}),v.jsxs("label",{style:{marginRight:"0.5rem",fontSize:"0.8rem"},children:[v.jsx("input",{type:"checkbox",checked:!!_.show_in_schedule,onChange:A=>y(_.id,{show_in_schedule:A.target.checked}),disabled:u===_.id})," ","Schedule"]}),v.jsxs("label",{style:{fontSize:"0.8rem"},children:[v.jsx("input",{type:"checkbox",checked:!!_.show_in_timesheets,onChange:A=>y(_.id,{show_in_timesheets:A.target.checked}),disabled:u===_.id})," ","Timesheets"]})]}),v.jsx("span",{children:v.jsx("input",{type:"checkbox",checked:!!_.is_active,onChange:A=>y(_.id,{is_active:A.target.checked}),disabled:u===_.id})})]},_.id))]})]})})}):v.jsx(Li,{icon:"",title:"Administration",children:v.jsx("div",{className:"card",children:v.jsx("p",{children:"You do not have permission to view this page."})})})}function i0(r){if(!r)return"?";const e=r.trim().split(/\s+/);return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function e4(){const[r,e]=K.useState([]),[n,a]=K.useState(""),[s,l]=K.useState(null),[u,h]=K.useState(!0),[f,p]=K.useState("");K.useEffect(()=>{let N=!1;return(async()=>{h(!0),p("");const{data:L,error:D}=await dn.from("profiles").select("id, display_name, job_title, mobile, email, is_active, show_in_contacts").eq("is_active",!0).eq("show_in_contacts",!0).order("display_name",{ascending:!0});if(!N){if(D)console.error("Error loading contacts:",D),p("Could not load contacts."),e([]);else{const U=(L||[]).map(F=>({id:F.id,name:F.display_name||F.email||"Unnamed",role:F.job_title||"",mobile:F.mobile||"",email:F.email||""}));e(U)}h(!1)}})(),()=>{N=!0}},[]);const y=K.useMemo(()=>{if(!r.length)return[];if(!n.trim())return r;const N=n.toLowerCase();return r.filter(T=>{const L=(T.name||"").toLowerCase(),D=(T.role||"").toLowerCase(),U=(T.mobile||"").toLowerCase(),F=(T.email||"").toLowerCase();return L.includes(N)||D.includes(N)||U.includes(N)||F.includes(N)})},[r,n]),_=K.useMemo(()=>n.trim()?y.slice(0,6):[],[y,n]),A=s!=null&&r.find(N=>N.id===s)||null,w=N=>{l(N.id),a(N.name)},k=N=>{const T=N.target.value;a(T),T.trim()||l(null)};return v.jsxs(Li,{icon:"",title:"Contacts",subtitle:"Key Pro West staff contact details",children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Search contacts"}),v.jsx("p",{className:"card-subtitle",children:"Start typing a name, role, mobile or email to find a worker."}),v.jsx("div",{style:{marginTop:"0.4rem"},children:v.jsx("input",{type:"text",className:"maps-search-input",value:n,onChange:k,placeholder:u?"Loading contacts":"Search by name, role, mobile or email",disabled:u})}),f&&v.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#b71c1c"},children:f}),n.trim()&&v.jsxs("div",{className:"contacts-suggestions",style:{marginTop:"0.4rem",maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.35rem"},children:[_.length===0&&!u&&v.jsx("div",{className:"contacts-no-results",style:{fontSize:"0.8rem",color:"#777"},children:"No contacts match this search."}),_.map(N=>v.jsxs("button",{type:"button",onClick:()=>w(N),className:`contacts-suggestion ${s===N.id?"selected":""}`,children:[v.jsxs("div",{className:"contacts-suggestion-header",children:[v.jsx("div",{className:"contacts-avatar",children:i0(N.name)}),v.jsxs("div",{children:[v.jsx("div",{className:"contacts-suggestion-name",children:N.name}),N.role&&v.jsx("div",{className:"contacts-suggestion-role",children:N.role})]})]}),v.jsx("div",{className:"contacts-suggestion-meta",children:(N.mobile||"No mobile")+"  "+(N.email||"No email")})]},N.id))]})]}),A&&v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Contact details"}),v.jsx("p",{className:"card-subtitle",children:"Tap a name in the search suggestions or list to see details."}),v.jsxs("div",{style:{marginTop:"0.4rem",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[v.jsx("div",{className:"contacts-avatar",children:i0(A.name)}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Name"}),v.jsx("span",{className:"card-row-value",children:A.name})]}),A.role&&v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Role"}),v.jsx("span",{className:"card-row-value",children:A.role})]}),A.mobile&&v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Mobile"}),v.jsx("a",{href:`tel:${A.mobile.replace(/\s+/g,"")}`,className:"card-row-value",style:{textDecoration:"none"},children:A.mobile})]}),A.email&&v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Email"}),v.jsx("a",{href:`mailto:${A.email}`,className:"card-row-value",style:{textDecoration:"none"},children:A.email})]})]})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"All contacts"}),v.jsx("p",{className:"card-subtitle",children:"Quick reference list of everyone in Pro West Portal."}),u&&v.jsx("p",{children:"Loading contacts"}),!u&&r.length===0&&!f&&v.jsx("p",{children:"No contacts found. Add or activate staff from the Administration page."}),!u&&r.length>0&&v.jsx("div",{className:"contacts-list-grid",children:y.map(N=>v.jsxs("div",{className:"contacts-list-item",onClick:()=>w(N),children:[v.jsxs("div",{className:"contacts-suggestion-header",children:[v.jsx("div",{className:"contacts-avatar",children:i0(N.name)}),v.jsxs("div",{children:[v.jsx("div",{className:"contacts-suggestion-name",children:N.name}),N.role&&v.jsx("div",{className:"contacts-suggestion-role",children:N.role})]})]}),v.jsxs("div",{className:"contacts-suggestion-meta",children:[v.jsx("div",{children:N.mobile||"No mobile"}),v.jsx("div",{style:{color:"#777"},children:N.email||"No email"})]})]},N.id))})]})]})}const t4=[{id:"24051",name:"3 Lot Subdivision",client:"Smith Developments",suburb:"Hillarys",status:"Planned"},{id:"24052",name:"Strata Check",client:"ABC Strata",suburb:"Joondalup",status:"In progress"},{id:"24053",name:"Construction Setout",client:"BuildCorp",suburb:"Osborne Park",status:"Complete"}];function n4(){return v.jsx(Li,{icon:"",title:"Jobs",subtitle:"Overview of current and recent jobs from the Pro West register",actions:v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn-pill primary",children:"New job (future)"}),v.jsx("button",{className:"btn-pill",children:"Export (future)"})]}),children:v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Job list"}),v.jsx("p",{className:"card-subtitle",children:"This is a mock layout. Later we can connect this to your real job registry or scheduler."}),v.jsx("div",{style:{marginTop:"0.4rem"},children:t4.map(r=>v.jsxs("div",{className:"card-row",style:{borderBottom:"1px solid #f0f2f7"},children:[v.jsxs("div",{children:[v.jsxs("div",{className:"card-row-label",children:["Job ",r.id,"  ",r.name]}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"#777"},children:[r.client,"  ",r.suburb]})]}),v.jsx("div",{style:{fontSize:"0.8rem",fontWeight:600},children:r.status})]},r.id))})]})})}var r4=Object.getOwnPropertyNames,i4=Object.getOwnPropertySymbols,a4=Object.prototype.hasOwnProperty;function H2(r,e){return function(a,s,l){return r(a,s,l)&&e(a,s,l)}}function Hf(r){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return r(n,a,s);var l=s.cache,u=l.get(n),h=l.get(a);if(u&&h)return u===a&&h===n;l.set(n,a),l.set(a,n);var f=r(n,a,s);return l.delete(n),l.delete(a),f}}function s4(r){return r?.[Symbol.toStringTag]}function $2(r){return r4(r).concat(i4(r))}var o4=Object.hasOwn||(function(r,e){return a4.call(r,e)});function gu(r,e){return r===e||!r&&!e&&r!==r&&e!==e}var l4="__v",u4="__o",c4="_owner",G2=Object.getOwnPropertyDescriptor,V2=Object.keys;function h4(r,e,n){var a=r.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(r[a],e[a],a,a,r,e,n))return!1;return!0}function f4(r,e){return gu(r.getTime(),e.getTime())}function d4(r,e){return r.name===e.name&&r.message===e.message&&r.cause===e.cause&&r.stack===e.stack}function p4(r,e){return r===e}function W2(r,e,n){var a=r.size;if(a!==e.size)return!1;if(!a)return!0;for(var s=new Array(a),l=r.entries(),u,h,f=0;(u=l.next())&&!u.done;){for(var p=e.entries(),y=!1,_=0;(h=p.next())&&!h.done;){if(s[_]){_++;continue}var A=u.value,w=h.value;if(n.equals(A[0],w[0],f,_,r,e,n)&&n.equals(A[1],w[1],A[0],w[0],r,e,n)){y=s[_]=!0;break}_++}if(!y)return!1;f++}return!0}var m4=gu;function g4(r,e,n){var a=V2(r),s=a.length;if(V2(e).length!==s)return!1;for(;s-- >0;)if(!By(r,e,n,a[s]))return!1;return!0}function bh(r,e,n){var a=$2(r),s=a.length;if($2(e).length!==s)return!1;for(var l,u,h;s-- >0;)if(l=a[s],!By(r,e,n,l)||(u=G2(r,l),h=G2(e,l),(u||h)&&(!u||!h||u.configurable!==h.configurable||u.enumerable!==h.enumerable||u.writable!==h.writable)))return!1;return!0}function v4(r,e){return gu(r.valueOf(),e.valueOf())}function y4(r,e){return r.source===e.source&&r.flags===e.flags}function Y2(r,e,n){var a=r.size;if(a!==e.size)return!1;if(!a)return!0;for(var s=new Array(a),l=r.values(),u,h;(u=l.next())&&!u.done;){for(var f=e.values(),p=!1,y=0;(h=f.next())&&!h.done;){if(!s[y]&&n.equals(u.value,h.value,u.value,h.value,r,e,n)){p=s[y]=!0;break}y++}if(!p)return!1}return!0}function b4(r,e){var n=r.length;if(e.length!==n)return!1;for(;n-- >0;)if(r[n]!==e[n])return!1;return!0}function w4(r,e){return r.hostname===e.hostname&&r.pathname===e.pathname&&r.protocol===e.protocol&&r.port===e.port&&r.hash===e.hash&&r.username===e.username&&r.password===e.password}function By(r,e,n,a){return(a===c4||a===u4||a===l4)&&(r.$$typeof||e.$$typeof)?!0:o4(e,a)&&n.equals(r[a],e[a],a,a,r,e,n)}var _4="[object Arguments]",x4="[object Boolean]",S4="[object Date]",A4="[object Error]",N4="[object Map]",E4="[object Number]",j4="[object Object]",k4="[object RegExp]",L4="[object Set]",C4="[object String]",T4="[object URL]",O4=Array.isArray,K2=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,J2=Object.assign,R4=Object.prototype.toString.call.bind(Object.prototype.toString);function M4(r){var e=r.areArraysEqual,n=r.areDatesEqual,a=r.areErrorsEqual,s=r.areFunctionsEqual,l=r.areMapsEqual,u=r.areNumbersEqual,h=r.areObjectsEqual,f=r.arePrimitiveWrappersEqual,p=r.areRegExpsEqual,y=r.areSetsEqual,_=r.areTypedArraysEqual,A=r.areUrlsEqual,w=r.unknownTagComparators;return function(N,T,L){if(N===T)return!0;if(N==null||T==null)return!1;var D=typeof N;if(D!==typeof T)return!1;if(D!=="object")return D==="number"?u(N,T,L):D==="function"?s(N,T,L):!1;var U=N.constructor;if(U!==T.constructor)return!1;if(U===Object)return h(N,T,L);if(O4(N))return e(N,T,L);if(K2!=null&&K2(N))return _(N,T,L);if(U===Date)return n(N,T,L);if(U===RegExp)return p(N,T,L);if(U===Map)return l(N,T,L);if(U===Set)return y(N,T,L);var F=R4(N);if(F===S4)return n(N,T,L);if(F===k4)return p(N,T,L);if(F===N4)return l(N,T,L);if(F===L4)return y(N,T,L);if(F===j4)return typeof N.then!="function"&&typeof T.then!="function"&&h(N,T,L);if(F===T4)return A(N,T,L);if(F===A4)return a(N,T,L);if(F===_4)return h(N,T,L);if(F===x4||F===E4||F===C4)return f(N,T,L);if(w){var ae=w[F];if(!ae){var ye=s4(N);ye&&(ae=w[ye])}if(ae)return ae(N,T,L)}return!1}}function D4(r){var e=r.circular,n=r.createCustomConfig,a=r.strict,s={areArraysEqual:a?bh:h4,areDatesEqual:f4,areErrorsEqual:d4,areFunctionsEqual:p4,areMapsEqual:a?H2(W2,bh):W2,areNumbersEqual:m4,areObjectsEqual:a?bh:g4,arePrimitiveWrappersEqual:v4,areRegExpsEqual:y4,areSetsEqual:a?H2(Y2,bh):Y2,areTypedArraysEqual:a?bh:b4,areUrlsEqual:w4,unknownTagComparators:void 0};if(n&&(s=J2({},s,n(s))),e){var l=Hf(s.areArraysEqual),u=Hf(s.areMapsEqual),h=Hf(s.areObjectsEqual),f=Hf(s.areSetsEqual);s=J2({},s,{areArraysEqual:l,areMapsEqual:u,areObjectsEqual:h,areSetsEqual:f})}return s}function P4(r){return function(e,n,a,s,l,u,h){return r(e,n,h)}}function U4(r){var e=r.circular,n=r.comparator,a=r.createState,s=r.equals,l=r.strict;if(a)return function(f,p){var y=a(),_=y.cache,A=_===void 0?e?new WeakMap:void 0:_,w=y.meta;return n(f,p,{cache:A,equals:s,meta:w,strict:l})};if(e)return function(f,p){return n(f,p,{cache:new WeakMap,equals:s,meta:void 0,strict:l})};var u={cache:void 0,equals:s,meta:void 0,strict:l};return function(f,p){return n(f,p,u)}}var X2=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:function(){return gu}});Sl({strict:!0,createInternalComparator:function(){return gu}});Sl({circular:!0,createInternalComparator:function(){return gu}});Sl({circular:!0,createInternalComparator:function(){return gu},strict:!0});function Sl(r){r===void 0&&(r={});var e=r.circular,n=e===void 0?!1:e,a=r.createInternalComparator,s=r.createState,l=r.strict,u=l===void 0?!1:l,h=D4(r),f=M4(h),p=a?a(f):P4(f);return U4({circular:n,comparator:f,createState:s,equals:p,strict:u})}const Z2=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a0=1,wh=8;class Cm{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,a]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const s=a>>4;if(s!==a0)throw new Error(`Got v${s} data when expected v${a0}.`);const l=Z2[a&15];if(!l)throw new Error("Unrecognized array type.");const[u]=new Uint16Array(e,2,1),[h]=new Uint32Array(e,4,1);return new Cm(h,u,l,e)}constructor(e,n=64,a=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=a,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const l=Z2.indexOf(this.ArrayType),u=e*2*this.ArrayType.BYTES_PER_ELEMENT,h=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-h%8)%8;if(l<0)throw new Error(`Unexpected typed array class: ${a}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,wh,e),this.coords=new this.ArrayType(this.data,wh+h+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(wh+u+h+f),this.ids=new this.IndexArrayType(this.data,wh,e),this.coords=new this.ArrayType(this.data,wh+h+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(a0<<4)+l]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const a=this._pos>>1;return this.ids[a]=a,this.coords[this._pos++]=e,this.coords[this._pos++]=n,a}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return J0(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,a,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:l,coords:u,nodeSize:h}=this,f=[0,l.length-1,0],p=[];for(;f.length;){const y=f.pop()||0,_=f.pop()||0,A=f.pop()||0;if(_-A<=h){for(let T=A;T<=_;T++){const L=u[2*T],D=u[2*T+1];L>=e&&L<=a&&D>=n&&D<=s&&p.push(l[T])}continue}const w=A+_>>1,k=u[2*w],N=u[2*w+1];k>=e&&k<=a&&N>=n&&N<=s&&p.push(l[w]),(y===0?e<=k:n<=N)&&(f.push(A),f.push(w-1),f.push(1-y)),(y===0?a>=k:s>=N)&&(f.push(w+1),f.push(_),f.push(1-y))}return p}within(e,n,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:l,nodeSize:u}=this,h=[0,s.length-1,0],f=[],p=a*a;for(;h.length;){const y=h.pop()||0,_=h.pop()||0,A=h.pop()||0;if(_-A<=u){for(let T=A;T<=_;T++)Q2(l[2*T],l[2*T+1],e,n)<=p&&f.push(s[T]);continue}const w=A+_>>1,k=l[2*w],N=l[2*w+1];Q2(k,N,e,n)<=p&&f.push(s[w]),(y===0?e-a<=k:n-a<=N)&&(h.push(A),h.push(w-1),h.push(1-y)),(y===0?e+a>=k:n+a>=N)&&(h.push(w+1),h.push(_),h.push(1-y))}return f}}function J0(r,e,n,a,s,l){if(s-a<=n)return;const u=a+s>>1;Iy(r,e,u,a,s,l),J0(r,e,n,a,u-1,1-l),J0(r,e,n,u+1,s,1-l)}function Iy(r,e,n,a,s,l){for(;s>a;){if(s-a>600){const p=s-a+1,y=n-a+1,_=Math.log(p),A=.5*Math.exp(2*_/3),w=.5*Math.sqrt(_*A*(p-A)/p)*(y-p/2<0?-1:1),k=Math.max(a,Math.floor(n-y*A/p+w)),N=Math.min(s,Math.floor(n+(p-y)*A/p+w));Iy(r,e,n,k,N,l)}const u=e[2*n+l];let h=a,f=s;for(_h(r,e,a,n),e[2*s+l]>u&&_h(r,e,a,s);h<f;){for(_h(r,e,h,f),h++,f--;e[2*h+l]<u;)h++;for(;e[2*f+l]>u;)f--}e[2*a+l]===u?_h(r,e,a,f):(f++,_h(r,e,f,s)),f<=n&&(a=f+1),n<=f&&(s=f-1)}}function _h(r,e,n,a){s0(r,n,a),s0(e,2*n,2*a),s0(e,2*n+1,2*a+1)}function s0(r,e,n){const a=r[e];r[e]=r[n],r[n]=a}function Q2(r,e,n,a){const s=r-n,l=e-a;return s*s+l*l}const B4={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:r=>r},ev=Math.fround||(r=>(e=>(r[0]=+e,r[0])))(new Float32Array(1)),ru=2,yl=3,o0=4,vl=5,zy=6;class I4{constructor(e){this.options=Object.assign(Object.create(B4),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:a,maxZoom:s}=this.options;n&&console.time("total time");const l=`prepare ${e.length} points`;n&&console.time(l),this.points=e;const u=[];for(let f=0;f<e.length;f++){const p=e[f];if(!p.geometry)continue;const[y,_]=p.geometry.coordinates,A=ev($f(y)),w=ev(Gf(_));u.push(A,w,1/0,f,-1,1),this.options.reduce&&u.push(0)}let h=this.trees[s+1]=this._createTree(u);n&&console.timeEnd(l);for(let f=s;f>=a;f--){const p=+Date.now();h=this.trees[f]=this._createTree(this._cluster(h,f)),n&&console.log("z%d: %d clusters in %dms",f,h.numItems,+Date.now()-p)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let a=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let l=e[2]===180?180:((e[2]+180)%360+360)%360-180;const u=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)a=-180,l=180;else if(a>l){const _=this.getClusters([a,s,180,u],n),A=this.getClusters([-180,s,l,u],n);return _.concat(A)}const h=this.trees[this._limitZoom(n)],f=h.range($f(a),Gf(u),$f(l),Gf(s)),p=h.data,y=[];for(const _ of f){const A=this.stride*_;y.push(p[A+vl]>1?tv(p,A,this.clusterProps):this.points[p[A+yl]])}return y}getChildren(e){const n=this._getOriginId(e),a=this._getOriginZoom(e),s="No cluster with the specified id.",l=this.trees[a];if(!l)throw new Error(s);const u=l.data;if(n*this.stride>=u.length)throw new Error(s);const h=this.options.radius/(this.options.extent*Math.pow(2,a-1)),f=u[n*this.stride],p=u[n*this.stride+1],y=l.within(f,p,h),_=[];for(const A of y){const w=A*this.stride;u[w+o0]===e&&_.push(u[w+vl]>1?tv(u,w,this.clusterProps):this.points[u[w+yl]])}if(_.length===0)throw new Error(s);return _}getLeaves(e,n,a){n=n||10,a=a||0;const s=[];return this._appendLeaves(s,e,n,a,0),s}getTile(e,n,a){const s=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:u,radius:h}=this.options,f=h/u,p=(a-f)/l,y=(a+1+f)/l,_={features:[]};return this._addTileFeatures(s.range((n-f)/l,p,(n+1+f)/l,y),s.data,n,a,l,_),n===0&&this._addTileFeatures(s.range(1-f/l,p,1,y),s.data,l,a,l,_),n===l-1&&this._addTileFeatures(s.range(0,p,f/l,y),s.data,-1,a,l,_),_.features.length?_:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const a=this.getChildren(e);if(n++,a.length!==1)break;e=a[0].properties.cluster_id}return n}_appendLeaves(e,n,a,s,l){const u=this.getChildren(n);for(const h of u){const f=h.properties;if(f&&f.cluster?l+f.point_count<=s?l+=f.point_count:l=this._appendLeaves(e,f.cluster_id,a,s,l):l<s?l++:e.push(h),e.length===a)break}return l}_createTree(e){const n=new Cm(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let a=0;a<e.length;a+=this.stride)n.add(e[a],e[a+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,a,s,l,u){for(const h of e){const f=h*this.stride,p=n[f+vl]>1;let y,_,A;if(p)y=qy(n,f,this.clusterProps),_=n[f],A=n[f+1];else{const N=this.points[n[f+yl]];y=N.properties;const[T,L]=N.geometry.coordinates;_=$f(T),A=Gf(L)}const w={type:1,geometry:[[Math.round(this.options.extent*(_*l-a)),Math.round(this.options.extent*(A*l-s))]],tags:y};let k;p||this.options.generateId?k=n[f+yl]:k=this.points[n[f+yl]].id,k!==void 0&&(w.id=k),u.features.push(w)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:a,extent:s,reduce:l,minPoints:u}=this.options,h=a/(s*Math.pow(2,n)),f=e.data,p=[],y=this.stride;for(let _=0;_<f.length;_+=y){if(f[_+ru]<=n)continue;f[_+ru]=n;const A=f[_],w=f[_+1],k=e.within(f[_],f[_+1],h),N=f[_+vl];let T=N;for(const L of k){const D=L*y;f[D+ru]>n&&(T+=f[D+vl])}if(T>N&&T>=u){let L=A*N,D=w*N,U,F=-1;const ae=((_/y|0)<<5)+(n+1)+this.points.length;for(const ye of k){const ce=ye*y;if(f[ce+ru]<=n)continue;f[ce+ru]=n;const se=f[ce+vl];L+=f[ce]*se,D+=f[ce+1]*se,f[ce+o0]=ae,l&&(U||(U=this._map(f,_,!0),F=this.clusterProps.length,this.clusterProps.push(U)),l(U,this._map(f,ce)))}f[_+o0]=ae,p.push(L/T,D/T,1/0,ae,-1,T),l&&p.push(F)}else{for(let L=0;L<y;L++)p.push(f[_+L]);if(T>1)for(const L of k){const D=L*y;if(!(f[D+ru]<=n)){f[D+ru]=n;for(let U=0;U<y;U++)p.push(f[D+U])}}}}return p}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,a){if(e[n+vl]>1){const u=this.clusterProps[e[n+zy]];return a?Object.assign({},u):u}const s=this.points[e[n+yl]].properties,l=this.options.map(s);return a&&l===s?Object.assign({},l):l}}function tv(r,e,n){return{type:"Feature",id:r[e+yl],properties:qy(r,e,n),geometry:{type:"Point",coordinates:[z4(r[e]),q4(r[e+1])]}}}function qy(r,e,n){const a=r[e+vl],s=a>=1e4?`${Math.round(a/1e3)}k`:a>=1e3?`${Math.round(a/100)/10}k`:a,l=r[e+zy],u=l===-1?{}:Object.assign({},n[l]);return Object.assign(u,{cluster:!0,cluster_id:r[e+yl],point_count:a,point_count_abbreviated:s})}function $f(r){return r/360+.5}function Gf(r){const e=Math.sin(r*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function z4(r){return(r-.5)*360}function q4(r){const e=(180-r*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function F4(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(r);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(r,a[s])&&(n[a[s]]=r[a[s]]);return n}class Ki{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(Number.isFinite(e.position.lat)&&Number.isFinite(e.position.lng))return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class X0{constructor({markers:e,position:n}){this.markers=[],e&&(this.markers=e),n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Ki.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ki.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ki.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}function Z0(r,e="assertion failed"){if(r==null)throw Error(e)}class H4{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return $4(e)}}const $4=r=>r.map(n=>new X0({position:Ki.getPosition(n),markers:[n]}));class G4 extends H4{constructor(e){var{maxZoom:n,radius:a=60}=e,s=F4(e,["maxZoom","radius"]);super({maxZoom:n}),this.markers=[],this.clusters=[],this.state={zoom:-1},this.superCluster=new I4(Object.assign({maxZoom:this.maxZoom,radius:a},s))}calculate(e){let n=!1,a=e.map.getZoom();Z0(a),a=Math.round(a);const s={zoom:a};if(!X2(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const l=this.markers.map(u=>{const h=Ki.getPosition(u);return{type:"Feature",geometry:{type:"Point",coordinates:[h.lng(),h.lat()]},properties:{marker:u}}});this.superCluster.load(l)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!X2(this.state,s)),this.state=s,e.markers.length===0?(this.clusters=[],{clusters:this.clusters,changed:n}):(n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n})}cluster({map:e}){const n=e.getZoom();return Z0(n),this.superCluster.getClusters([-180,-90,180,90],Math.round(n)).map(a=>this.transformCluster(a))}transformCluster({geometry:{coordinates:[e,n]},properties:a}){if(a.cluster)return new X0({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:n,lng:e}});const s=a.marker;return new X0({markers:[s],position:Ki.getPosition(s)})}}class V4{constructor(e,n){this.markers={sum:e.length};const a=n.map(l=>l.count),s=a.reduce((l,u)=>l+u,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...a),max:Math.max(...a)}}}}class W4{render({count:e,position:n},a,s){const u=`<svg fill="${e>Math.max(10,a.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,h=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Ki.isAdvancedMarkerAvailable(s)){const _=new DOMParser().parseFromString(u,"image/svg+xml").documentElement;_.setAttribute("transform","translate(0 25)");const A={map:s,position:n,zIndex:f,title:h,content:_};return new google.maps.marker.AdvancedMarkerElement(A)}const p={position:n,zIndex:f,title:h,icon:{url:`data:image/svg+xml;base64,${btoa(u)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(p)}}function Y4(r,e){for(let n in e.prototype)r.prototype[n]=e.prototype[n]}class Tm{constructor(){Y4(Tm,google.maps.OverlayView)}}var cu;(function(r){r.CLUSTERING_BEGIN="clusteringbegin",r.CLUSTERING_END="clusteringend",r.CLUSTER_CLICK="click",r.GMP_CLICK="gmp-click"})(cu||(cu={}));const K4=(r,e,n)=>{e.bounds&&n.fitBounds(e.bounds)};class J4 extends Tm{constructor({map:e,markers:n=[],algorithmOptions:a={},algorithm:s=new G4(a),renderer:l=new W4,onClusterClick:u=K4}){super(),this.map=null,this.idleListener=null,this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=l,this.onClusterClick=u,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(a=>{this.addMarker(a,!0)}),n||this.render()}removeMarker(e,n){const a=this.markers.indexOf(e);return a===-1?!1:(Ki.setMap(e,null),this.markers.splice(a,1),n||this.render(),!0)}removeMarkers(e,n){let a=!1;return e.forEach(s=>{a=this.removeMarker(s,!0)||a}),a&&!n&&this.render(),a}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,cu.CLUSTERING_BEGIN,this);const{clusters:n,changed:a}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(a||a==null){const s=new Set;for(const u of n)u.markers.length==1&&s.add(u.markers[0]);const l=[];for(const u of this.clusters)u.marker!=null&&(u.markers.length==1?s.has(u.marker)||Ki.setMap(u.marker,null):l.push(u.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>l.forEach(u=>Ki.setMap(u,null)))}google.maps.event.trigger(this,cu.CLUSTERING_END,this)}}onAdd(){const e=this.getMap();Z0(e),this.idleListener=e.addListener("idle",this.render.bind(this)),this.render()}onRemove(){this.idleListener&&google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ki.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new V4(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(a=>{if(a.markers.length===1)a.marker=a.markers[0];else if(a.marker=this.renderer.render(a,e,n),a.markers.forEach(s=>Ki.setMap(s,null)),this.onClusterClick){const s=Ki.isAdvancedMarker(a.marker)?cu.GMP_CLICK:cu.CLUSTER_CLICK;a.marker.addListener(s,l=>{google.maps.event.trigger(this,cu.CLUSTER_CLICK,a),this.onClusterClick(l,a,n)})}Ki.setMap(a.marker,n)})}}const Om=typeof window<"u"&&window.google&&window.google.maps&&window.google.maps.Point||function(e,n){this.x=e,this.y=n},Vf=[{id:"24051",name:"3 Lot Subdivision",suburb:"Hillarys",address:"23 Smith St, Hillarys WA",lat:-31.815,lng:115.744},{id:"24052",name:"Strata Check",suburb:"Joondalup",address:"12 Lakeside Dr, Joondalup WA",lat:-31.746,lng:115.768},{id:"24053",name:"Construction Setout",suburb:"Osborne Park",address:"45 Main St, Osborne Park WA",lat:-31.903,lng:115.815}];function Q0(r,e){return`https://www.google.com/maps/dir/?api=1&destination=${r},${e}`}function nv(r){return`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r)}`}function X4(r,e){return`https://www.google.com/maps/search/?api=1&query=${r},${e}`}function Z4(r,e,n=18){return`https://earth.google.com/web/@${r},${e},0a,${n}d,35y,0h,0t,0r`}function Q4(r={}){const e=r.url||r.URL||r.station_summary_link||r.STATION_SUMMARY_LINK||r.station_summary_url||r.STATION_SUMMARY_URL;if(e&&/^https?:\/\//i.test(String(e)))return String(e);const n=r.point_number||r.POINT_NUMBER||r.pointno||r.PointNo||r.database_number||r.DATABASE_NUMBER||"",a=String(n).trim();return/^\d+$/.test(a)?`https://gola.es.landgate.wa.gov.au/Gola/gola.exe/getpointinfo?PointNo=${a}`:""}function e6(r={},e=""){const n=r.point_number||r.POINT_NUMBER||r.database_number||r.DATABASE_NUMBER||"",a=String(n).trim()||String(e).trim()||"geodetic mark";return`https://www.google.com/search?q=${encodeURIComponent(`site:gola.es.landgate.wa.gov.au ${a}`)}`}const rv=56,l0="https://public-services.slip.wa.gov.au/public/rest/services/SLIP_Public_Services/Property_and_Planning/MapServer/1/query",iv="https://public-services.slip.wa.gov.au/public/rest/services/SLIP_Public_Services/Property_and_Planning/MapServer/62/query",t6="https://public-services.slip.wa.gov.au/public/rest/services/SLIP_Public_Services/Property_and_Planning/MapServer/2/query",av=12,n6=13,r6=15,i6=600,sv=1800,a6=4e3,ov=2500,s6=5e3,o6=1800*1e3,l6={path:"M 0 -2 L 2 2 L -2 2 Z",fillColor:"#A6B96A",fillOpacity:.95,strokeColor:"#ffffff",strokeWeight:1,scale:2.6,labelOrigin:new Om(0,5)},u6={path:"M -2 -2 L 2 -2 L 2 2 L -2 2 Z",fillColor:"#1976d2",fillOpacity:.95,strokeColor:"#ffffff",strokeWeight:1,scale:2.4,labelOrigin:new Om(0,5)},c6={path:"M -2 -2 L 2 2 M 2 -2 L -2 2",strokeColor:"#111111",strokeOpacity:1,strokeWeight:2,scale:2.4,labelOrigin:new Om(0,5)};async function u0(r,e,n="1=1"){if(!e)return{type:"FeatureCollection",features:[]};const a=e.getSouthWest(),s=e.getNorthEast(),l=`${a.lng()},${a.lat()},${s.lng()},${s.lat()}`,u=new URLSearchParams({where:n,outFields:"*",f:"geojson",outSR:"4326",geometry:l,geometryType:"esriGeometryEnvelope",spatialRel:"esriSpatialRelIntersects",inSR:"4326",returnGeometry:"true",t:Date.now().toString()}),f=await(await fetch(`${r}?${u.toString()}`)).json();if(f?.error)throw new Error(f.error.message||"ArcGIS query error");return{type:"FeatureCollection",features:f?.features||[]}}function lv(r={}){const e=["is_destroyed","destroyed","destroyed_flag","destroyed_ind","physical_status_destroyed"];for(const a of e){const s=r?.[a];if(s===!0||s===1||String(s).toUpperCase()==="Y"||String(s).toUpperCase()==="YES")return!0}const n=Object.values(r).flatMap(a=>a==null?[]:typeof a=="object"?[]:[String(a)]).join(" | ").toUpperCase();return n.includes("DESTROY")||n.includes("DESTROYED")||n.includes("OBLITERAT")||n.includes("REMOV")||n.includes("CANCEL")||n.includes("DISCONTINU")||n.includes("NOT FOUND")||n.includes("MISSING")||n.includes("INVALID")||n.includes("RETIRED")||n.includes("SUPERSEDED")||n.trim()==="D"}function h6(r){const e=[],n=[];return r.forEach(a=>{const s=a?.properties||{},l=String(s.render_value||"").toUpperCase(),u=String(s.point_type||"").toUpperCase(),h=String(s.class||"").toUpperCase(),f=l.startsWith("B")||u.includes("BM")||u.includes("BENCH")||h.includes("BM")||h.includes("BENCH"),p=l.startsWith("S")||u.includes("SSM")||h.includes("SSM")||h.includes("STANDARD SURVEY");f?n.push(a):e.push(a)}),{ssm:e,bm:n}}function dl(r,e=4){return r==null||r===""?"":typeof r=="number"?r.toFixed(e):String(r)}function iu(r,e){for(const n of e){const a=r?.[n];if(a!=null&&a!=="")return a}return""}function f6(r={},e){const n=e||r.geodetic_point_name||r.reference_mark_name||r.geodetic_point_pid||"",a=iu(r,["vert_datum","vertical_datum"]),s=iu(r,["reduced_level","reducedlevel","height"]),l=iu(r,["mga2020_zone","zone"]),u=iu(r,["mga2020_easting","easting"]),h=iu(r,["mga2020_northing","northing"]),f=iu(r,["pcg2020_easting","project_grid_easting","projectgrid_easting","proj_grid_e","pg_easting"]),p=iu(r,["pcg2020_northing","project_grid_northing","projectgrid_northing","proj_grid_n","pg_northing"]);return[["GEODETIC POINT NAME",dl(n,0)],["VERT DATUM",dl(a,0)],["REDUCED LEVEL (m)",dl(s,4)],["PCG2020 EASTING (m)",dl(f,3)],["PCG2020 NORTHING (m)",dl(p,3)],["MGA2020 ZONE",dl(l,0)],["MGA2020 EASTING (m)",dl(u,3)],["MGA2020 NORTHING (m)",dl(h,3)]].filter(([,_])=>_!=="")}function d6({layerTag:r,name:e,props:n}){const a=f6(n,e),s=r==="SSM"||r==="BM",u=(s?Q4(n):"")||(s?e6(n,e):"");return`
    <div style="font-family: Inter, sans-serif; font-size: 13px; min-width: 240px;">
      <div style="font-weight:800; font-size:14px; margin-bottom:8px; color:#111;">
        ${r}  ${e||""}
      </div>

      ${a.map(([h,f])=>`
        <div style="padding:2px 0;">
          <div style="font-weight:700; color:#333;">${h}</div>
          <div style="color:#111;">${f}</div>
        </div>`).join("")}

      <div style="display:flex; gap:8px; margin-top:10px;">
        <a href="${X4(n.lat??n.latitude??"",n.lng??n.longitude??"")}" target="_blank" rel="noreferrer"
           style="flex:1; text-align:center; text-decoration:none; padding:7px 8px; border-radius:8px;
                  border:1px solid #ccc; color:#111; background:#fff; font-weight:700; font-size:12px;">
           Open in Google Maps
        </a>
        <a href="${Q0(n.lat??n.latitude??"",n.lng??n.longitude??"")}" target="_blank" rel="noreferrer"
           style="flex:1; text-align:center; text-decoration:none; padding:7px 8px; border-radius:8px;
                  border:1px solid #111; color:#fff; background:#111; font-weight:700; font-size:12px;">
           Directions
        </a>
      </div>

      ${s?`
      <div style="margin-top:8px; font-size:12px;">
        <a href="${u}" target="_blank" rel="noreferrer"
           style="color:#1976d2; font-weight:700; text-decoration:none;">
           Full Station Summary
        </a>
        <div style="color:#666; margin-top:2px;">
          Opens Landgate station summary (direct if available, otherwise search).
        </div>
      </div>`:""}
    </div>
  `}function Fy(r,e){const n=p=>p*Math.PI/180,s=n(e.lat-r.lat),l=n(e.lng-r.lng),u=n(r.lat),h=n(e.lat),f=Math.sin(s/2)**2+Math.cos(u)*Math.cos(h)*Math.sin(l/2)**2;return 2*6371e3*Math.asin(Math.sqrt(f))}function p6(r){let e=0;for(let n=1;n<r.length;n++)e+=Fy(r[n-1],r[n]);return e}function m6(r){if(r.length<3)return 0;const e=r.reduce((u,h)=>u+h.lat,0)/r.length,n=Math.cos(e*Math.PI/180),a=6371e3,s=r.map(u=>({x:u.lng*Math.PI/180*a*n,y:u.lat*Math.PI/180*a}));let l=0;for(let u=0;u<s.length;u++){const h=(u+1)%s.length;l+=s[u].x*s[h].y-s[h].x*s[u].y}return Math.abs(l)/2}function g6(){const r=K.useRef(null),e=K.useRef(null),n=K.useRef([]),a=K.useRef(null),s=K.useRef(null),l=K.useRef(null),u=K.useRef(null),h=K.useRef({ssm076:[],bm076:[],rm199:[]}),f=K.useRef({ssm076:new Map,bm076:new Map,rm199:new Map}),p=K.useRef(null),y=K.useRef({bounds:null,zoom:null}),_=K.useRef(null),A=K.useRef({ssm076:0,rm199:0,cad001:0}),w=K.useRef(null),k=K.useRef(null),N=K.useRef([]),T=K.useRef(null),L=K.useRef(null),D=K.useRef(null),U=K.useRef(null),F=K.useRef([]),ae=K.useRef(null),ye=K.useRef([]),[ce,se]=K.useState(""),[W,be]=K.useState(""),[I,V]=K.useState(null),[ie,re]=K.useState(!0),[Ce,Q]=K.useState(!0),[he,de]=K.useState([]),[ke,Se]=K.useState(""),[M,j]=K.useState(0),[z,H]=K.useState(null),[te,ne]=K.useState(!1),ee=K.useMemo(()=>Vf.find(we=>we.id===W)||null,[W]),oe=K.useMemo(()=>{if(!ce.trim())return Vf;const we=ce.toLowerCase();return Vf.filter(je=>je.id.toLowerCase().includes(we)||je.name.toLowerCase().includes(we)||je.suburb.toLowerCase().includes(we)||je.address.toLowerCase().includes(we))},[ce]);K.useEffect(()=>{if(!window.google||!r.current||e.current)return;const we=new window.google.maps.Map(r.current,{center:{lat:-31.95,lng:115.86},zoom:10,mapTypeId:"hybrid",mapTypeControl:!0,fullscreenControl:!0,streetViewControl:!0,clickableIcons:!1,controlSize:28,gestureHandling:"greedy"});if(e.current=we,u.current=new window.google.maps.InfoWindow,!ae.current){const je=document.createElement("div");je.style.display="flex",je.style.gap="6px",je.style.marginLeft="8px",je.style.alignItems="center",je.style.padding="4px",je.style.background="rgba(255,255,255,0.9)",je.style.border="2px solid #000",je.style.borderRadius="8px",je.style.boxShadow="0 2px 8px rgba(0,0,0,0.25)";const Ye=(Ut,xt,dt)=>{const ot=document.createElement("button");return ot.textContent=Ut,ot.title=xt,ot.dataset.action=dt,ot.style.width="34px",ot.style.height="28px",ot.style.borderRadius="6px",ot.style.border="2px solid #000",ot.style.background="#fff",ot.style.color="#000",ot.style.fontWeight="900",ot.style.fontSize="15px",ot.style.cursor="pointer",ot.style.display="grid",ot.style.placeItems="center",ot.style.lineHeight="1",ot},We=Ye("","Measure distance (metres)","distance"),nt=Ye("","Measure area (m / ha)","area"),et=Ye("","My location","location"),ut=Ye("","Historical imagery (opens Google Earth)","history"),_t=Ye("","Street View at map centre","streetview"),at=Ye("","Clear measurement","clear");at.style.display="none",We.onclick=()=>Y(),nt.onclick=()=>wt(),et.onclick=()=>le(),ut.onclick=()=>{const Ut=we.getCenter(),xt=Z4(Ut.lat(),Ut.lng(),we.getZoom());window.open(xt,"_blank","noreferrer")},_t.onclick=()=>{const Ut=we.getStreetView(),xt=we.getCenter();Ut.getVisible()?Ut.setVisible(!1):(Ut.setPosition(xt),Ut.setPov({heading:0,pitch:0}),Ut.setVisible(!0))},at.onclick=()=>Ue(),je.appendChild(We),je.appendChild(nt),je.appendChild(et),je.appendChild(ut),je.appendChild(_t),je.appendChild(at),we.controls[window.google.maps.ControlPosition.TOP_LEFT].push(je),ae.current=je}if(we.addListener("idle",()=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{e.current&&(y.current={bounds:e.current.getBounds(),zoom:e.current.getZoom()},j(je=>je+1))},i6)}),window.google.maps.places&&l.current){const je=new window.google.maps.places.Autocomplete(l.current,{types:["geocode"],componentRestrictions:{country:"au"}});je.addListener("place_changed",()=>{const Ye=je.getPlace();if(!Ye.geometry||!Ye.geometry.location)return;const We=Ye.geometry.location,nt={lat:We.lat(),lng:We.lng()};e.current.setCenter(nt),e.current.setZoom(17);const et=Ye.formatted_address||Ye.name||"Selected location";s.current?(s.current.setPosition(nt),s.current.setTitle(et)):s.current=new window.google.maps.Marker({position:nt,map:e.current,title:et,icon:{path:window.google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,fillColor:"#ffb300",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:1,scale:6}}),V({address:et,lat:nt.lat,lng:nt.lng})})}},[]),K.useEffect(()=>{const we=ae.current;if(!we)return;Array.from(we.querySelectorAll("button")).forEach(We=>{const nt=We.dataset.action,et=nt==="distance"&&z==="distance"||nt==="area"&&z==="area";We.style.background=et?"#000":"#fff",We.style.color=et?"#fff":"#000"});const Ye=we.querySelector('button[data-action="clear"]');Ye&&(Ye.style.display=te?"grid":"none")},[z,te]),K.useEffect(()=>{!e.current||!window.google||(n.current.forEach(we=>we.marker.setMap(null)),n.current=[],Vf.forEach(we=>{const je=new window.google.maps.Marker({position:{lat:we.lat,lng:we.lng},map:e.current,title:`${we.id}  ${we.name}`});je.addListener("click",()=>be(we.id)),n.current.push({jobId:we.id,marker:je})}))},[]),K.useEffect(()=>{if(!e.current||!window.google||!ee)return;e.current.setCenter({lat:ee.lat,lng:ee.lng}),e.current.setZoom(15);const we=n.current.find(je=>je.jobId===ee.id);we&&(we.marker.setAnimation(window.google.maps.Animation.BOUNCE),setTimeout(()=>we.marker.setAnimation(null),700))},[ee]);const me=we=>{be(we.id),se(`${we.id}  ${we.name}`)},le=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your device.");return}navigator.geolocation.getCurrentPosition(we=>{const je={lat:we.coords.latitude,lng:we.coords.longitude};e.current.setCenter(je),e.current.setZoom(17),a.current?a.current.setPosition(je):a.current=new window.google.maps.Marker({position:je,map:e.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2,scale:7}})},()=>alert("Unable to get your location (needs HTTPS)."))},_e=()=>{window.google&&(F.current.forEach(we=>window.google.maps.event.removeListener(we)),F.current=[])},Ue=()=>{_e(),N.current=[],T.current&&(T.current.setMap(null),T.current=null),L.current&&(L.current.setMap(null),L.current=null),D.current&&D.current.close(),U.current&&U.current.close(),k.current=null,H(null),ne(!1)},ze=we=>{const je=e.current,Ye=N.current;if(!je||Ye.length<2)return;let We=0;if(window.google.maps.geometry&&window.google.maps.geometry.spherical)k.current==="distance"?We=window.google.maps.geometry.spherical.computeLength(Ye):We=window.google.maps.geometry.spherical.computeArea(Ye);else{const et=Ye.map(ut=>({lat:ut.lat(),lng:ut.lng()}));We=k.current==="distance"?p6(et):m6(et)}let nt="";if(k.current==="distance"){const et=We;nt=et>=1e3?`${et.toFixed(2)} m (${(et/1e3).toFixed(3)} km)`:`${et.toFixed(2)} m`,nt=`Distance: ${nt}`}else{const et=We,ut=et/1e4;nt=et>=1e6?`${et.toFixed(0)} m (${ut.toFixed(2)} ha)`:`${et.toFixed(1)} m (${ut.toFixed(3)} ha)`,nt=`Area: ${nt}`}D.current||(D.current=new window.google.maps.InfoWindow),D.current.setContent(`<div style="font-weight:800; font-size:13px;">${nt}<br/><span style="font-weight:600; color:#666;">Right-click or double-click to finish</span></div>`),D.current.setPosition(we),D.current.open(je)},xe=()=>{const we=e.current,je=N.current;!we||je.length<2||(ze(je[je.length-1]),_e(),ne(!0),H(null),k.current=null,U.current=D.current,D.current=null)},Y=()=>{Ue();const we=e.current;if(!we||!window.google)return;k.current="distance",H("distance"),T.current=new window.google.maps.Polyline({map:we,path:[],strokeColor:"#ffffff",strokeOpacity:1,strokeWeight:2,clickable:!1});const je=we.addListener("click",nt=>{N.current.push(nt.latLng),T.current.setPath(N.current),ze(nt.latLng)}),Ye=we.addListener("rightclick",()=>xe()),We=we.addListener("dblclick",()=>xe());F.current=[je,Ye,We]},wt=()=>{Ue();const we=e.current;if(!we||!window.google)return;k.current="area",H("area"),L.current=new window.google.maps.Polygon({map:we,paths:[],strokeColor:"#ffffff",strokeOpacity:1,strokeWeight:2,fillColor:"#ffffff",fillOpacity:.08,clickable:!1});const je=we.addListener("click",nt=>{N.current.push(nt.latLng),L.current.setPath(N.current),ze(nt.latLng)}),Ye=we.addListener("rightclick",()=>xe()),We=we.addListener("dblclick",()=>xe());F.current=[je,Ye,We]};K.useEffect(()=>{de(we=>{const je=we.some(ut=>ut.id==="ssm076"),Ye=we.some(ut=>ut.id==="bm076"),We=we.some(ut=>ut.id==="rm199"),nt=we.some(ut=>ut.id==="cad001"),et=[...we];return je||et.push({id:"ssm076",name:"SSMs (LGATE-076)",type:"geodetic-ssm",visible:!1,data:{url:l0}}),Ye||et.push({id:"bm076",name:"BMs (LGATE-076)",type:"geodetic-bm",visible:!1,data:{url:l0}}),We||et.push({id:"rm199",name:"RMs (LGATE-199)",type:"geodetic-rm",visible:!1,data:{url:iv}}),nt||et.push({id:"cad001",name:"Cadastre (LGATE-001)",type:"cadastre",visible:!1,data:{url:t6}}),et})},[]),K.useEffect(()=>{const we=e.current;if(!we||!window.google)return;const je=he.find(Xe=>Xe.id==="ssm076"),Ye=he.find(Xe=>Xe.id==="bm076"),We=he.find(Xe=>Xe.id==="rm199"),{bounds:nt,zoom:et}=y.current,ut=et>=r6,_t=je?.visible||Ye?.visible||We?.visible,at=Xe=>{const tt=f.current[Xe];for(const st of tt.values())st.setMap(null);tt.clear(),h.current[Xe]=[]},Ut=()=>{at("ssm076"),at("bm076"),at("rm199")},xt=()=>{p.current||(p.current=new J4({map:we,markers:[]}));const Xe=[...je?.visible?h.current.ssm076:[],...Ye?.visible?h.current.bm076:[],...We?.visible?h.current.rm199:[]];p.current.clearMarkers(),Xe.length&&p.current.addMarkers(Xe)};if(!_t){Se(""),Ut(),xt();return}if(!nt||et===null)return;if(et<av){Se(`Zoom to ${av}+ to see geodetic marks.`),Ut(),xt();return}let dt=!1;const ot=Xe=>({text:Xe||"",color:"#ffffff",fontSize:"10px",fontWeight:"700"}),mt=(Xe,tt,st,St,ct)=>{const Tt=f.current[Xe],sn=new Set;for(const It of tt){const it=It.properties||{},[Mt,zt]=It.geometry.coordinates,nn=it.geodetic_point_pid||it.reference_mark_pid||it.point_number||it.rm_point_number||it.objectid||it.OBJECTID||it.fid||`${zt.toFixed(6)},${Mt.toFixed(6)}`;sn.add(nn);const un=ct(it);let xn=Tt.get(nn);xn?(xn.setPosition({lat:zt,lng:Mt}),xn.setIcon(st),xn.setTitle(un),xn.setLabel(ut?ot(un):null),xn.getMap()||xn.setMap(we)):(xn=new window.google.maps.Marker({position:{lat:zt,lng:Mt},map:we,icon:st,title:un,label:ut?ot(un):null,optimized:!0}),xn.addListener("click",()=>{u.current.setContent(d6({layerTag:St,name:un,props:{...it,lat:zt,lng:Mt}})),u.current.open(we,xn)}),Tt.set(nn,xn))}for(const[It,it]of Tt.entries())sn.has(It)||(it.setMap(null),Tt.delete(It));h.current[Xe]=Array.from(Tt.values())};async function Fe(){if(!(je?.visible||Ye?.visible)){ye.current=[],at("ssm076"),at("bm076");return}const Xe=Date.now();if(!(Xe-A.current.ssm076<ov)){A.current.ssm076=Xe;try{const tt=await u0(l0,nt,"1=1");if(dt)return;const st=tt.features.filter(Tt=>!lv(Tt.properties));if(ye.current=(st||[]).map(Tt=>{const[sn,It]=Tt.geometry.coordinates;return{lat:It,lng:sn}}),st.length>sv){Se(`Too many marks here (${st.length}). Zoom in further.`),at("ssm076"),at("bm076");return}Se("");const{ssm:St,bm:ct}=h6(st);je?.visible?mt("ssm076",St,l6,"SSM",Tt=>Tt.geodetic_point_name||Tt.point_number||"SSM"):at("ssm076"),Ye?.visible?mt("bm076",ct,u6,"BM",Tt=>Tt.geodetic_point_name||Tt.point_number||"BM"):at("bm076")}catch(tt){console.warn("076 load failed:",tt),Se("SSM/BM layer failed to load. Try zooming/panning."),at("ssm076"),at("bm076")}}}async function Ee(){if(!We?.visible){at("rm199");return}const Xe=Date.now();if(!(Xe-A.current.rm199<ov)){A.current.rm199=Xe;try{const st=await u0(iv,nt,"latest_status NOT LIKE '%DESTROY%' AND latest_status NOT LIKE '%REMOVE%'");if(dt)return;const St=(st.features||[]).filter(it=>!lv(it.properties)),ct=ye.current||[];if(!ct.length){at("rm199");return}const Tt=(it,Mt)=>{if(window.google?.maps?.geometry?.spherical&&window.google.maps.LatLng){const zt=new window.google.maps.LatLng(it.lat,it.lng),nn=new window.google.maps.LatLng(Mt.lat,Mt.lng);return window.google.maps.geometry.spherical.computeDistanceBetween(zt,nn)}return Fy(it,Mt)},sn=20,It=St.filter(it=>{const[Mt,zt]=it.geometry.coordinates,nn={lat:zt,lng:Mt};for(let un=0;un<ct.length;un++)if(Tt(nn,ct[un])<=sn)return!0;return!1});if(It.length>sv){Se(`Too many RMs here (${It.length}). Zoom in further.`),at("rm199");return}Se(""),mt("rm199",It,c6,"RM",it=>it.reference_mark_name||it.geodetic_point_name||it.rm_point_number||"RM")}catch(tt){console.warn("199 load failed:",tt),Se("RM layer failed to load. Try zooming/panning."),at("rm199")}}}(async()=>(await Promise.all([Fe(),Ee()]),xt()))();const Oe=setInterval(()=>{(je?.visible||Ye?.visible||We?.visible)&&j(tt=>tt+1)},o6);return()=>{dt=!0,clearInterval(Oe)}},[he,M]),K.useEffect(()=>{const we=e.current;if(!we||!window.google)return;w.current||(w.current=new window.google.maps.Data,w.current.setMap(we),w.current.setStyle({clickable:!1,strokeColor:"#ffffff",strokeWeight:.9,fillOpacity:0}));const je=he.find(at=>at.id==="cad001"),Ye=w.current,{bounds:We,zoom:nt}=y.current||{};if(!je?.visible||!We||(nt??0)<n6){Ye.forEach(at=>Ye.remove(at));return}const et=Date.now();if(et-A.current.cad001<s6)return;A.current.cad001=et;let ut=!1;return(async()=>{try{const at=await u0(je.data.url,We,"1=1");if(ut)return;if((at.features?.length||0)>a6){console.warn("Cadastre: too many features in view, zoom in further.");return}Ye.forEach(Ut=>Ye.remove(Ut)),Ye.addGeoJson(at)}catch(at){console.warn("Cadastre fetch failed:",at)}})(),()=>{ut=!0}},[he,M]);const lt=we=>{de(je=>je.map(Ye=>Ye.id===we?{...Ye,visible:!Ye.visible}:Ye))};return v.jsxs("div",{className:"maps-fullscreen",children:[v.jsxs("div",{className:"maps-topbar",style:{height:rv},children:[v.jsxs("div",{className:"maps-title-group",children:[v.jsx("span",{className:"maps-title",children:"Maps"}),v.jsx("span",{className:"maps-subtitle",children:"Search jobs or any street address, zoom, and navigate"})]}),v.jsx("a",{href:"/",className:"maps-back-link",children:" Back to Portal"})]}),v.jsxs("div",{className:"maps-mapwrap",style:{height:`calc(100vh - ${rv}px)`,position:"relative"},children:[v.jsx("div",{ref:r,className:"maps-map"}),v.jsxs("div",{className:`maps-rightpanel ${ie?"open":"closed"}`,children:[v.jsx("button",{className:"panel-toggle",onClick:()=>re(we=>!we),children:ie?"":""}),v.jsxs("div",{className:"panel-content",children:[v.jsxs("div",{className:"panel-card",children:[v.jsx("div",{className:"panel-card-title",children:"Jobs"}),v.jsx("input",{type:"text",value:ce,onChange:we=>se(we.target.value),placeholder:"Search jobs by ID, suburb, address",className:"maps-search-input"}),ce.trim()&&v.jsxs("div",{className:"maps-job-list",children:[oe.length===0&&v.jsx("div",{className:"maps-empty",children:"No jobs match this search."}),oe.map(we=>{const je=we.id===W;return v.jsxs("button",{className:`maps-job-item ${je?"selected":""}`,onClick:()=>me(we),children:[v.jsxs("div",{className:"maps-job-id",children:["Job ",we.id]}),v.jsx("div",{className:"maps-job-name",children:we.name}),v.jsx("div",{className:"maps-job-suburb",children:we.suburb}),v.jsx("div",{className:"maps-job-address",children:we.address})]},we.id)})]})]}),v.jsxs("div",{className:"panel-card",children:[v.jsx("div",{className:"panel-card-title",children:"Address"}),v.jsx("input",{type:"text",ref:l,placeholder:"Search any street address",className:"maps-search-input"})]}),v.jsxs("div",{className:"panel-card",children:[v.jsxs("div",{className:"panel-card-title row-between clickable",onClick:()=>Q(we=>!we),children:[v.jsx("span",{children:"Layers"}),v.jsx("span",{className:"chev",children:Ce?"":""})]}),Ce&&v.jsxs(v.Fragment,{children:[ke&&v.jsx("div",{style:{fontSize:"12px",color:"#666",margin:"4px 0 8px 0",padding:"6px 8px",background:"#fafafa",border:"1px dashed #ddd",borderRadius:"8px"},children:ke}),v.jsx("div",{style:{fontWeight:800,fontSize:"13px",margin:"8px 0 4px 0",color:"#333"},children:"Cadastre"}),v.jsx("div",{className:"layers-list",children:he.filter(we=>["cad001"].includes(we.id)).map(we=>v.jsx("div",{className:"layer-row",children:v.jsxs("label",{className:"layer-left",children:[v.jsx("input",{type:"checkbox",checked:we.visible,onChange:()=>lt(we.id)}),v.jsx("span",{className:"layer-name",children:we.name})]})},we.id))}),v.jsx("div",{style:{fontWeight:800,fontSize:"13px",margin:"8px 0 4px 0",color:"#333"},children:"Geodetic Survey Marks"}),v.jsx("div",{className:"layers-list",children:he.filter(we=>["ssm076","bm076","rm199"].includes(we.id)).map(we=>v.jsx("div",{className:"layer-row",children:v.jsxs("label",{className:"layer-left",children:[v.jsx("input",{type:"checkbox",checked:we.visible,onChange:()=>lt(we.id)}),v.jsx("span",{className:"layer-name",children:we.name})]})},we.id))})]})]})]})]}),ee&&v.jsxs("div",{className:"maps-selected-card",children:[v.jsxs("div",{className:"maps-selected-title",children:[ee.id,"  ",ee.name]}),v.jsx("div",{className:"maps-selected-suburb",children:ee.suburb}),v.jsx("div",{className:"maps-selected-address",children:ee.address}),v.jsxs("div",{className:"maps-selected-buttons",children:[v.jsx("a",{href:nv(ee.address),target:"_blank",rel:"noreferrer",className:"maps-btn-outline",children:" Open in Google Maps"}),v.jsx("a",{href:Q0(ee.lat,ee.lng),target:"_blank",rel:"noreferrer",className:"maps-btn-solid",children:" Directions"})]})]}),I&&v.jsxs("div",{className:"maps-selected-card",style:{bottom:ee?"5.6rem":"0.75rem"},children:[v.jsx("div",{className:"maps-selected-title",children:"Address search"}),v.jsx("div",{className:"maps-selected-address",children:I.address}),v.jsxs("div",{className:"maps-selected-buttons",children:[v.jsx("a",{href:nv(I.address),target:"_blank",rel:"noreferrer",className:"maps-btn-outline",children:" Open in Google Maps"}),v.jsx("a",{href:Q0(I.lat,I.lng),target:"_blank",rel:"noreferrer",className:"maps-btn-solid",children:" Directions"})]})]})]})]})}function v6(){const{user:r}=Vs(),[e,n]=K.useState(""),[a,s]=K.useState(!1),[l,u]=K.useState(""),[h,f]=K.useState(""),[p,y]=K.useState(""),[_,A]=K.useState(!1),[w,k]=K.useState("");if(K.useEffect(()=>{r?.user_metadata?.full_name&&n(r.user_metadata.full_name)},[r]),!r)return v.jsx(Li,{icon:"",title:"My Profile",children:v.jsx("div",{className:"card",children:v.jsx("p",{children:"You must be logged in to view this page."})})});const N=async L=>{L.preventDefault(),s(!0),u("");const D=e.trim(),{error:U}=await dn.auth.updateUser({data:{full_name:D||null}});s(!1),U?(console.error(U),u("Could not save changes. Please try again.")):u("Profile updated.")},T=async L=>{if(L.preventDefault(),k(""),!h||!p){k("Please enter and confirm your new password.");return}if(h!==p){k("Passwords do not match.");return}if(h.length<8){k("Password should be at least 8 characters long.");return}A(!0);const{error:D}=await dn.auth.updateUser({password:h});A(!1),D?(console.error(D),k(D.message||"Could not update password. Please try again.")):(k("Password updated successfully."),f(""),y(""))};return v.jsxs(Li,{icon:"",title:"My Profile",subtitle:"Manage your Pro West Portal account",children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Account"}),v.jsx("p",{className:"card-subtitle",children:"These details are linked to your Pro West Surveying login."}),v.jsxs("div",{className:"card-row",style:{marginTop:"0.5rem"},children:[v.jsx("span",{className:"card-row-label",children:"Email"}),v.jsx("span",{className:"card-row-value",children:r.email})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"User ID"}),v.jsx("span",{className:"card-row-value",style:{fontFamily:"monospace",fontSize:"0.75rem"},children:r.id})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Profile"}),v.jsx("p",{className:"card-subtitle",children:"Set a display name that can be shown on timesheets, Take 5s, etc."}),v.jsxs("form",{onSubmit:N,style:{marginTop:"0.6rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Display name"}),v.jsx("input",{type:"text",className:"maps-search-input",style:{maxWidth:"260px"},value:e,onChange:L=>n(L.target.value),placeholder:"e.g. Tim Macfarlane"})]}),v.jsx("button",{type:"submit",className:"btn-pill primary",style:{marginTop:"0.6rem"},disabled:a,children:a?"Saving":"Save changes"}),l&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.8rem",color:l.includes("updated")?"#2e7d32":"#b71c1c"},children:l})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Security"}),v.jsx("p",{className:"card-subtitle",children:"Change your password for the Pro West Portal."}),v.jsxs("form",{onSubmit:T,style:{marginTop:"0.6rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"New password"}),v.jsx("input",{type:"password",className:"maps-search-input",style:{maxWidth:"260px"},value:h,onChange:L=>f(L.target.value),placeholder:"At least 8 characters"})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Confirm password"}),v.jsx("input",{type:"password",className:"maps-search-input",style:{maxWidth:"260px"},value:p,onChange:L=>y(L.target.value),placeholder:"Re-type new password"})]}),v.jsx("button",{type:"submit",className:"btn-pill primary",style:{marginTop:"0.6rem"},disabled:_,children:_?"Updating":"Update password"}),w&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.8rem",color:w.includes("successfully")?"#2e7d32":"#b71c1c"},children:w})]})]})]})}const y6=["FIELD","OFFICE","AWAY","LEAVE","COURSE","HOLD","NON-WORK"],Kr={OFFICE:"#c6f5b2ff",LEAVE:"#FFEB3B",AWAY:"#faaf3dff",HOLD:"#E1BEE7",COURSE:"#FFD180","NON-WORK":"#CFD8DC",FIELD_BORDER:"#BDBDBD",FIELD_BG:"#FFFFFF",TEXT_DARK:"#222222",TEXT_HINT:"#E57373",GRID_LINE:"#E0E0E0",HEADER_BG:"#FAFAFA",FOOTER_BG:"#1E1E1E",FOOTER_TEXT:"#E0E0E0",FIELD_TOUCHED_BG:"#E3F2FD",FIELD_TOUCHED_BORDER:"#90CAF9"},b6=["tim@prowestsurveying.com.au"];function c0(r){const e=new Date(r),n=e.getDay(),a=(n===0?-6:1)-n;return e.setDate(e.getDate()+a),e.setHours(0,0,0,0),e}function Wf(r,e){const n=new Date(r);return n.setDate(n.getDate()+e),n}function pl(r){const e=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return`${e}-${n}-${a}`}function w6(r){return r===0?"":r===1||r===2?"":r===3?"":r>=45&&r<=48?"":r>=51&&r<=57?"":r>=61&&r<=67?"":r>=71&&r<=77?"":r>=80&&r<=82?"":r>=95?"":""}function _6(r){return r===0?"Sunny":r===1||r===2?"Partly cloudy":r===3?"Cloudy":r>=45&&r<=48?"Fog/mist":r>=51&&r<=57?"Drizzle":r>=61&&r<=67?"Rain":r>=71&&r<=77?"Snow":r>=80&&r<=82?"Showers":r>=95?"Thunderstorms":""}function x6(){const{user:r}=Vs(),[e,n]=K.useState(()=>c0(new Date)),[a,s]=K.useState([]),[l,u]=K.useState({}),[h,f]=K.useState(!1),[p,y]=K.useState(!1),[_,A]=K.useState(""),[w,k]=K.useState(null),[N,T]=K.useState(!1),[L,D]=K.useState({}),[U,F]=K.useState(!1),[ae,ye]=K.useState(""),ce=!!r&&!!r.email&&b6.includes(r.email.toLowerCase()),se=K.useMemo(()=>Array.from({length:7},(le,_e)=>Wf(e,_e)),[e]),W=`${se[0].toLocaleDateString("en-AU",{day:"numeric",month:"short"})}  ${se[6].toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})}`,be=pl(e);K.useEffect(()=>{let le=!1;return(async()=>{A("");try{const{data:Ue,error:ze}=await dn.from("profiles").select("id, display_name, is_active, show_in_schedule").eq("is_active",!0).eq("show_in_schedule",!0).order("display_name",{ascending:!0});if(ze)throw ze;if(le)return;const xe=(Ue||[]).map(Y=>({id:Y.id,name:Y.display_name||"Unnamed"})).filter(Y=>Y.id);s(xe)}catch(Ue){if(console.error("Error loading profiles for schedule:",Ue),!le){const ze=Ue?.message||Ue?.details||Ue?.hint||"Unknown Supabase error";A(`Could not load staff list for schedule. (${ze})`),s([])}}})(),()=>{le=!0}},[]);const I=K.useMemo(()=>{if(!a||a.length===0)return[];const le="Pro West Survey",_e=a.filter(ze=>ze.name!==le),Ue=a.filter(ze=>ze.name===le);return[..._e,...Ue]},[a]);K.useEffect(()=>{let le=!1;(async()=>{f(!0),A("");try{const Ue=pl(se[0]),ze=pl(se[6]),{data:xe,error:Y}=await dn.from("schedule_assignments").select("*").gte("date",Ue).lte("date",ze);if(Y)throw Y;const wt={};for(const lt of xe||[]){const we=`${lt.date}|${lt.person_id}`;wt[we]||(wt[we]=lt)}u(wt)}catch(Ue){console.error("Error loading assignments:",Ue),A("Could not load schedule for this week."),u({})}finally{f(!1)}})()},[e]),K.useEffect(()=>{let le=!1;return(async()=>{F(!0),ye("");try{const Ue=pl(e),ze=pl(Wf(e,6)),xe=`https://api.open-meteo.com/v1/forecast?latitude=-31.95&longitude=115.86&daily=weathercode,temperature_2m_min,temperature_2m_max,precipitation_sum&timezone=Australia%2FPerth&start_date=${Ue}&end_date=${ze}`,Y=await fetch(xe);if(!Y.ok)throw new Error("Weather API error");const lt=(await Y.json()).daily||{},we=lt.time||[],je=lt.temperature_2m_min||[],Ye=lt.temperature_2m_max||[],We=lt.weathercode||[],nt=lt.precipitation_sum||[],et=Math.min(we.length,je.length,Ye.length,We.length),ut={};for(let _t=0;_t<et;_t++){const at=Number(We[_t]),Ut=w6(at),xt=_6(at),dt=`${Math.round(je[_t])}C${Math.round(Ye[_t])}C ${Ut}`,ot=[];if(xt&&ot.push(xt),_t<nt.length&&nt[_t]!=null){const Fe=Number(nt[_t]);if(!Number.isNaN(Fe)){const Ee=Fe>=1?String(Math.round(Fe)):Fe.toFixed(1);ot.push(`${Ee} mm`)}}const mt=ot.join("  ");ut[we[_t]]={line1:dt,line2:mt}}le||D(ut)}catch(Ue){console.error("Weather fetch failed",Ue),le||(ye("Weather data unavailable."),D({}))}finally{le||F(!1)}})(),()=>{le=!0}},[e]);const V=()=>{n(le=>Wf(le,-7)),k(null)},ie=()=>{n(le=>Wf(le,7)),k(null)},re=()=>{n(c0(new Date)),k(null)},Ce=le=>{const _e=le.target.value;if(!_e)return;const Ue=new Date(_e+"T00:00:00");Number.isNaN(Ue.getTime())||(n(c0(Ue)),k(null))},Q=(le,_e)=>{ce&&k({dateISO:le,personId:_e})},[he,de]=K.useState("FIELD"),[ke,Se]=K.useState(""),[M,j]=K.useState(""),[z,H]=K.useState(""),te=(le,_e)=>{const Ue=le instanceof Date?new Date(le):new Date(String(le)+"T00:00:00"),ze=pl(Ue),xe=`${ze}|${_e}`,Y=l[xe],wt=Ue.getDay()===0||Ue.getDay()===6;let lt,we=!1;Y&&Y.status?(lt=Y.status,we=!!Y.touched):wt?lt="NON-WORK":lt="FIELD";let je,Ye,We;return lt==="FIELD"?we?(je=Kr.FIELD_TOUCHED_BG,Ye=Kr.FIELD_TOUCHED_BORDER,We="#1A1A1A"):(je=Kr.FIELD_BG,Ye=Kr.FIELD_BORDER,We=Kr.TEXT_HINT):(je=Kr[lt]||"#EEEEEE",Ye="#9E9E9E",We="#1A1A1A"),{dateISO:ze,isWeekend:wt,status:lt,touched:we,bg:je,border:Ye,statusColor:We,region:Y?.region||"",job_ref:Y?.job_ref||"",notes:Y?.notes||""}};K.useEffect(()=>{if(!w)return;const le=`${w.dateISO}|${w.personId}`,_e=l[le];_e?(de(_e.status||"FIELD"),Se(_e.region||""),j(_e.job_ref||""),H(_e.notes||"")):(de("FIELD"),Se(""),j(""),H(""))},[w,l]);const ne=async()=>{if(!(!w||!ce)){y(!0),A("");try{const le=`${w.dateISO}|${w.personId}`,_e=l[le];if(!he&&!ke&&!M&&!z&&_e){const{error:ze}=await dn.from("schedule_assignments").delete().eq("id",_e.id);if(ze)throw ze;const xe={...l};delete xe[le],u(xe),k(null);return}if(_e){const ze={status:he||"FIELD",region:ke,job_ref:M,notes:z,touched:!0,updated_at:new Date().toISOString()},{data:xe,error:Y}=await dn.from("schedule_assignments").update(ze).eq("id",_e.id).select().single();if(Y)throw Y;u(wt=>({...wt,[le]:xe}))}else{const ze={date:w.dateISO,person_id:w.personId,status:he||"FIELD",region:ke,job_ref:M,notes:z,touched:!0},{data:xe,error:Y}=await dn.from("schedule_assignments").insert(ze).select().single();if(Y)throw Y;u(wt=>({...wt,[le]:xe}))}}catch(le){console.error("Error saving assignment:",le);const _e=le?.message||le?.details||le?.hint||"Unknown Supabase error";A(`Could not save this assignment. (${_e})`)}finally{y(!1)}}},ee=async()=>{if(!w||!ce)return;const le=`${w.dateISO}|${w.personId}`,_e=l[le];if(!_e){Se(""),j(""),H("");return}y(!0),A("");try{const{error:Ue}=await dn.from("schedule_assignments").delete().eq("id",_e.id);if(Ue)throw Ue;const ze={...l};delete ze[le],u(ze),k(null)}catch(Ue){console.error("Error clearing assignment:",Ue);const ze=Ue?.message||Ue?.details||Ue?.hint||"Unknown Supabase error";A(`Could not clear this assignment. (${ze})`)}finally{y(!1)}},oe=le=>{if(!le)return"";const _e=le.trim().split(/\s+/);if(_e.length===1)return _e[0].slice(0,2).toUpperCase();const Ue=_e[0][0]||"",ze=_e[_e.length-1][0]||"";return(Ue+ze).toUpperCase()},me=(le,_e)=>[le,new Date(_e.dateISO+"T00:00:00").toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),`Status: ${_e.status}`,_e.region&&`Region: ${_e.region}`,_e.job_ref&&`Job: ${_e.job_ref}`,_e.notes&&`Notes: ${_e.notes}`].filter(Boolean).join(`
`);return v.jsxs(Li,{icon:"",title:"Schedule",subtitle:ce?"Weekly schedule  click a cell to edit (admins only)":"Weekly schedule  view only",children:[v.jsxs("div",{className:"card schedule-card",children:[v.jsxs("div",{className:"schedule-header",children:[v.jsxs("div",{className:"schedule-week-label",children:["Week of",v.jsx("strong",{children:W}),h&&v.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.75rem"},children:"Loading"}),U&&v.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem"},children:"(weather updating)"}),ae&&!U&&v.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.7rem"},children:"(weather unavailable)"})]}),v.jsxs("div",{className:"schedule-week-buttons",children:[v.jsx("button",{type:"button",className:"btn-pill",onClick:V,children:" Previous week"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:re,children:"This week"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:ie,children:"Next week "}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.75rem"},children:[v.jsx("span",{children:"Select week:"}),v.jsx("input",{type:"date",className:"schedule-week-date-input",value:be,onChange:Ce})]}),v.jsx("button",{type:"button",className:"btn-pill",onClick:()=>T(le=>!le),children:N?"Normal view":"Flip orientation"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:()=>window.print(),children:"Print PDF"})]})]}),_&&v.jsx("div",{style:{marginBottom:"0.5rem",fontSize:"0.8rem",color:"#b71c1c",whiteSpace:"pre-wrap"},children:_}),v.jsx("div",{className:"schedule-grid-wrapper",children:N?v.jsxs("table",{className:"schedule-grid",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"schedule-col-person",children:"Day"}),I.map(le=>v.jsx("th",{className:"schedule-col-day",children:v.jsxs("div",{className:"schedule-flipped-header-person",children:[v.jsx("div",{className:"schedule-person-avatar",children:oe(le.name)}),v.jsx("div",{className:"schedule-flipped-person-name",children:le.name})]})},le.id))]})}),v.jsx("tbody",{children:se.map(le=>{const _e=pl(le),Ue=L[_e];return v.jsxs("tr",{children:[v.jsxs("td",{className:"schedule-person-cell",children:[v.jsx("div",{className:"schedule-person-name",children:le.toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}),Ue&&v.jsx("div",{className:"schedule-day-weather",children:Ue.line1})]}),I.map(ze=>{const xe=te(le,ze.id),Y=w&&w.dateISO===xe.dateISO&&w.personId===ze.id,wt=me(ze.name,xe);return v.jsxs("td",{className:"schedule-cell"+(xe.isWeekend?" schedule-weekend":"")+(Y?" schedule-selected":""),style:{backgroundColor:xe.bg,border:`1px solid ${xe.border||Kr.GRID_LINE}`,cursor:ce?"pointer":"default"},onClick:()=>Q(xe.dateISO,ze.id),title:wt,children:[v.jsx("div",{className:"schedule-cell-status",style:{color:xe.statusColor},children:xe.status}),xe.region&&v.jsx("div",{className:"schedule-cell-region",children:xe.region}),xe.job_ref&&v.jsxs("div",{className:"schedule-cell-job",children:["Job: ",xe.job_ref]})]},xe.dateISO+"|"+ze.id)})]},_e)})})]}):v.jsxs("table",{className:"schedule-grid",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"schedule-col-person",children:"Staff"}),se.map(le=>{const _e=pl(le),Ue=L[_e];return v.jsx("th",{className:"schedule-col-day",children:v.jsxs("div",{className:"schedule-day-label",children:[v.jsx("span",{className:"schedule-day-name",children:le.toLocaleDateString("en-AU",{weekday:"short"})}),v.jsx("span",{className:"schedule-day-date",children:le.toLocaleDateString("en-AU",{day:"numeric",month:"short"})}),Ue&&v.jsx("span",{className:"schedule-day-weather",children:Ue.line1})]})},_e)})]})}),v.jsx("tbody",{children:I.map(le=>v.jsxs("tr",{children:[v.jsxs("td",{className:"schedule-person-cell",children:[v.jsx("div",{className:"schedule-person-avatar",children:oe(le.name)}),v.jsx("div",{className:"schedule-person-name",children:le.name})]}),se.map(_e=>{const Ue=te(_e,le.id),ze=w&&w.dateISO===Ue.dateISO&&w.personId===le.id,xe=me(le.name,Ue);return v.jsxs("td",{className:"schedule-cell"+(Ue.isWeekend?" schedule-weekend":"")+(ze?" schedule-selected":""),style:{backgroundColor:Ue.bg,border:`1px solid ${Ue.border||Kr.GRID_LINE}`,cursor:ce?"pointer":"default"},onClick:()=>Q(Ue.dateISO,le.id),title:xe,children:[v.jsx("div",{className:"schedule-cell-status",style:{color:Ue.statusColor},children:Ue.status}),Ue.region&&v.jsx("div",{className:"schedule-cell-region",children:Ue.region}),Ue.job_ref&&v.jsxs("div",{className:"schedule-cell-job",children:["Job: ",Ue.job_ref]})]},Ue.dateISO+"|"+le.id)})]},le.id))})]})}),v.jsxs("div",{className:"schedule-legend",children:[v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.FIELD_BG,borderColor:Kr.FIELD_BORDER}}),v.jsx("span",{style:{color:"#E57373"},children:"FIELD  not yet set"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.FIELD_TOUCHED_BG,borderColor:Kr.FIELD_TOUCHED_BORDER}}),v.jsx("span",{children:"FIELD  set"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.OFFICE}}),v.jsx("span",{children:"OFFICE"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.AWAY}}),v.jsx("span",{children:"AWAY"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.LEAVE}}),v.jsx("span",{children:"LEAVE"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.COURSE}}),v.jsx("span",{children:"COURSE"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr.HOLD}}),v.jsx("span",{children:"HOLD"})]}),v.jsxs("div",{className:"schedule-legend-item",children:[v.jsx("span",{className:"schedule-legend-swatch",style:{backgroundColor:Kr["NON-WORK"]}}),v.jsx("span",{children:"NON-WORK"})]})]}),v.jsxs("p",{className:"schedule-footer-note",children:["Logged in as ",v.jsx("strong",{children:r?.email}),"."," ",ce?"You have admin editing rights.":"You have view-only access."]})]}),ce&&w&&v.jsxs("div",{className:"card schedule-editor-card",children:[v.jsx("h3",{className:"card-title",children:"Edit assignment"}),v.jsxs("p",{className:"card-subtitle",children:[I.find(le=>le.id===w.personId)?.name||"Staff"," ",""," ",new Date(w.dateISO).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"short",year:"numeric"})]}),v.jsxs("div",{className:"schedule-editor-grid",children:[v.jsxs("div",{className:"schedule-editor-row",children:[v.jsx("label",{className:"schedule-editor-label",children:"Status"}),v.jsx("select",{className:"maps-search-input",value:he,onChange:le=>de(le.target.value),children:y6.map(le=>v.jsx("option",{value:le,children:le},le))})]}),v.jsxs("div",{className:"schedule-editor-row",children:[v.jsx("label",{className:"schedule-editor-label",children:"Region / area"}),v.jsx("input",{className:"maps-search-input",type:"text",value:ke,onChange:le=>Se(le.target.value),placeholder:"e.g. METRO NORTH / WATER BORRANUP"})]}),v.jsxs("div",{className:"schedule-editor-row",children:[v.jsx("label",{className:"schedule-editor-label",children:"Job ref"}),v.jsx("input",{className:"maps-search-input",type:"text",value:M,onChange:le=>j(le.target.value),placeholder:"e.g. 12345"})]}),v.jsxs("div",{className:"schedule-editor-row",children:[v.jsx("label",{className:"schedule-editor-label",children:"Notes"}),v.jsx("textarea",{className:"maps-search-input",style:{minHeight:"60px"},value:z,onChange:le=>H(le.target.value),placeholder:"Additional notes (optional)"})]})]}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[v.jsx("button",{type:"button",className:"btn-pill primary",onClick:ne,disabled:p,children:p?"Saving":"Save"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:ee,disabled:p,children:"Clear / remove"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:()=>k(null),disabled:p,children:"Close"})]})]})]})}const S6="modulepreload",A6=function(r){return"/"+r},uv={},h0=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(n.map(p=>{if(p=A6(p),p in uv)return;uv[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":S6,y||(A.as="script"),A.crossOrigin="",A.href=p,h&&A.setAttribute("nonce",h),document.head.appendChild(A),y)return new Promise((w,k)=>{A.addEventListener("load",w),A.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};function kn(r){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(r)}var ms=Uint8Array,va=Uint16Array,Rm=Int32Array,Mm=new ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dm=new ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cv=new ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hy=function(r,e){for(var n=new va(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var s=new Rm(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)s[l]=l-n[a]<<5|a;return{b:n,r:s}},$y=Hy(Mm,2),N6=$y.b,em=$y.r;N6[28]=258,em[258]=28;var E6=Hy(Dm,0),hv=E6.r,tm=new va(32768);for(var Wn=0;Wn<32768;++Wn){var ml=(Wn&43690)>>1|(Wn&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,tm[Wn]=((ml&65280)>>8|(ml&255)<<8)>>1}var kh=(function(r,e,n){for(var a=r.length,s=0,l=new va(e);s<a;++s)r[s]&&++l[r[s]-1];var u=new va(e);for(s=1;s<e;++s)u[s]=u[s-1]+l[s-1]<<1;var h;if(n){h=new va(1<<e);var f=15-e;for(s=0;s<a;++s)if(r[s])for(var p=s<<4|r[s],y=e-r[s],_=u[r[s]-1]++<<y,A=_|(1<<y)-1;_<=A;++_)h[tm[_]>>f]=p}else for(h=new va(a),s=0;s<a;++s)r[s]&&(h[s]=tm[u[r[s]-1]++]>>15-r[s]);return h}),pu=new ms(288);for(var Wn=0;Wn<144;++Wn)pu[Wn]=8;for(var Wn=144;Wn<256;++Wn)pu[Wn]=9;for(var Wn=256;Wn<280;++Wn)pu[Wn]=7;for(var Wn=280;Wn<288;++Wn)pu[Wn]=8;var wd=new ms(32);for(var Wn=0;Wn<32;++Wn)wd[Wn]=5;var j6=kh(pu,9,0),k6=kh(wd,5,0),Gy=function(r){return(r+7)/8|0},L6=function(r,e,n){return(n==null||n>r.length)&&(n=r.length),new ms(r.subarray(e,n))},No=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},xh=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},f0=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var s=n.length,l=n.slice();if(!s)return{t:Wy,l:0};if(s==1){var u=new ms(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(ae,ye){return ae.f-ye.f}),n.push({s:-1,f:25001});var h=n[0],f=n[1],p=0,y=1,_=2;for(n[0]={s:-1,f:h.f+f.f,l:h,r:f};y!=s-1;)h=n[n[p].f<n[_].f?p++:_++],f=n[p!=y&&n[p].f<n[_].f?p++:_++],n[y++]={s:-1,f:h.f+f.f,l:h,r:f};for(var A=l[0].s,a=1;a<s;++a)l[a].s>A&&(A=l[a].s);var w=new va(A+1),k=nm(n[y-1],w,0);if(k>e){var a=0,N=0,T=k-e,L=1<<T;for(l.sort(function(ye,ce){return w[ce.s]-w[ye.s]||ye.f-ce.f});a<s;++a){var D=l[a].s;if(w[D]>e)N+=L-(1<<k-w[D]),w[D]=e;else break}for(N>>=T;N>0;){var U=l[a].s;w[U]<e?N-=1<<e-w[U]++-1:++a}for(;a>=0&&N;--a){var F=l[a].s;w[F]==e&&(--w[F],++N)}k=e}return{t:new ms(w),l:k}},nm=function(r,e,n){return r.s==-1?Math.max(nm(r.l,e,n+1),nm(r.r,e,n+1)):e[r.s]=n},fv=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new va(++e),a=0,s=r[0],l=1,u=function(f){n[a++]=f},h=1;h<=e;++h)if(r[h]==s&&h!=e)++l;else{if(!s&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(s),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(s);l=1,s=r[h]}return{c:n.subarray(0,a),n:e}},Sh=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Vy=function(r,e,n){var a=n.length,s=Gy(e+2);r[s]=a&255,r[s+1]=a>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var l=0;l<a;++l)r[s+l+4]=n[l];return(s+4+a)*8},dv=function(r,e,n,a,s,l,u,h,f,p,y){No(e,y++,n),++s[256];for(var _=f0(s,15),A=_.t,w=_.l,k=f0(l,15),N=k.t,T=k.l,L=fv(A),D=L.c,U=L.n,F=fv(N),ae=F.c,ye=F.n,ce=new va(19),se=0;se<D.length;++se)++ce[D[se]&31];for(var se=0;se<ae.length;++se)++ce[ae[se]&31];for(var W=f0(ce,7),be=W.t,I=W.l,V=19;V>4&&!be[cv[V-1]];--V);var ie=p+5<<3,re=Sh(s,pu)+Sh(l,wd)+u,Ce=Sh(s,A)+Sh(l,N)+u+14+3*V+Sh(ce,be)+2*ce[16]+3*ce[17]+7*ce[18];if(f>=0&&ie<=re&&ie<=Ce)return Vy(e,y,r.subarray(f,f+p));var Q,he,de,ke;if(No(e,y,1+(Ce<re)),y+=2,Ce<re){Q=kh(A,w,0),he=A,de=kh(N,T,0),ke=N;var Se=kh(be,I,0);No(e,y,U-257),No(e,y+5,ye-1),No(e,y+10,V-4),y+=14;for(var se=0;se<V;++se)No(e,y+3*se,be[cv[se]]);y+=3*V;for(var M=[D,ae],j=0;j<2;++j)for(var z=M[j],se=0;se<z.length;++se){var H=z[se]&31;No(e,y,Se[H]),y+=be[H],H>15&&(No(e,y,z[se]>>5&127),y+=z[se]>>12)}}else Q=j6,he=pu,de=k6,ke=wd;for(var se=0;se<h;++se){var te=a[se];if(te>255){var H=te>>18&31;xh(e,y,Q[H+257]),y+=he[H+257],H>7&&(No(e,y,te>>23&31),y+=Mm[H]);var ne=te&31;xh(e,y,de[ne]),y+=ke[ne],ne>3&&(xh(e,y,te>>5&8191),y+=Dm[ne])}else xh(e,y,Q[te]),y+=he[te]}return xh(e,y,Q[256]),y+he[256]},C6=new Rm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Wy=new ms(0),T6=function(r,e,n,a,s,l){var u=l.z||r.length,h=new ms(a+u+5*(1+Math.ceil(u/7e3))+s),f=h.subarray(a,h.length-s),p=l.l,y=(l.r||0)&7;if(e){y&&(f[0]=l.r>>3);for(var _=C6[e-1],A=_>>13,w=_&8191,k=(1<<n)-1,N=l.p||new va(32768),T=l.h||new va(k+1),L=Math.ceil(n/3),D=2*L,U=function(xe){return(r[xe]^r[xe+1]<<L^r[xe+2]<<D)&k},F=new Rm(25e3),ae=new va(288),ye=new va(32),ce=0,se=0,W=l.i||0,be=0,I=l.w||0,V=0;W+2<u;++W){var ie=U(W),re=W&32767,Ce=T[ie];if(N[re]=Ce,T[ie]=re,I<=W){var Q=u-W;if((ce>7e3||be>24576)&&(Q>423||!p)){y=dv(r,f,0,F,ae,ye,se,be,V,W-V,y),be=ce=se=0,V=W;for(var he=0;he<286;++he)ae[he]=0;for(var he=0;he<30;++he)ye[he]=0}var de=2,ke=0,Se=w,M=re-Ce&32767;if(Q>2&&ie==U(W-M))for(var j=Math.min(A,Q)-1,z=Math.min(32767,W),H=Math.min(258,Q);M<=z&&--Se&&re!=Ce;){if(r[W+de]==r[W+de-M]){for(var te=0;te<H&&r[W+te]==r[W+te-M];++te);if(te>de){if(de=te,ke=M,te>j)break;for(var ne=Math.min(M,te-2),ee=0,he=0;he<ne;++he){var oe=W-M+he&32767,me=N[oe],le=oe-me&32767;le>ee&&(ee=le,Ce=oe)}}}re=Ce,Ce=N[re],M+=re-Ce&32767}if(ke){F[be++]=268435456|em[de]<<18|hv[ke];var _e=em[de]&31,Ue=hv[ke]&31;se+=Mm[_e]+Dm[Ue],++ae[257+_e],++ye[Ue],I=W+de,++ce}else F[be++]=r[W],++ae[r[W]]}}for(W=Math.max(W,I);W<u;++W)F[be++]=r[W],++ae[r[W]];y=dv(r,f,p,F,ae,ye,se,be,V,W-V,y),p||(l.r=y&7|f[y/8|0]<<3,y-=7,l.h=T,l.p=N,l.i=W,l.w=I)}else{for(var W=l.w||0;W<u+p;W+=65535){var ze=W+65535;ze>=u&&(f[y/8|0]=p,ze=u),y=Vy(f,y+1,r.subarray(W,ze))}l.i=u}return L6(h,0,a+Gy(y)+s)},Yy=function(){var r=1,e=0;return{p:function(n){for(var a=r,s=e,l=n.length|0,u=0;u!=l;){for(var h=Math.min(u+2655,l);u<h;++u)s+=a+=n[u];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}r=a,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},O6=function(r,e,n,a,s){if(!s&&(s={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),u=new ms(l.length+r.length);u.set(l),u.set(r,l.length),r=u,s.w=l.length}return T6(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,s)},Ky=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},R6=function(r,e){var n=e.level,a=n==0?0:n<6?1:n==9?3:2;if(r[0]=120,r[1]=a<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=Yy();s.p(e.dictionary),Ky(r,2,s.d())}};function rm(r,e){e||(e={});var n=Yy();n.p(r);var a=O6(r,e,e.dictionary?6:2,4);return R6(a,e),Ky(a,a.length-4,n.d()),a}var M6=typeof TextDecoder<"u"&&new TextDecoder,D6=0;try{M6.decode(Wy,{stream:!0}),D6=1}catch{}function P6(r){if(Array.isArray(r))return r}function U6(r,e){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var a,s,l,u,h=[],f=!0,p=!1;try{if(l=(n=n.call(r)).next,e!==0)for(;!(f=(a=l.call(n)).done)&&(h.push(a.value),h.length!==e);f=!0);}catch(y){p=!0,s=y}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw s}}return h}}function pv(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,a=Array(e);n<e;n++)a[n]=r[n];return a}function B6(r,e){if(r){if(typeof r=="string")return pv(r,e);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pv(r,e):void 0}}function I6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mv(r,e){return P6(r)||U6(r,e)||B6(r,e)||I6()}function gv(r,e="utf8"){return new TextDecoder(e).decode(r)}const z6=new TextEncoder;function q6(r){return z6.encode(r)}const F6=1024*8,H6=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),d0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Pm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=F6,n={}){let a=!1;typeof e=="number"?e=new ArrayBuffer(e):(a=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,l=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof Pm)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const a=(this.offset+e)*2,s=new Uint8Array(a);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const a=d0[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,l=this.buffer.slice(s,s+a);if(this.littleEndian===H6&&n!=="uint8"&&n!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+a));h.reverse();const f=new d0[n](h.buffer);return this.offset+=a,f.reverse(),f}const u=new d0[n](l);return this.offset+=a,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let a=0;a<e;a++)n+=this.readChar();return n}readUtf8(e=1){return gv(this.readBytes(e))}decodeText(e=1,n="utf8"){return gv(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(q6(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Mc(r){let e=r.length;for(;--e>=0;)r[e]=0}const $6=3,G6=258,Jy=29,V6=256,W6=V6+1+Jy,Xy=30,Y6=512,K6=new Array((W6+2)*2);Mc(K6);const J6=new Array(Xy*2);Mc(J6);const X6=new Array(Y6);Mc(X6);const Z6=new Array(G6-$6+1);Mc(Z6);const Q6=new Array(Jy);Mc(Q6);const eA=new Array(Xy);Mc(eA);const tA=(r,e,n,a)=>{let s=r&65535|0,l=r>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do s=s+e[a++]|0,l=l+s|0;while(--u);s%=65521,l%=65521}return s|l<<16|0};var im=tA;const nA=()=>{let r,e=[];for(var n=0;n<256;n++){r=n;for(var a=0;a<8;a++)r=r&1?3988292384^r>>>1:r>>>1;e[n]=r}return e},rA=new Uint32Array(nA()),iA=(r,e,n,a)=>{const s=rA,l=a+n;r^=-1;for(let u=a;u<l;u++)r=r>>>8^s[(r^e[u])&255];return r^-1};var zs=iA,am={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aA=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var sA=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const a in n)aA(n,a)&&(r[a]=n[a])}}return r},oA=r=>{let e=0;for(let a=0,s=r.length;a<s;a++)e+=r[a].length;const n=new Uint8Array(e);for(let a=0,s=0,l=r.length;a<l;a++){let u=r[a];n.set(u,s),s+=u.length}return n},Qy={assign:sA,flattenChunks:oA};let eb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eb=!1}const Mh=new Uint8Array(256);for(let r=0;r<256;r++)Mh[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Mh[254]=Mh[254]=1;var lA=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,n,a,s,l,u=r.length,h=0;for(s=0;s<u;s++)n=r.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=r.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(h),l=0,s=0;l<h;s++)n=r.charCodeAt(s),(n&64512)===55296&&s+1<u&&(a=r.charCodeAt(s+1),(a&64512)===56320&&(n=65536+(n-55296<<10)+(a-56320),s++)),n<128?e[l++]=n:n<2048?(e[l++]=192|n>>>6,e[l++]=128|n&63):n<65536?(e[l++]=224|n>>>12,e[l++]=128|n>>>6&63,e[l++]=128|n&63):(e[l++]=240|n>>>18,e[l++]=128|n>>>12&63,e[l++]=128|n>>>6&63,e[l++]=128|n&63);return e};const uA=(r,e)=>{if(e<65534&&r.subarray&&eb)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let n="";for(let a=0;a<e;a++)n+=String.fromCharCode(r[a]);return n};var cA=(r,e)=>{const n=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let a,s;const l=new Array(n*2);for(s=0,a=0;a<n;){let u=r[a++];if(u<128){l[s++]=u;continue}let h=Mh[u];if(h>4){l[s++]=65533,a+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&a<n;)u=u<<6|r[a++]&63,h--;if(h>1){l[s++]=65533;continue}u<65536?l[s++]=u:(u-=65536,l[s++]=55296|u>>10&1023,l[s++]=56320|u&1023)}return uA(l,s)},hA=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let n=e-1;for(;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?e:n+Mh[r[n]]>e?n:e},sm={string2buf:lA,buf2string:cA,utf8border:hA};function fA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dA=fA;const Yf=16209,pA=16191;var mA=function(e,n){let a,s,l,u,h,f,p,y,_,A,w,k,N,T,L,D,U,F,ae,ye,ce,se,W,be;const I=e.state;a=e.next_in,W=e.input,s=a+(e.avail_in-5),l=e.next_out,be=e.output,u=l-(n-e.avail_out),h=l+(e.avail_out-257),f=I.dmax,p=I.wsize,y=I.whave,_=I.wnext,A=I.window,w=I.hold,k=I.bits,N=I.lencode,T=I.distcode,L=(1<<I.lenbits)-1,D=(1<<I.distbits)-1;e:do{k<15&&(w+=W[a++]<<k,k+=8,w+=W[a++]<<k,k+=8),U=N[w&L];t:for(;;){if(F=U>>>24,w>>>=F,k-=F,F=U>>>16&255,F===0)be[l++]=U&65535;else if(F&16){ae=U&65535,F&=15,F&&(k<F&&(w+=W[a++]<<k,k+=8),ae+=w&(1<<F)-1,w>>>=F,k-=F),k<15&&(w+=W[a++]<<k,k+=8,w+=W[a++]<<k,k+=8),U=T[w&D];n:for(;;){if(F=U>>>24,w>>>=F,k-=F,F=U>>>16&255,F&16){if(ye=U&65535,F&=15,k<F&&(w+=W[a++]<<k,k+=8,k<F&&(w+=W[a++]<<k,k+=8)),ye+=w&(1<<F)-1,ye>f){e.msg="invalid distance too far back",I.mode=Yf;break e}if(w>>>=F,k-=F,F=l-u,ye>F){if(F=ye-F,F>y&&I.sane){e.msg="invalid distance too far back",I.mode=Yf;break e}if(ce=0,se=A,_===0){if(ce+=p-F,F<ae){ae-=F;do be[l++]=A[ce++];while(--F);ce=l-ye,se=be}}else if(_<F){if(ce+=p+_-F,F-=_,F<ae){ae-=F;do be[l++]=A[ce++];while(--F);if(ce=0,_<ae){F=_,ae-=F;do be[l++]=A[ce++];while(--F);ce=l-ye,se=be}}}else if(ce+=_-F,F<ae){ae-=F;do be[l++]=A[ce++];while(--F);ce=l-ye,se=be}for(;ae>2;)be[l++]=se[ce++],be[l++]=se[ce++],be[l++]=se[ce++],ae-=3;ae&&(be[l++]=se[ce++],ae>1&&(be[l++]=se[ce++]))}else{ce=l-ye;do be[l++]=be[ce++],be[l++]=be[ce++],be[l++]=be[ce++],ae-=3;while(ae>2);ae&&(be[l++]=be[ce++],ae>1&&(be[l++]=be[ce++]))}}else if((F&64)===0){U=T[(U&65535)+(w&(1<<F)-1)];continue n}else{e.msg="invalid distance code",I.mode=Yf;break e}break}}else if((F&64)===0){U=N[(U&65535)+(w&(1<<F)-1)];continue t}else if(F&32){I.mode=pA;break e}else{e.msg="invalid literal/length code",I.mode=Yf;break e}break}}while(a<s&&l<h);ae=k>>3,a-=ae,k-=ae<<3,w&=(1<<k)-1,e.next_in=a,e.next_out=l,e.avail_in=a<s?5+(s-a):5-(a-s),e.avail_out=l<h?257+(h-l):257-(l-h),I.hold=w,I.bits=k};const pc=15,vv=852,yv=592,bv=0,p0=1,wv=2,gA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wA=(r,e,n,a,s,l,u,h)=>{const f=h.bits;let p=0,y=0,_=0,A=0,w=0,k=0,N=0,T=0,L=0,D=0,U,F,ae,ye,ce,se=null,W;const be=new Uint16Array(pc+1),I=new Uint16Array(pc+1);let V=null,ie,re,Ce;for(p=0;p<=pc;p++)be[p]=0;for(y=0;y<a;y++)be[e[n+y]]++;for(w=f,A=pc;A>=1&&be[A]===0;A--);if(w>A&&(w=A),A===0)return s[l++]=1<<24|64<<16|0,s[l++]=1<<24|64<<16|0,h.bits=1,0;for(_=1;_<A&&be[_]===0;_++);for(w<_&&(w=_),T=1,p=1;p<=pc;p++)if(T<<=1,T-=be[p],T<0)return-1;if(T>0&&(r===bv||A!==1))return-1;for(I[1]=0,p=1;p<pc;p++)I[p+1]=I[p]+be[p];for(y=0;y<a;y++)e[n+y]!==0&&(u[I[e[n+y]]++]=y);if(r===bv?(se=V=u,W=20):r===p0?(se=gA,V=vA,W=257):(se=yA,V=bA,W=0),D=0,y=0,p=_,ce=l,k=w,N=0,ae=-1,L=1<<w,ye=L-1,r===p0&&L>vv||r===wv&&L>yv)return 1;for(;;){ie=p-N,u[y]+1<W?(re=0,Ce=u[y]):u[y]>=W?(re=V[u[y]-W],Ce=se[u[y]-W]):(re=96,Ce=0),U=1<<p-N,F=1<<k,_=F;do F-=U,s[ce+(D>>N)+F]=ie<<24|re<<16|Ce|0;while(F!==0);for(U=1<<p-1;D&U;)U>>=1;if(U!==0?(D&=U-1,D+=U):D=0,y++,--be[p]===0){if(p===A)break;p=e[n+u[y]]}if(p>w&&(D&ye)!==ae){for(N===0&&(N=w),ce+=_,k=p-N,T=1<<k;k+N<A&&(T-=be[k+N],!(T<=0));)k++,T<<=1;if(L+=1<<k,r===p0&&L>vv||r===wv&&L>yv)return 1;ae=D&ye,s[ae]=w<<24|k<<16|ce-l|0}}return D!==0&&(s[ce+D]=p-N<<24|64<<16|0),h.bits=w,0};var Lh=wA;const _A=0,tb=1,nb=2,{Z_FINISH:_v,Z_BLOCK:xA,Z_TREES:Kf,Z_OK:mu,Z_STREAM_END:SA,Z_NEED_DICT:AA,Z_STREAM_ERROR:Ia,Z_DATA_ERROR:rb,Z_MEM_ERROR:ib,Z_BUF_ERROR:NA,Z_DEFLATED:xv}=Zy,kd=16180,Sv=16181,Av=16182,Nv=16183,Ev=16184,jv=16185,kv=16186,Lv=16187,Cv=16188,Tv=16189,_d=16190,Eo=16191,m0=16192,Ov=16193,g0=16194,Rv=16195,Mv=16196,Dv=16197,Pv=16198,Jf=16199,Xf=16200,Uv=16201,Bv=16202,Iv=16203,zv=16204,qv=16205,v0=16206,Fv=16207,Hv=16208,Qn=16209,ab=16210,sb=16211,EA=852,jA=592,kA=15,LA=kA,$v=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function CA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<kd||e.mode>sb?1:0},ob=r=>{if(vu(r))return Ia;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=kd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(EA),e.distcode=e.distdyn=new Int32Array(jA),e.sane=1,e.back=-1,mu},lb=r=>{if(vu(r))return Ia;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,ob(r)},ub=(r,e)=>{let n;if(vu(r))return Ia;const a=r.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ia:(a.window!==null&&a.wbits!==e&&(a.window=null),a.wrap=n,a.wbits=e,lb(r))},cb=(r,e)=>{if(!r)return Ia;const n=new CA;r.state=n,n.strm=r,n.window=null,n.mode=kd;const a=ub(r,e);return a!==mu&&(r.state=null),a},TA=r=>cb(r,LA);let Gv=!0,y0,b0;const OA=r=>{if(Gv){y0=new Int32Array(512),b0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Lh(tb,r.lens,0,288,y0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Lh(nb,r.lens,0,32,b0,0,r.work,{bits:5}),Gv=!1}r.lencode=y0,r.lenbits=9,r.distcode=b0,r.distbits=5},hb=(r,e,n,a)=>{let s;const l=r.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(e.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(s=l.wsize-l.wnext,s>a&&(s=a),l.window.set(e.subarray(n-a,n-a+s),l.wnext),a-=s,a?(l.window.set(e.subarray(n-a,n),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=s,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=s))),0},RA=(r,e)=>{let n,a,s,l,u,h,f,p,y,_,A,w,k,N,T=0,L,D,U,F,ae,ye,ce,se;const W=new Uint8Array(4);let be,I;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vu(r)||!r.output||!r.input&&r.avail_in!==0)return Ia;n=r.state,n.mode===Eo&&(n.mode=m0),u=r.next_out,s=r.output,f=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,p=n.hold,y=n.bits,_=h,A=f,se=mu;e:for(;;)switch(n.mode){case kd:if(n.wrap===0){n.mode=m0;break}for(;y<16;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,W[0]=p&255,W[1]=p>>>8&255,n.check=zs(n.check,W,2,0),p=0,y=0,n.mode=Sv;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){r.msg="incorrect header check",n.mode=Qn;break}if((p&15)!==xv){r.msg="unknown compression method",n.mode=Qn;break}if(p>>>=4,y-=4,ce=(p&15)+8,n.wbits===0&&(n.wbits=ce),ce>15||ce>n.wbits){r.msg="invalid window size",n.mode=Qn;break}n.dmax=1<<n.wbits,n.flags=0,r.adler=n.check=1,n.mode=p&512?Tv:Eo,p=0,y=0;break;case Sv:for(;y<16;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(n.flags=p,(n.flags&255)!==xv){r.msg="unknown compression method",n.mode=Qn;break}if(n.flags&57344){r.msg="unknown header flags set",n.mode=Qn;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&(W[0]=p&255,W[1]=p>>>8&255,n.check=zs(n.check,W,2,0)),p=0,y=0,n.mode=Av;case Av:for(;y<32;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&(W[0]=p&255,W[1]=p>>>8&255,W[2]=p>>>16&255,W[3]=p>>>24&255,n.check=zs(n.check,W,4,0)),p=0,y=0,n.mode=Nv;case Nv:for(;y<16;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&(W[0]=p&255,W[1]=p>>>8&255,n.check=zs(n.check,W,2,0)),p=0,y=0,n.mode=Ev;case Ev:if(n.flags&1024){for(;y<16;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&(W[0]=p&255,W[1]=p>>>8&255,n.check=zs(n.check,W,2,0)),p=0,y=0}else n.head&&(n.head.extra=null);n.mode=jv;case jv:if(n.flags&1024&&(w=n.length,w>h&&(w=h),w&&(n.head&&(ce=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(l,l+w),ce)),n.flags&512&&n.wrap&4&&(n.check=zs(n.check,a,w,l)),h-=w,l+=w,n.length-=w),n.length))break e;n.length=0,n.mode=kv;case kv:if(n.flags&2048){if(h===0)break e;w=0;do ce=a[l+w++],n.head&&ce&&n.length<65536&&(n.head.name+=String.fromCharCode(ce));while(ce&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=zs(n.check,a,w,l)),h-=w,l+=w,ce)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Lv;case Lv:if(n.flags&4096){if(h===0)break e;w=0;do ce=a[l+w++],n.head&&ce&&n.length<65536&&(n.head.comment+=String.fromCharCode(ce));while(ce&&w<h);if(n.flags&512&&n.wrap&4&&(n.check=zs(n.check,a,w,l)),h-=w,l+=w,ce)break e}else n.head&&(n.head.comment=null);n.mode=Cv;case Cv:if(n.flags&512){for(;y<16;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(n.wrap&4&&p!==(n.check&65535)){r.msg="header crc mismatch",n.mode=Qn;break}p=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),r.adler=n.check=0,n.mode=Eo;break;case Tv:for(;y<32;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}r.adler=n.check=$v(p),p=0,y=0,n.mode=_d;case _d:if(n.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=l,r.avail_in=h,n.hold=p,n.bits=y,AA;r.adler=n.check=1,n.mode=Eo;case Eo:if(e===xA||e===Kf)break e;case m0:if(n.last){p>>>=y&7,y-=y&7,n.mode=v0;break}for(;y<3;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}switch(n.last=p&1,p>>>=1,y-=1,p&3){case 0:n.mode=Ov;break;case 1:if(OA(n),n.mode=Jf,e===Kf){p>>>=2,y-=2;break e}break;case 2:n.mode=Mv;break;case 3:r.msg="invalid block type",n.mode=Qn}p>>>=2,y-=2;break;case Ov:for(p>>>=y&7,y-=y&7;y<32;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if((p&65535)!==(p>>>16^65535)){r.msg="invalid stored block lengths",n.mode=Qn;break}if(n.length=p&65535,p=0,y=0,n.mode=g0,e===Kf)break e;case g0:n.mode=Rv;case Rv:if(w=n.length,w){if(w>h&&(w=h),w>f&&(w=f),w===0)break e;s.set(a.subarray(l,l+w),u),h-=w,l+=w,f-=w,u+=w,n.length-=w;break}n.mode=Eo;break;case Mv:for(;y<14;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(n.nlen=(p&31)+257,p>>>=5,y-=5,n.ndist=(p&31)+1,p>>>=5,y-=5,n.ncode=(p&15)+4,p>>>=4,y-=4,n.nlen>286||n.ndist>30){r.msg="too many length or distance symbols",n.mode=Qn;break}n.have=0,n.mode=Dv;case Dv:for(;n.have<n.ncode;){for(;y<3;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.lens[V[n.have++]]=p&7,p>>>=3,y-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,be={bits:n.lenbits},se=Lh(_A,n.lens,0,19,n.lencode,0,n.work,be),n.lenbits=be.bits,se){r.msg="invalid code lengths set",n.mode=Qn;break}n.have=0,n.mode=Pv;case Pv:for(;n.have<n.nlen+n.ndist;){for(;T=n.lencode[p&(1<<n.lenbits)-1],L=T>>>24,D=T>>>16&255,U=T&65535,!(L<=y);){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(U<16)p>>>=L,y-=L,n.lens[n.have++]=U;else{if(U===16){for(I=L+2;y<I;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(p>>>=L,y-=L,n.have===0){r.msg="invalid bit length repeat",n.mode=Qn;break}ce=n.lens[n.have-1],w=3+(p&3),p>>>=2,y-=2}else if(U===17){for(I=L+3;y<I;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}p>>>=L,y-=L,ce=0,w=3+(p&7),p>>>=3,y-=3}else{for(I=L+7;y<I;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}p>>>=L,y-=L,ce=0,w=11+(p&127),p>>>=7,y-=7}if(n.have+w>n.nlen+n.ndist){r.msg="invalid bit length repeat",n.mode=Qn;break}for(;w--;)n.lens[n.have++]=ce}}if(n.mode===Qn)break;if(n.lens[256]===0){r.msg="invalid code -- missing end-of-block",n.mode=Qn;break}if(n.lenbits=9,be={bits:n.lenbits},se=Lh(tb,n.lens,0,n.nlen,n.lencode,0,n.work,be),n.lenbits=be.bits,se){r.msg="invalid literal/lengths set",n.mode=Qn;break}if(n.distbits=6,n.distcode=n.distdyn,be={bits:n.distbits},se=Lh(nb,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,be),n.distbits=be.bits,se){r.msg="invalid distances set",n.mode=Qn;break}if(n.mode=Jf,e===Kf)break e;case Jf:n.mode=Xf;case Xf:if(h>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=l,r.avail_in=h,n.hold=p,n.bits=y,mA(r,A),u=r.next_out,s=r.output,f=r.avail_out,l=r.next_in,a=r.input,h=r.avail_in,p=n.hold,y=n.bits,n.mode===Eo&&(n.back=-1);break}for(n.back=0;T=n.lencode[p&(1<<n.lenbits)-1],L=T>>>24,D=T>>>16&255,U=T&65535,!(L<=y);){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(D&&(D&240)===0){for(F=L,ae=D,ye=U;T=n.lencode[ye+((p&(1<<F+ae)-1)>>F)],L=T>>>24,D=T>>>16&255,U=T&65535,!(F+L<=y);){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}p>>>=F,y-=F,n.back+=F}if(p>>>=L,y-=L,n.back+=L,n.length=U,D===0){n.mode=qv;break}if(D&32){n.back=-1,n.mode=Eo;break}if(D&64){r.msg="invalid literal/length code",n.mode=Qn;break}n.extra=D&15,n.mode=Uv;case Uv:if(n.extra){for(I=n.extra;y<I;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Bv;case Bv:for(;T=n.distcode[p&(1<<n.distbits)-1],L=T>>>24,D=T>>>16&255,U=T&65535,!(L<=y);){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if((D&240)===0){for(F=L,ae=D,ye=U;T=n.distcode[ye+((p&(1<<F+ae)-1)>>F)],L=T>>>24,D=T>>>16&255,U=T&65535,!(F+L<=y);){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}p>>>=F,y-=F,n.back+=F}if(p>>>=L,y-=L,n.back+=L,D&64){r.msg="invalid distance code",n.mode=Qn;break}n.offset=U,n.extra=D&15,n.mode=Iv;case Iv:if(n.extra){for(I=n.extra;y<I;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){r.msg="invalid distance too far back",n.mode=Qn;break}n.mode=zv;case zv:if(f===0)break e;if(w=A-f,n.offset>w){if(w=n.offset-w,w>n.whave&&n.sane){r.msg="invalid distance too far back",n.mode=Qn;break}w>n.wnext?(w-=n.wnext,k=n.wsize-w):k=n.wnext-w,w>n.length&&(w=n.length),N=n.window}else N=s,k=u-n.offset,w=n.length;w>f&&(w=f),f-=w,n.length-=w;do s[u++]=N[k++];while(--w);n.length===0&&(n.mode=Xf);break;case qv:if(f===0)break e;s[u++]=n.length,f--,n.mode=Xf;break;case v0:if(n.wrap){for(;y<32;){if(h===0)break e;h--,p|=a[l++]<<y,y+=8}if(A-=f,r.total_out+=A,n.total+=A,n.wrap&4&&A&&(r.adler=n.check=n.flags?zs(n.check,s,A,u-A):im(n.check,s,A,u-A)),A=f,n.wrap&4&&(n.flags?p:$v(p))!==n.check){r.msg="incorrect data check",n.mode=Qn;break}p=0,y=0}n.mode=Fv;case Fv:if(n.wrap&&n.flags){for(;y<32;){if(h===0)break e;h--,p+=a[l++]<<y,y+=8}if(n.wrap&4&&p!==(n.total&4294967295)){r.msg="incorrect length check",n.mode=Qn;break}p=0,y=0}n.mode=Hv;case Hv:se=SA;break e;case Qn:se=rb;break e;case ab:return ib;case sb:default:return Ia}return r.next_out=u,r.avail_out=f,r.next_in=l,r.avail_in=h,n.hold=p,n.bits=y,(n.wsize||A!==r.avail_out&&n.mode<Qn&&(n.mode<v0||e!==_v))&&hb(r,r.output,r.next_out,A-r.avail_out),_-=r.avail_in,A-=r.avail_out,r.total_in+=_,r.total_out+=A,n.total+=A,n.wrap&4&&A&&(r.adler=n.check=n.flags?zs(n.check,s,A,r.next_out-A):im(n.check,s,A,r.next_out-A)),r.data_type=n.bits+(n.last?64:0)+(n.mode===Eo?128:0)+(n.mode===Jf||n.mode===g0?256:0),(_===0&&A===0||e===_v)&&se===mu&&(se=NA),se},MA=r=>{if(vu(r))return Ia;let e=r.state;return e.window&&(e.window=null),r.state=null,mu},DA=(r,e)=>{if(vu(r))return Ia;const n=r.state;return(n.wrap&2)===0?Ia:(n.head=e,e.done=!1,mu)},PA=(r,e)=>{const n=e.length;let a,s,l;return vu(r)||(a=r.state,a.wrap!==0&&a.mode!==_d)?Ia:a.mode===_d&&(s=1,s=im(s,e,n,0),s!==a.check)?rb:(l=hb(r,e,n,n),l?(a.mode=ab,ib):(a.havedict=1,mu))};var UA=lb,BA=ub,IA=ob,zA=TA,qA=cb,FA=RA,HA=MA,$A=DA,GA=PA,VA="pako inflate (from Nodeca project)",ko={inflateReset:UA,inflateReset2:BA,inflateResetKeep:IA,inflateInit:zA,inflateInit2:qA,inflate:FA,inflateEnd:HA,inflateGetHeader:$A,inflateSetDictionary:GA,inflateInfo:VA};function WA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YA=WA;const fb=Object.prototype.toString,{Z_NO_FLUSH:KA,Z_FINISH:JA,Z_OK:Dh,Z_STREAM_END:w0,Z_NEED_DICT:_0,Z_STREAM_ERROR:XA,Z_DATA_ERROR:Vv,Z_MEM_ERROR:ZA}=Zy;function Ih(r){this.options=Qy.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dA,this.strm.avail_out=0;let n=ko.inflateInit2(this.strm,e.windowBits);if(n!==Dh)throw new Error(am[n]);if(this.header=new YA,ko.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=sm.string2buf(e.dictionary):fb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ko.inflateSetDictionary(this.strm,e.dictionary),n!==Dh)))throw new Error(am[n])}Ih.prototype.push=function(r,e){const n=this.strm,a=this.options.chunkSize,s=this.options.dictionary;let l,u,h;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?JA:KA,fb.call(r)==="[object ArrayBuffer]"?n.input=new Uint8Array(r):n.input=r,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(a),n.next_out=0,n.avail_out=a),l=ko.inflate(n,u),l===_0&&s&&(l=ko.inflateSetDictionary(n,s),l===Dh?l=ko.inflate(n,u):l===Vv&&(l=_0));n.avail_in>0&&l===w0&&n.state.wrap>0&&r[n.next_in]!==0;)ko.inflateReset(n),l=ko.inflate(n,u);switch(l){case XA:case Vv:case _0:case ZA:return this.onEnd(l),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||l===w0))if(this.options.to==="string"){let f=sm.utf8border(n.output,n.next_out),p=n.next_out-f,y=sm.buf2string(n.output,f);n.next_out=p,n.avail_out=a-p,p&&n.output.set(n.output.subarray(f,f+p),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(l===Dh&&h===0)){if(l===w0)return l=ko.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ih.prototype.onData=function(r){this.chunks.push(r)};Ih.prototype.onEnd=function(r){r===Dh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Qy.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function QA(r,e){const n=new Ih(e);if(n.push(r),n.err)throw n.msg||am[n.err];return n.result}var eN=Ih,tN=QA,nN={Inflate:eN,inflate:tN};const{Inflate:rN,inflate:iN}=nN;var Wv=rN,aN=iN;const db=[];for(let r=0;r<256;r++){let e=r;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;db[r]=e}const Yv=4294967295;function sN(r,e,n){let a=r;for(let s=0;s<n;s++)a=db[(a^e[s])&255]^a>>>8;return a}function oN(r,e){return(sN(Yv,r,e)^Yv)>>>0}function Kv(r,e,n){const a=r.readUint32(),s=oN(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==a)throw new Error(`CRC mismatch for chunk ${n}. Expected ${a}, found ${s}`)}function pb(r,e,n){for(let a=0;a<n;a++)e[a]=r[a]}function mb(r,e,n,a){let s=0;for(;s<a;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-a]&255}function gb(r,e,n,a){let s=0;if(n.length===0)for(;s<a;s++)e[s]=r[s];else for(;s<a;s++)e[s]=r[s]+n[s]&255}function vb(r,e,n,a,s){let l=0;if(n.length===0){for(;l<s;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+(e[l-s]>>1)&255}else{for(;l<s;l++)e[l]=r[l]+(n[l]>>1)&255;for(;l<a;l++)e[l]=r[l]+(e[l-s]+n[l]>>1)&255}}function yb(r,e,n,a,s){let l=0;if(n.length===0){for(;l<s;l++)e[l]=r[l];for(;l<a;l++)e[l]=r[l]+e[l-s]&255}else{for(;l<s;l++)e[l]=r[l]+n[l]&255;for(;l<a;l++)e[l]=r[l]+lN(e[l-s],n[l],n[l-s])&255}}function lN(r,e,n){const a=r+e-n,s=Math.abs(a-r),l=Math.abs(a-e),u=Math.abs(a-n);return s<=l&&s<=u?r:l<=u?e:n}function uN(r,e,n,a,s,l){switch(r){case 0:pb(e,n,s);break;case 1:mb(e,n,s,l);break;case 2:gb(e,n,a,s);break;case 3:vb(e,n,a,s,l);break;case 4:yb(e,n,a,s,l);break;default:throw new Error(`Unsupported filter: ${r}`)}}const cN=new Uint16Array([255]),hN=new Uint8Array(cN.buffer),fN=hN[0]===255;function dN(r){const{data:e,width:n,height:a,channels:s,depth:l}=r,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(l/8)*s,f=new Uint8Array(a*n*h);let p=0;for(let y=0;y<7;y++){const _=u[y],A=Math.ceil((n-_.x)/_.xStep),w=Math.ceil((a-_.y)/_.yStep);if(A<=0||w<=0)continue;const k=A*h,N=new Uint8Array(k);for(let T=0;T<w;T++){const L=e[p++],D=e.subarray(p,p+k);p+=k;const U=new Uint8Array(k);uN(L,D,U,N,k,h),N.set(U);for(let F=0;F<A;F++){const ae=_.x+F*_.xStep,ye=_.y+T*_.yStep;if(!(ae>=n||ye>=a))for(let ce=0;ce<h;ce++)f[(ye*n+ae)*h+ce]=U[F*h+ce]}}}if(l===16){const y=new Uint16Array(f.buffer);if(fN)for(let _=0;_<y.length;_++)y[_]=pN(y[_]);return y}else return f}function pN(r){return(r&255)<<8|r>>8&255}const mN=new Uint16Array([255]),gN=new Uint8Array(mN.buffer),vN=gN[0]===255,yN=new Uint8Array(0);function Jv(r){const{data:e,width:n,height:a,channels:s,depth:l}=r,u=Math.ceil(l/8)*s,h=Math.ceil(l/8*s*n),f=new Uint8Array(a*h);let p=yN,y=0,_,A;for(let w=0;w<a;w++){switch(_=e.subarray(y+1,y+1+h),A=f.subarray(w*h,(w+1)*h),e[y]){case 0:pb(_,A,h);break;case 1:mb(_,A,h,u);break;case 2:gb(_,A,p,h);break;case 3:vb(_,A,p,h,u);break;case 4:yb(_,A,p,h,u);break;default:throw new Error(`Unsupported filter: ${e[y]}`)}p=A,y+=h+1}if(l===16){const w=new Uint16Array(f.buffer);if(vN)for(let k=0;k<w.length;k++)w[k]=bN(w[k]);return w}else return f}function bN(r){return(r&255)<<8|r>>8&255}const ld=Uint8Array.of(137,80,78,71,13,10,26,10);function Xv(r){if(!wN(r.readBytes(ld.length)))throw new Error("wrong PNG signature")}function wN(r){if(r.length<ld.length)return!1;for(let e=0;e<ld.length;e++)if(r[e]!==ld[e])return!1;return!0}const _N="tEXt",xN=0,bb=new TextDecoder("latin1");function SN(r){if(NN(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const AN=/^[\u0000-\u00FF]*$/;function NN(r){if(!AN.test(r))throw new Error("invalid latin1 text")}function EN(r,e,n){const a=wb(e);r[a]=jN(e,n-a.length-1)}function wb(r){for(r.mark();r.readByte()!==xN;);const e=r.offset;r.reset();const n=bb.decode(r.readBytes(e-r.offset-1));return r.skip(1),SN(n),n}function jN(r,e){return bb.decode(r.readBytes(e))}const pa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},x0={UNKNOWN:-1,DEFLATE:0},Zv={UNKNOWN:-1,ADAPTIVE:0},S0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Zf={NONE:0,BACKGROUND:1,PREVIOUS:2},A0={SOURCE:0,OVER:1};class kN extends Pm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Wv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=x0.UNKNOWN,this._filterMethod=Zv.UNKNOWN,this._interlaceMethod=S0.UNKNOWN,this._colorType=pa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Xv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(Xv(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case _N:EN(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Kv(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Kv(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=LN(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case pa.GREYSCALE:a=1;break;case pa.TRUECOLOUR:a=3;break;case pa.INDEXED_COLOUR:a=1;break;case pa.GREYSCALE_ALPHA:a=2;break;case pa.TRUECOLOUR_ALPHA:a=4;break;case pa.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==x0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case pa.GREYSCALE:case pa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case pa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case pa.UNKNOWN:case pa.GREYSCALE_ALPHA:case pa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=wb(this),a=this.readUint8();if(a!==x0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:aN(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=Jv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,a){switch(e.disposeOp){case Zf.NONE:break;case Zf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let l=0;l<this._png.width;l++){const u=(s*e.width+l)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[u+h]=0}break;case Zf.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const a=1<<this._png.depth,s=(l,u)=>{const h=((l+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(l*n.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(n.blendOp){case A0.SOURCE:for(let l=0;l<n.height;l++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:f}=s(l,u);for(let p=0;p<this._png.channels;p++)e.data[h+p]=n.data[f+p]}break;case A0.OVER:for(let l=0;l<n.height;l++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:f}=s(l,u);for(let p=0;p<this._png.channels;p++){const y=n.data[f+this._png.channels-1]/a,_=p%(this._png.channels-1)===0?1:n.data[f+p],A=Math.floor(y*_+(1-y)*e.data[h+p]);e.data[h+p]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Zv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===S0.NO_INTERLACE)this._png.data=Jv({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===S0.ADAM7)this._png.data=dN({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Zf.NONE,blendOp:A0.SOURCE,data:e}),this._inflator=new Wv,this._writingDataChunks=!1}}function LN(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Qv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Qv||(Qv={}));function CN(r,e){return new kN(r,e).decode()}var $t=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function N0(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var Bn={log:N0,warn:function(r){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):N0.call(null,arguments))},error:function(r){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):N0(r))}};function E0(r,e,n){var a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){su(a.response,e,n)},a.onerror=function(){Bn.error("could not download file")},a.send()}function e5(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var su=$t.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,n){var a=$t.URL||$t.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?e5(s.href)?E0(r,e,n):Qf(s,s.target="_blank"):Qf(s)):(s.href=a.createObjectURL(r),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Qf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,n){if(e=e||r.name||"download",typeof r=="string")if(e5(r))E0(r,e,n);else{var a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){Qf(a)})}else navigator.msSaveOrOpenBlob((function(s,l){return l===void 0?l={autoBom:!1}:kn(l)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,n),e)}:function(r,e,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return E0(r,e,n);var s=r.type==="application/octet-stream",l=/constructor/i.test($t.HTMLElement)||$t.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var y=h.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=y:location=y,a=null},h.readAsDataURL(r)}else{var f=$t.URL||$t.webkitURL,p=f.createObjectURL(r);a?a.location=p:location.href=p,a=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});function _b(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,l=n[a].process,u=s.exec(r);u&&(e=l(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+h+f+p}}var ud=$t.atob.bind($t),t5=$t.btoa.bind($t);function j0(r,e){var n=r[0],a=r[1],s=r[2],l=r[3];n=fi(n,a,s,l,e[0],7,-680876936),l=fi(l,n,a,s,e[1],12,-389564586),s=fi(s,l,n,a,e[2],17,606105819),a=fi(a,s,l,n,e[3],22,-1044525330),n=fi(n,a,s,l,e[4],7,-176418897),l=fi(l,n,a,s,e[5],12,1200080426),s=fi(s,l,n,a,e[6],17,-1473231341),a=fi(a,s,l,n,e[7],22,-45705983),n=fi(n,a,s,l,e[8],7,1770035416),l=fi(l,n,a,s,e[9],12,-1958414417),s=fi(s,l,n,a,e[10],17,-42063),a=fi(a,s,l,n,e[11],22,-1990404162),n=fi(n,a,s,l,e[12],7,1804603682),l=fi(l,n,a,s,e[13],12,-40341101),s=fi(s,l,n,a,e[14],17,-1502002290),n=di(n,a=fi(a,s,l,n,e[15],22,1236535329),s,l,e[1],5,-165796510),l=di(l,n,a,s,e[6],9,-1069501632),s=di(s,l,n,a,e[11],14,643717713),a=di(a,s,l,n,e[0],20,-373897302),n=di(n,a,s,l,e[5],5,-701558691),l=di(l,n,a,s,e[10],9,38016083),s=di(s,l,n,a,e[15],14,-660478335),a=di(a,s,l,n,e[4],20,-405537848),n=di(n,a,s,l,e[9],5,568446438),l=di(l,n,a,s,e[14],9,-1019803690),s=di(s,l,n,a,e[3],14,-187363961),a=di(a,s,l,n,e[8],20,1163531501),n=di(n,a,s,l,e[13],5,-1444681467),l=di(l,n,a,s,e[2],9,-51403784),s=di(s,l,n,a,e[7],14,1735328473),n=pi(n,a=di(a,s,l,n,e[12],20,-1926607734),s,l,e[5],4,-378558),l=pi(l,n,a,s,e[8],11,-2022574463),s=pi(s,l,n,a,e[11],16,1839030562),a=pi(a,s,l,n,e[14],23,-35309556),n=pi(n,a,s,l,e[1],4,-1530992060),l=pi(l,n,a,s,e[4],11,1272893353),s=pi(s,l,n,a,e[7],16,-155497632),a=pi(a,s,l,n,e[10],23,-1094730640),n=pi(n,a,s,l,e[13],4,681279174),l=pi(l,n,a,s,e[0],11,-358537222),s=pi(s,l,n,a,e[3],16,-722521979),a=pi(a,s,l,n,e[6],23,76029189),n=pi(n,a,s,l,e[9],4,-640364487),l=pi(l,n,a,s,e[12],11,-421815835),s=pi(s,l,n,a,e[15],16,530742520),n=mi(n,a=pi(a,s,l,n,e[2],23,-995338651),s,l,e[0],6,-198630844),l=mi(l,n,a,s,e[7],10,1126891415),s=mi(s,l,n,a,e[14],15,-1416354905),a=mi(a,s,l,n,e[5],21,-57434055),n=mi(n,a,s,l,e[12],6,1700485571),l=mi(l,n,a,s,e[3],10,-1894986606),s=mi(s,l,n,a,e[10],15,-1051523),a=mi(a,s,l,n,e[1],21,-2054922799),n=mi(n,a,s,l,e[8],6,1873313359),l=mi(l,n,a,s,e[15],10,-30611744),s=mi(s,l,n,a,e[6],15,-1560198380),a=mi(a,s,l,n,e[13],21,1309151649),n=mi(n,a,s,l,e[4],6,-145523070),l=mi(l,n,a,s,e[11],10,-1120210379),s=mi(s,l,n,a,e[2],15,718787259),a=mi(a,s,l,n,e[9],21,-343485551),r[0]=wl(n,r[0]),r[1]=wl(a,r[1]),r[2]=wl(s,r[2]),r[3]=wl(l,r[3])}function Ld(r,e,n,a,s,l){return e=wl(wl(e,r),wl(a,l)),wl(e<<s|e>>>32-s,n)}function fi(r,e,n,a,s,l,u){return Ld(e&n|~e&a,r,e,s,l,u)}function di(r,e,n,a,s,l,u){return Ld(e&a|n&~a,r,e,s,l,u)}function pi(r,e,n,a,s,l,u){return Ld(e^n^a,r,e,s,l,u)}function mi(r,e,n,a,s,l,u){return Ld(n^(e|~a),r,e,s,l,u)}function xb(r){var e,n=r.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)j0(a,TN(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(j0(a,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,j0(a,s),a}function TN(r){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return n}var n5="0123456789abcdef".split("");function ON(r){for(var e="",n=0;n<4;n++)e+=n5[r>>8*n+4&15]+n5[r>>8*n&15];return e}function RN(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function om(r){return xb(r).map(RN).join("")}var MN=(function(r){for(var e=0;e<r.length;e++)r[e]=ON(r[e]);return r.join("")})(xb("hello"))!="5d41402abc4b2a76b9719d911017c592";function wl(r,e){if(MN){var n=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(n>>16)<<16|65535&n}return r+e&4294967295}function lm(r,e){var n,a,s,l;if(r!==n){for(var u=(s=r,l=1+(256/r.length|0),new Array(l+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var p=0;for(f=0;f<256;f++){var y=h[f];p=(p+y+u.charCodeAt(f))%256,h[f]=h[p],h[p]=y}n=r,a=h}else h=a;var _=e.length,A=0,w=0,k="";for(f=0;f<_;f++)w=(w+(y=h[A=(A+1)%256]))%256,h[A]=h[w],h[w]=y,u=h[(h[A]+h[w])%256],k+=String.fromCharCode(e.charCodeAt(f)^u);return k}var r5={print:4,modify:8,copy:16,"annot-forms":32};function wc(r,e,n,a){this.v=1,this.r=2;var s=192;r.forEach(function(h){if(r5.perm!==void 0)throw new Error("Invalid permission: "+h);s+=r5[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,u),this.P=-(1+(255^s)),this.encryptionKey=om(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=lm(this.encryptionKey,this.padding)}function _c(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",n=r.length,a=0;a<n;a++){var s=r.charCodeAt(a);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[a]}return e}function i5(r){if(kn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var l=Math.random().toString(35);return e[n][l]=[a,!!s],l},this.unsubscribe=function(n){for(var a in e)if(e[a][n])return delete e[a][n],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var l in e[n]){var u=e[n][l];try{u[0].apply(r,a)}catch(h){$t.console&&Bn.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(l)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function xd(r){if(!(this instanceof xd))return new xd(r);var e="opacity,stroke-opacity".split(",");for(var n in r)r.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=r[n]);this.id="",this.objectNumber=-1}function Sb(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function hu(r,e,n,a,s){if(!(this instanceof hu))return new hu(r,e,n,a,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=n,Sb.call(this,a,s)}function xc(r,e,n,a,s){if(!(this instanceof xc))return new xc(r,e,n,a,s);this.boundingBox=r,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Sb.call(this,a,s)}function kt(r){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],l=arguments[3],u=[],h=1,f=16,p="S",y=null;kn(r=r||{})==="object"&&(n=r.orientation,a=r.unit||a,s=r.format||s,l=r.compress||r.compressPdf||l,(y=r.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),h=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),p=r.defaultPathOperation||"S"),u=r.filters||(l===!0?["FlateEncode"]:u),a=a||"mm",n=(""+(n||"P")).toLowerCase();var _=r.putOnlyUsedFonts||!1,A={},w={internal:{},__private__:{}};w.__private__.PubSub=i5;var k="1.3",N=w.__private__.getPdfVersion=function(){return k};w.__private__.setPdfVersion=function(x){k=x};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return T};var L=w.__private__.getPageFormat=function(x){return T[x]};s=s||"a4";var D="compat",U="advanced",F=D;function ae(){this.saveGraphicsState(),Y(new jt(ot,0,0,-ot,0,Ka()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),p="n",F=U}function ye(){this.restoreGraphicsState(),p="S",F=D}var ce=w.__private__.combineFontStyleAndFontWeight=function(x,O){if(x=="bold"&&O=="normal"||x=="bold"&&O==400||x=="normal"&&O=="italic"||x=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(x=O==400||O==="normal"?x==="italic"?"italic":"normal":O!=700&&O!=="bold"||x!=="normal"?(O==700?"bold":O)+""+x:"bold"),x};w.advancedAPI=function(x){var O=F===D;return O&&ae.call(this),typeof x!="function"||(x(this),O&&ye.call(this)),this},w.compatAPI=function(x){var O=F===U;return O&&ye.call(this),typeof x!="function"||(x(this),O&&ae.call(this)),this},w.isAdvancedAPI=function(){return F===U};var se,W=function(x){if(F!==U)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},be=w.roundToPrecision=w.__private__.roundToPrecision=function(x,O){var Z=e||O;if(isNaN(x)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(Z).replace(/0+$/,"")};se=w.hpf=w.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return be(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return be(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return be(x,16)};var I=w.f2=w.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return be(x,2)},V=w.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return be(x,3)},ie=w.scale=w.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return F===D?x*ot:F===U?x:void 0},re=function(x){return ie((function(O){return F===D?Ka()-O:F===U?O:void 0})(x))};w.__private__.setPrecision=w.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var Ce,Q="00000000000000000000000000000000",he=w.__private__.getFileId=function(){return Q},de=w.__private__.setFileId=function(x){return Q=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(nr=new wc(y.userPermissions,y.userPassword,y.ownerPassword,Q)),Q};w.setFileId=function(x){return de(x),this},w.getFileId=function(){return he()};var ke=w.__private__.convertDateToPDFDate=function(x){var O=x.getTimezoneOffset(),Z=O<0?"+":"-",fe=Math.floor(Math.abs(O/60)),Ae=Math.abs(O%60),$e=[Z,H(fe),"'",H(Ae),"'"].join("");return["D:",x.getFullYear(),H(x.getMonth()+1),H(x.getDate()),H(x.getHours()),H(x.getMinutes()),H(x.getSeconds()),$e].join("")},Se=w.__private__.convertPDFDateToDate=function(x){var O=parseInt(x.substr(2,4),10),Z=parseInt(x.substr(6,2),10)-1,fe=parseInt(x.substr(8,2),10),Ae=parseInt(x.substr(10,2),10),$e=parseInt(x.substr(12,2),10),Ze=parseInt(x.substr(14,2),10);return new Date(O,Z,fe,Ae,$e,Ze,0)},M=w.__private__.setCreationDate=function(x){var O;if(x===void 0&&(x=new Date),x instanceof Date)O=ke(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=x}return Ce=O},j=w.__private__.getCreationDate=function(x){var O=Ce;return x==="jsDate"&&(O=Se(Ce)),O};w.setCreationDate=function(x){return M(x),this},w.getCreationDate=function(x){return j(x)};var z,H=w.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},te=w.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ne=0,ee=[],oe=[],me=0,le=[],_e=[],Ue=!1,ze=oe;w.__private__.setCustomOutputDestination=function(x){Ue=!0,ze=x};var xe=function(x){Ue||(ze=x)};w.__private__.resetCustomOutputDestination=function(){Ue=!1,ze=oe};var Y=w.__private__.out=function(x){return x=x.toString(),me+=x.length+1,ze.push(x),ze},wt=w.__private__.write=function(x){return Y(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},lt=w.__private__.getArrayBuffer=function(x){for(var O=x.length,Z=new ArrayBuffer(O),fe=new Uint8Array(Z);O--;)fe[O]=x.charCodeAt(O);return Z},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return we};var je=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(x){return je=F===U?x/ot:x,this};var Ye,We=w.__private__.getFontSize=w.getFontSize=function(){return F===D?je:je*ot},nt=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(x){return nt=x,this},w.__private__.getR2L=w.getR2L=function(){return nt};var et,ut=w.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Ye=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Ye=x}else Ye=parseInt(x,10)};w.__private__.getZoomMode=function(){return Ye};var _t,at=w.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');et=x};w.__private__.getPageMode=function(){return et};var Ut=w.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');_t=x};w.__private__.getLayoutMode=function(){return _t},w.__private__.setDisplayMode=w.setDisplayMode=function(x,O,Z){return ut(x),Ut(O),at(Z),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(x){if(Object.keys(xt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[x]},w.__private__.getDocumentProperties=function(){return xt},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(x){for(var O in xt)xt.hasOwnProperty(O)&&x[O]&&(xt[O]=x[O]);return this},w.__private__.setDocumentProperty=function(x,O){if(Object.keys(xt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[x]=O};var dt,ot,mt,Fe,Ee,Oe={},Xe={},tt=[],st={},St={},ct={},Tt={},sn=null,It=0,it=[],Mt=new i5(w),zt=r.hotfixes||[],nn={},un={},xn=[],jt=function x(O,Z,fe,Ae,$e,Ze){if(!(this instanceof x))return new x(O,Z,fe,Ae,$e,Ze);isNaN(O)&&(O=1),isNaN(Z)&&(Z=0),isNaN(fe)&&(fe=0),isNaN(Ae)&&(Ae=1),isNaN($e)&&($e=0),isNaN(Ze)&&(Ze=0),this._matrix=[O,Z,fe,Ae,$e,Ze]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(x)},jt.prototype.multiply=function(x){var O=x.sx*this.sx+x.shy*this.shx,Z=x.sx*this.shy+x.shy*this.sy,fe=x.shx*this.sx+x.sy*this.shx,Ae=x.shx*this.shy+x.sy*this.sy,$e=x.tx*this.sx+x.ty*this.shx+this.tx,Ze=x.tx*this.shy+x.ty*this.sy+this.ty;return new jt(O,Z,fe,Ae,$e,Ze)},jt.prototype.decompose=function(){var x=this.sx,O=this.shy,Z=this.shx,fe=this.sy,Ae=this.tx,$e=this.ty,Ze=Math.sqrt(x*x+O*O),gt=(x/=Ze)*Z+(O/=Ze)*fe;Z-=x*gt,fe-=O*gt;var At=Math.sqrt(Z*Z+fe*fe);return gt/=At,x*(fe/=At)<O*(Z/=At)&&(x=-x,O=-O,gt=-gt,Ze=-Ze),{scale:new jt(Ze,0,0,At,0,0),translate:new jt(1,0,0,1,Ae,$e),rotate:new jt(x,O,-O,x,0,0),skew:new jt(1,0,gt,1,0,0)}},jt.prototype.toString=function(x){return this.join(" ")},jt.prototype.inversed=function(){var x=this.sx,O=this.shy,Z=this.shx,fe=this.sy,Ae=this.tx,$e=this.ty,Ze=1/(x*fe-O*Z),gt=fe*Ze,At=-O*Ze,qt=-Z*Ze,Gt=x*Ze;return new jt(gt,At,qt,Gt,-gt*Ae-qt*$e,-At*Ae-Gt*$e)},jt.prototype.applyToPoint=function(x){var O=x.x*this.sx+x.y*this.shx+this.tx,Z=x.x*this.shy+x.y*this.sy+this.ty;return new xa(O,Z)},jt.prototype.applyToRectangle=function(x){var O=this.applyToPoint(x),Z=this.applyToPoint(new xa(x.x+x.w,x.y+x.h));return new Va(O.x,O.y,Z.x-O.x,Z.y-O.y)},jt.prototype.clone=function(){var x=this.sx,O=this.shy,Z=this.shx,fe=this.sy,Ae=this.tx,$e=this.ty;return new jt(x,O,Z,fe,Ae,$e)},w.Matrix=jt;var Xi=w.matrixMult=function(x,O){return O.multiply(x)},ya=new jt(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=ya;var gi=function(x,O){if(!St[x]){var Z=(O instanceof hu?"Sh":"P")+(Object.keys(st).length+1).toString(10);O.id=Z,St[x]=Z,st[Z]=O,Mt.publish("addPattern",O)}};w.ShadingPattern=hu,w.TilingPattern=xc,w.addShadingPattern=function(x,O){return W("addShadingPattern()"),gi(x,O),this},w.beginTilingPattern=function(x){W("beginTilingPattern()"),to(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},w.endTilingPattern=function(x,O){W("endTilingPattern()"),O.stream=_e[z].join(`
`),gi(x,O),Mt.publish("endTilingPattern",O),xn.pop().restore()};var vi,In=w.__private__.newObject=function(){var x=ur();return Ar(x,!0),x},ur=w.__private__.newObjectDeferred=function(){return ne++,ee[ne]=function(){return me},ne},Ar=function(x,O){return O=typeof O=="boolean"&&O,ee[x]=me,O&&Y(x+" 0 obj"),x},bs=w.__private__.newAdditionalObject=function(){var x={objId:ur(),content:""};return le.push(x),x},Xr=ur(),An=ur(),qn=w.__private__.decodeColorString=function(x){var O=x.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var Z=parseFloat(O[0]);O=[Z,Z,Z,"r"]}for(var fe="#",Ae=0;Ae<3;Ae++)fe+=("0"+Math.floor(255*parseFloat(O[Ae])).toString(16)).slice(-2);return fe},qr=w.__private__.encodeColorString=function(x){var O;typeof x=="string"&&(x={ch1:x});var Z=x.ch1,fe=x.ch2,Ae=x.ch3,$e=x.ch4,Ze=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var gt=new _b(Z);if(gt.ok)Z=gt.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var At=parseInt(Z.substr(1),16);Z=At>>16&255,fe=At>>8&255,Ae=255&At}if(fe===void 0||$e===void 0&&Z===fe&&fe===Ae)O=typeof Z=="string"?Z+" "+Ze[0]:x.precision===2?I(Z/255)+" "+Ze[0]:V(Z/255)+" "+Ze[0];else if($e===void 0||kn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",Ze[1]].join(" ");O=typeof Z=="string"?[Z,fe,Ae,Ze[1]].join(" "):x.precision===2?[I(Z/255),I(fe/255),I(Ae/255),Ze[1]].join(" "):[V(Z/255),V(fe/255),V(Ae/255),Ze[1]].join(" ")}else O=typeof Z=="string"?[Z,fe,Ae,$e,Ze[2]].join(" "):x.precision===2?[I(Z),I(fe),I(Ae),I($e),Ze[2]].join(" "):[V(Z),V(fe),V(Ae),V($e),Ze[2]].join(" ");return O},yi=w.__private__.getFilters=function(){return u},Ci=w.__private__.putStream=function(x){var O=(x=x||{}).data||"",Z=x.filters||yi(),fe=x.alreadyAppliedFilters||[],Ae=x.addLength1||!1,$e=O.length,Ze=x.objectId,gt=function(yr){return yr};if(y!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(gt=nr.encryptor(Ze,0));var At={};Z===!0&&(Z=["FlateEncode"]);var qt=x.additionalKeyValues||[],Gt=(At=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(O,Z):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(At.data.length!==0&&(qt.push({key:"Length",value:At.data.length}),Ae===!0&&qt.push({key:"Length1",value:$e})),Gt.length!=0)if(Gt.split("/").length-1==1)qt.push({key:"Filter",value:Gt});else{qt.push({key:"Filter",value:"["+Gt+"]"});for(var pn=0;pn<qt.length;pn+=1)if(qt[pn].key==="DecodeParms"){for(var Fn=[],rr=0;rr<At.reverseChain.split("/").length-1;rr+=1)Fn.push("null");Fn.push(qt[pn].value),qt[pn].value="["+Fn.join(" ")+"]"}}Y("<<");for(var Ln=0;Ln<qt.length;Ln++)Y("/"+qt[Ln].key+" "+qt[Ln].value);Y(">>"),At.data.length!==0&&(Y("stream"),Y(gt(At.data)),Y("endstream"))},Ys=w.__private__.putPage=function(x){var O=x.number,Z=x.data,fe=x.objId,Ae=x.contentsObjId;Ar(fe,!0),Y("<</Type /Page"),Y("/Parent "+x.rootDictionaryObjId+" 0 R"),Y("/Resources "+x.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(se(x.mediaBox.bottomLeftX))+" "+parseFloat(se(x.mediaBox.bottomLeftY))+" "+se(x.mediaBox.topRightX)+" "+se(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Y("/CropBox ["+se(x.cropBox.bottomLeftX)+" "+se(x.cropBox.bottomLeftY)+" "+se(x.cropBox.topRightX)+" "+se(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Y("/BleedBox ["+se(x.bleedBox.bottomLeftX)+" "+se(x.bleedBox.bottomLeftY)+" "+se(x.bleedBox.topRightX)+" "+se(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Y("/TrimBox ["+se(x.trimBox.bottomLeftX)+" "+se(x.trimBox.bottomLeftY)+" "+se(x.trimBox.topRightX)+" "+se(x.trimBox.topRightY)+"]"),x.artBox!==null&&Y("/ArtBox ["+se(x.artBox.bottomLeftX)+" "+se(x.artBox.bottomLeftY)+" "+se(x.artBox.topRightX)+" "+se(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Y("/UserUnit "+x.userUnit),Mt.publish("putPage",{objId:fe,pageContext:it[O],pageNumber:O,page:Z}),Y("/Contents "+Ae+" 0 R"),Y(">>"),Y("endobj");var $e=Z.join(`
`);return F===U&&($e+=`
Q`),Ar(Ae,!0),Ci({data:$e,filters:yi(),objectId:Ae}),Y("endobj"),fe},Zi=w.__private__.putPages=function(){var x,O,Z=[];for(x=1;x<=It;x++)it[x].objId=ur(),it[x].contentsObjId=ur();for(x=1;x<=It;x++)Z.push(Ys({number:x,data:_e[x],objId:it[x].objId,contentsObjId:it[x].contentsObjId,mediaBox:it[x].mediaBox,cropBox:it[x].cropBox,bleedBox:it[x].bleedBox,trimBox:it[x].trimBox,artBox:it[x].artBox,userUnit:it[x].userUnit,rootDictionaryObjId:Xr,resourceDictionaryObjId:An}));Ar(Xr,!0),Y("<</Type /Pages");var fe="/Kids [";for(O=0;O<It;O++)fe+=Z[O]+" 0 R ";Y(fe+"]"),Y("/Count "+It),Y(">>"),Y("endobj"),Mt.publish("postPutPages")},Qi=function(x){Mt.publish("putFont",{font:x,out:Y,newObject:In,putStream:Ci}),x.isAlreadyPutted!==!0&&(x.objectNumber=In(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+_c(x.postScriptName)),Y("/Subtype /Type1"),typeof x.encoding=="string"&&Y("/Encoding /"+x.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},ws=function(x){x.objectNumber=In();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[se(x.x),se(x.y),se(x.x+x.width),se(x.y+x.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var Z=x.pages[1].join(`
`);Ci({data:Z,additionalKeyValues:O,objectId:x.objectNumber}),Y("endobj")},ea=function(x,O){O||(O=21);var Z=In(),fe=(function(Ze,gt){var At,qt=[],Gt=1/(gt-1);for(At=0;At<1;At+=Gt)qt.push(At);if(qt.push(1),Ze[0].offset!=0){var pn={offset:0,color:Ze[0].color};Ze.unshift(pn)}if(Ze[Ze.length-1].offset!=1){var Fn={offset:1,color:Ze[Ze.length-1].color};Ze.push(Fn)}for(var rr="",Ln=0,yr=0;yr<qt.length;yr++){for(At=qt[yr];At>Ze[Ln+1].offset;)Ln++;var cr=Ze[Ln].offset,Tr=(At-cr)/(Ze[Ln+1].offset-cr),Oi=Ze[Ln].color,oi=Ze[Ln+1].color;rr+=te(Math.round((1-Tr)*Oi[0]+Tr*oi[0]).toString(16))+te(Math.round((1-Tr)*Oi[1]+Tr*oi[1]).toString(16))+te(Math.round((1-Tr)*Oi[2]+Tr*oi[2]).toString(16))}return rr.trim()})(x.colors,O),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+O+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:fe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),Y("endobj"),x.objectNumber=In(),Y("<< /ShadingType "+x.type),Y("/ColorSpace /DeviceRGB");var $e="/Coords ["+se(parseFloat(x.coords[0]))+" "+se(parseFloat(x.coords[1]))+" ";x.type===2?$e+=se(parseFloat(x.coords[2]))+" "+se(parseFloat(x.coords[3])):$e+=se(parseFloat(x.coords[2]))+" "+se(parseFloat(x.coords[3]))+" "+se(parseFloat(x.coords[4]))+" "+se(parseFloat(x.coords[5])),Y($e+="]"),x.matrix&&Y("/Matrix ["+x.matrix.toString()+"]"),Y("/Function "+Z+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},ta=function(x,O){var Z=ur(),fe=In();O.push({resourcesOid:Z,objectOid:fe}),x.objectNumber=fe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+x.boundingBox.map(se).join(" ")+"]"}),Ae.push({key:"XStep",value:se(x.xStep)}),Ae.push({key:"YStep",value:se(x.yStep)}),Ae.push({key:"Resources",value:Z+" 0 R"}),x.matrix&&Ae.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Ci({data:x.stream,additionalKeyValues:Ae,objectId:x.objectNumber}),Y("endobj")},Ks=function(x){for(var O in x.objectNumber=In(),Y("<<"),x)switch(O){case"opacity":Y("/ca "+I(x[O]));break;case"stroke-opacity":Y("/CA "+I(x[O]))}Y(">>"),Y("endobj")},ba=function(x){Ar(x.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var O in Y("/Font <<"),Oe)Oe.hasOwnProperty(O)&&(_===!1||_===!0&&A.hasOwnProperty(O))&&Y("/"+O+" "+Oe[O].objectNumber+" 0 R");Y(">>")})(),(function(){if(Object.keys(st).length>0){for(var O in Y("/Shading <<"),st)st.hasOwnProperty(O)&&st[O]instanceof hu&&st[O].objectNumber>=0&&Y("/"+O+" "+st[O].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),Y(">>")}})(),(function(O){if(Object.keys(st).length>0){for(var Z in Y("/Pattern <<"),st)st.hasOwnProperty(Z)&&st[Z]instanceof w.TilingPattern&&st[Z].objectNumber>=0&&st[Z].objectNumber<O&&Y("/"+Z+" "+st[Z].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),Y(">>")}})(x.objectOid),(function(){if(Object.keys(ct).length>0){var O;for(O in Y("/ExtGState <<"),ct)ct.hasOwnProperty(O)&&ct[O].objectNumber>=0&&Y("/"+O+" "+ct[O].objectNumber+" 0 R");Mt.publish("putGStateDict"),Y(">>")}})(),(function(){for(var O in Y("/XObject <<"),nn)nn.hasOwnProperty(O)&&nn[O].objectNumber>=0&&Y("/"+O+" "+nn[O].objectNumber+" 0 R");Mt.publish("putXobjectDict"),Y(">>")})(),Y(">>"),Y("endobj")},tr=function(x){Xe[x.fontName]=Xe[x.fontName]||{},Xe[x.fontName][x.fontStyle]=x.id},Al=function(x,O,Z,fe,Ae){var $e={id:"F"+(Object.keys(Oe).length+1).toString(10),postScriptName:x,fontName:O,fontStyle:Z,encoding:fe,isStandardFont:Ae||!1,metadata:{}};return Mt.publish("addFont",{font:$e,instance:this}),Oe[$e.id]=$e,tr($e),$e.id},bi=w.__private__.pdfEscape=w.pdfEscape=function(x,O){return(function(Z,fe){var Ae,$e,Ze,gt,At,qt,Gt,pn,Fn;if(Ze=(fe=fe||{}).sourceEncoding||"Unicode",At=fe.outputEncoding,(fe.autoencode||At)&&Oe[dt].metadata&&Oe[dt].metadata[Ze]&&Oe[dt].metadata[Ze].encoding&&(gt=Oe[dt].metadata[Ze].encoding,!At&&Oe[dt].encoding&&(At=Oe[dt].encoding),!At&&gt.codePages&&(At=gt.codePages[0]),typeof At=="string"&&(At=gt[At]),At)){for(Gt=!1,qt=[],Ae=0,$e=Z.length;Ae<$e;Ae++)(pn=At[Z.charCodeAt(Ae)])?qt.push(String.fromCharCode(pn)):qt.push(Z[Ae]),qt[Ae].charCodeAt(0)>>8&&(Gt=!0);Z=qt.join("")}for(Ae=Z.length;Gt===void 0&&Ae!==0;)Z.charCodeAt(Ae-1)>>8&&(Gt=!0),Ae--;if(!Gt)return Z;for(qt=fe.noBOM?[]:[254,255],Ae=0,$e=Z.length;Ae<$e;Ae++){if((Fn=(pn=Z.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+Z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Fn),qt.push(pn-(Fn<<8))}return String.fromCharCode.apply(void 0,qt)})(x,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},na=w.__private__.beginPage=function(x){_e[++It]=[],it[It]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},El(It),xe(_e[z])},za=function(x,O){var Z,fe,Ae;switch(n=O||n,typeof x=="string"&&(Z=L(x.toLowerCase()),Array.isArray(Z)&&(fe=Z[0],Ae=Z[1])),Array.isArray(x)&&(fe=x[0]*ot,Ae=x[1]*ot),isNaN(fe)&&(fe=s[0],Ae=s[1]),(fe>14400||Ae>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),Ae=Math.min(14400,Ae)),s=[fe,Ae],n.substr(0,1)){case"l":Ae>fe&&(s=[Ae,fe]);break;case"p":fe>Ae&&(s=[Ae,fe])}na(s),_s(Xs),Y(xi),Mo!==0&&Y(Mo+" J"),Nr!==0&&Y(Nr+" j"),Mt.publish("addPage",{pageNumber:It})},Nl=function(x){x>0&&x<=It&&(_e.splice(x,1),it.splice(x,1),It--,z>It&&(z=It),this.setPage(z))},El=function(x){x>0&&x<=It&&(z=x)},jl=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return _e.length-1},bu=function(x,O,Z){var fe,Ae=void 0;return Z=Z||{},x=x!==void 0?x:Oe[dt].fontName,O=O!==void 0?O:Oe[dt].fontStyle,fe=x.toLowerCase(),Xe[fe]!==void 0&&Xe[fe][O]!==void 0?Ae=Xe[fe][O]:Xe[x]!==void 0&&Xe[x][O]!==void 0?Ae=Xe[x][O]:Z.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+x+"', '"+O+"'. Refer to getFontList() for available fonts."),Ae||Z.noFallback||(Ae=Xe.times[O])==null&&(Ae=Xe.times.normal),Ae},qa=w.__private__.putInfo=function(){var x=In(),O=function(fe){return fe};for(var Z in y!==null&&(O=nr.encryptor(x,0)),Y("<<"),Y("/Producer ("+bi(O("jsPDF "+kt.version))+")"),xt)xt.hasOwnProperty(Z)&&xt[Z]&&Y("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+bi(O(xt[Z]))+")");Y("/CreationDate ("+bi(O(Ce))+")"),Y(">>"),Y("endobj")},Oo=w.__private__.putCatalog=function(x){var O=(x=x||{}).rootDictionaryObjId||Xr;switch(In(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+O+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+Ye;Z.substr(Z.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+I(Ye)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}et&&Y("/PageMode /"+et),Mt.publish("putCatalog"),Y(">>"),Y("endobj")},Sn=w.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ne+1)),Y("/Root "+ne+" 0 R"),Y("/Info "+(ne-1)+" 0 R"),y!==null&&Y("/Encrypt "+nr.oid+" 0 R"),Y("/ID [ <"+Q+"> <"+Q+"> ]"),Y(">>")},Zr=w.__private__.putHeader=function(){Y("%PDF-"+k),Y("%")},kl=w.__private__.putXRef=function(){var x="0000000000";Y("xref"),Y("0 "+(ne+1)),Y("0000000000 65535 f ");for(var O=1;O<=ne;O++)typeof ee[O]=="function"?Y((x+ee[O]()).slice(-10)+" 00000 n "):ee[O]!==void 0?Y((x+ee[O]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Fa=w.__private__.buildDocument=function(){var x;ne=0,me=0,oe=[],ee=[],le=[],Xr=ur(),An=ur(),xe(oe),Mt.publish("buildDocument"),Zr(),Zi(),(function(){Mt.publish("putAdditionalObjects");for(var Z=0;Z<le.length;Z++){var fe=le[Z];Ar(fe.objId,!0),Y(fe.content),Y("endobj")}Mt.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var Z in Oe)Oe.hasOwnProperty(Z)&&(_===!1||_===!0&&A.hasOwnProperty(Z))&&Qi(Oe[Z])})(),(function(){var Z;for(Z in ct)ct.hasOwnProperty(Z)&&Ks(ct[Z])})(),(function(){for(var Z in nn)nn.hasOwnProperty(Z)&&ws(nn[Z])})(),(function(Z){var fe;for(fe in st)st.hasOwnProperty(fe)&&(st[fe]instanceof hu?ea(st[fe]):st[fe]instanceof xc&&ta(st[fe],Z))})(x),Mt.publish("putResources"),x.forEach(ba),ba({resourcesOid:An,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources"),y!==null&&(nr.oid=In(),Y("<<"),Y("/Filter /Standard"),Y("/V "+nr.v),Y("/R "+nr.r),Y("/U <"+nr.toHexString(nr.U)+">"),Y("/O <"+nr.toHexString(nr.O)+">"),Y("/P "+nr.P),Y(">>"),Y("endobj")),qa(),Oo();var O=me;return kl(),Sn(),Y("startxref"),Y(""+O),Y("%%EOF"),xe(_e[z]),oe.join(`
`)},Ha=w.__private__.getBlob=function(x){return new Blob([lt(x)],{type:"application/pdf"})},Ti=w.output=w.__private__.output=(vi=function(x,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",x){case void 0:return Fa();case"save":w.save(O.filename);break;case"arraybuffer":return lt(Fa());case"blob":return Ha(Fa());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(Ha(Fa()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",fe=Fa();try{Z=t5(fe)}catch{Z=t5(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+O.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(Ae=O.pdfObjectUrl,$e="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",gt=$t.open();return gt!==null&&gt.document.write(Ze),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',qt=$t.open();if(qt!==null){qt.document.write(At);var Gt=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=O.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Fn=$t.open();if(Fn!==null&&(Fn.document.write(pn),Fn.document.title=O.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",O);default:return null}},vi.foo=function(){try{return vi.apply(this,arguments)}catch(Z){var x=Z.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var O="Error in function "+x.split(`
`)[0].split("<")[0]+": "+Z.message;if(!$t.console)throw new Error(O);$t.console.error(O,Z),$t.alert&&alert(O)}},vi.foo.bar=vi,vi.foo),wa=function(x){return Array.isArray(zt)===!0&&zt.indexOf(x)>-1};switch(a){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=wa("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ot=a}var nr=null;M(),de();var Fr=w.__private__.getPageInfo=w.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[x].objId,pageNumber:x,pageContext:it[x]}},Ll=w.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in it)if(it[O].objId===x)break;return Fr(O)},wu=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:it[z].objId,pageNumber:z,pageContext:it[z]}};w.addPage=function(){return za.apply(this,arguments),this},w.setPage=function(){return El.apply(this,arguments),xe.call(this,_e[z]),this},w.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},w.movePage=function(x,O){var Z,fe;if(x>O){Z=_e[x],fe=it[x];for(var Ae=x;Ae>O;Ae--)_e[Ae]=_e[Ae-1],it[Ae]=it[Ae-1];_e[O]=Z,it[O]=fe,this.setPage(O)}else if(x<O){Z=_e[x],fe=it[x];for(var $e=x;$e<O;$e++)_e[$e]=_e[$e+1],it[$e]=it[$e+1];_e[O]=Z,it[O]=fe,this.setPage(O)}return this},w.deletePage=function(){return Nl.apply(this,arguments),this},w.__private__.text=w.text=function(x,O,Z,fe,Ae){var $e,Ze,gt,At,qt,Gt,pn,Fn,rr,Ln=(fe=fe||{}).scope||this;if(typeof x=="number"&&typeof O=="number"&&(typeof Z=="string"||Array.isArray(Z))){var yr=Z;Z=O,O=x,x=yr}if(arguments[3]instanceof jt==0?(gt=arguments[4],At=arguments[5],kn(pn=arguments[3])==="object"&&pn!==null||(typeof gt=="string"&&(At=gt,gt=null),typeof pn=="string"&&(At=pn,pn=null),typeof pn=="number"&&(gt=pn,pn=null),fe={flags:pn,angle:gt,align:At})):(W("The transform parameter of text() with a Matrix value"),rr=Ae),isNaN(O)||isNaN(Z)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Ln;var cr,Tr="",Oi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:$a,oi=Ln.internal.scaleFactor;function ku(mn){return mn=mn.split("	").join(Array(fe.TabLen||9).join(" ")),bi(mn,pn)}function Po(mn){for(var on,Cn=mn.concat(),ar=[],Ta=Cn.length;Ta--;)typeof(on=Cn.shift())=="string"?ar.push(on):Array.isArray(mn)&&(on.length===1||on[1]===void 0&&on[2]===void 0)?ar.push(on[0]):ar.push([on[0],on[1],on[2]]);return ar}function ro(mn,on){var Cn;if(typeof mn=="string")Cn=on(mn)[0];else if(Array.isArray(mn)){for(var ar,Ta,la=mn.concat(),so=[],zl=la.length;zl--;)typeof(ar=la.shift())=="string"?so.push(on(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(Ta=on(ar[0],ar[1],ar[2]),so.push([Ta[0],Ta[1],Ta[2]]));Cn=so}return Cn}var Aa=!1,aa=!0;if(typeof x=="string")Aa=!0;else if(Array.isArray(x)){var io=x.concat();Ze=[];for(var Ss,Or=io.length;Or--;)(typeof(Ss=io.shift())!="string"||Array.isArray(Ss)&&typeof Ss[0]!="string")&&(aa=!1);Aa=aa}if(Aa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var As=je/Ln.internal.scaleFactor,Ns=As*(Oi-1);switch(fe.baseline){case"bottom":Z-=Ns;break;case"top":Z+=As-Ns;break;case"hanging":Z+=As-2*Ns;break;case"middle":Z+=As/2-Ns}if((Gt=fe.maxWidth||0)>0&&(typeof x=="string"?x=Ln.splitTextToSize(x,Gt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(mn,on){return mn.concat(Ln.splitTextToSize(on,Gt))},[]))),$e={text:x,x:O,y:Z,options:fe,mutex:{pdfEscape:bi,activeFontKey:dt,fonts:Oe,activeFontSize:je}},Mt.publish("preProcessText",$e),x=$e.text,gt=(fe=$e.options).angle,rr instanceof jt==0&&gt&&typeof gt=="number"){gt*=Math.PI/180,fe.rotationDirection===0&&(gt=-gt),F===U&&(gt=-gt);var Uo=Math.cos(gt),Na=Math.sin(gt);rr=new jt(Uo,Na,-Na,Uo,0,0)}else gt&&gt instanceof jt&&(rr=gt);F!==U||rr||(rr=ya),(qt=fe.charSpace||Ga)!==void 0&&(Tr+=se(ie(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=fe.horizontalScale)!==void 0&&(Tr+=se(100*Fn)+` Tz
`),fe.lang;var Yn=-1,Ja=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Bo=Ln.internal.getCurrentPageInfo().pageContext;switch(Ja){case 0:case!1:case"fill":Yn=0;break;case 1:case!0:case"stroke":Yn=1;break;case 2:case"fillThenStroke":Yn=2;break;case 3:case"invisible":Yn=3;break;case 4:case"fillAndAddForClipping":Yn=4;break;case 5:case"strokeAndAddPathForClipping":Yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yn=6;break;case 7:case"addToPathForClipping":Yn=7}var Bl=Bo.usedRenderingMode!==void 0?Bo.usedRenderingMode:-1;Yn!==-1?Tr+=Yn+` Tr
`:Bl!==-1&&(Tr+=`0 Tr
`),Yn!==-1&&(Bo.usedRenderingMode=Yn),At=fe.align||"left";var Ai,sa=je*Oi,Xa=Ln.internal.pageSize.getWidth(),Il=Oe[dt];qt=fe.charSpace||Ga,Gt=fe.maxWidth||0,pn=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var oa=[],Es=function(mn){return Ln.getStringUnitWidth(mn,{font:Il,charSpace:qt,fontSize:je,doKerning:!1})*je/oi};if(Object.prototype.toString.call(x)==="[object Array]"){var li;Ze=Po(x),At!=="left"&&(Ai=Ze.map(Es));var ei,Ea=0;if(At==="right"){O-=Ai[0],x=[],Or=Ze.length;for(var ja=0;ja<Or;ja++)ja===0?(ei=_i(O),li=Cr(Z)):(ei=ie(Ea-Ai[ja]),li=-sa),x.push([Ze[ja],ei,li]),Ea=Ai[ja]}else if(At==="center"){O-=Ai[0]/2,x=[],Or=Ze.length;for(var Za=0;Za<Or;Za++)Za===0?(ei=_i(O),li=Cr(Z)):(ei=ie((Ea-Ai[Za])/2),li=-sa),x.push([Ze[Za],ei,li]),Ea=Ai[Za]}else if(At==="left"){x=[],Or=Ze.length;for(var Io=0;Io<Or;Io++)x.push(Ze[Io])}else if(At==="justify"&&Il.encoding==="Identity-H"){x=[],Or=Ze.length,Gt=Gt!==0?Gt:Xa;for(var zo=0,ir=0;ir<Or;ir++)if(li=ir===0?Cr(Z):-sa,ei=ir===0?_i(O):zo,ir<Or-1){var Lu=ie((Gt-Ai[ir])/(Ze[ir].split(" ").length-1)),ka=Ze[ir].split(" ");x.push([ka[0]+" ",ei,li]),zo=0;for(var La=1;La<ka.length;La++){var Rr=(Es(ka[La-1]+" "+ka[La])-Es(ka[La]))*oi+Lu;La==ka.length-1?x.push([ka[La],Rr,0]):x.push([ka[La]+" ",Rr,0]),zo-=Rr}}else x.push([Ze[ir],ei,li]);x.push(["",zo,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Or=Ze.length,Gt=Gt!==0?Gt:Xa,ir=0;ir<Or;ir++){li=ir===0?Cr(Z):-sa,ei=ir===0?_i(O):0;var Qa=Ze[ir].split(" ").length-1,qo=Qa>0?(Gt-Ai[ir])/Qa:0;ir<Or-1?oa.push(se(ie(qo))):oa.push(0),x.push([Ze[ir],ei,li])}}}(typeof fe.R2L=="boolean"?fe.R2L:nt)===!0&&(x=ro(x,function(mn,on,Cn){return[mn.split("").reverse().join(""),on,Cn]})),$e={text:x,x:O,y:Z,options:fe,mutex:{pdfEscape:bi,activeFontKey:dt,fonts:Oe,activeFontSize:je}},Mt.publish("postProcessText",$e),x=$e.text,cr=$e.mutex.isHex||!1;var Fo=Oe[dt].encoding;Fo!=="WinAnsiEncoding"&&Fo!=="StandardEncoding"||(x=ro(x,function(mn,on,Cn){return[ku(mn),on,Cn]})),Ze=Po(x),x=[];for(var es,ts,Ca,ao=Array.isArray(Ze[0])?1:0,Ni="",ns=function(mn,on,Cn){var ar="";return Cn instanceof jt?(Cn=typeof fe.angle=="number"?Xi(Cn,new jt(1,0,0,1,mn,on)):Xi(new jt(1,0,0,1,mn,on),Cn),F===U&&(Cn=Xi(new jt(1,0,0,-1,0,0),Cn)),ar=Cn.join(" ")+` Tm
`):ar=se(mn)+" "+se(on)+` Td
`,ar},Hr=0;Hr<Ze.length;Hr++){switch(Ni="",ao){case 1:Ca=(cr?"<":"(")+Ze[Hr][0]+(cr?">":")"),es=parseFloat(Ze[Hr][1]),ts=parseFloat(Ze[Hr][2]);break;case 0:Ca=(cr?"<":"(")+Ze[Hr]+(cr?">":")"),es=_i(O),ts=Cr(Z)}oa!==void 0&&oa[Hr]!==void 0&&(Ni=oa[Hr]+` Tw
`),Hr===0?x.push(Ni+ns(es,ts,rr)+Ca):ao===0?x.push(Ni+Ca):ao===1&&x.push(Ni+ns(es,ts,rr)+Ca)}x=ao===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var Ri=`BT
/`;return Ri+=dt+" "+je+` Tf
`,Ri+=se(je*Oi)+` TL
`,Ri+=_a+`
`,Ri+=Tr,Ri+=x,Y(Ri+="ET"),A[dt]=!0,Ln};var Cl=w.__private__.clip=w.clip=function(x){return Y(x==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Cl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return Y("n"),this};var Qr=w.__private__.isValidStyle=function(x){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(O=!0),O};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(x){return Qr(x)&&(p=x),this};var Tl=w.__private__.getStyle=w.getStyle=function(x){var O=p;switch(x){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=x}return O},Ol=w.close=function(){return Y("h"),this};w.stroke=function(){return Y("S"),this},w.fill=function(x){return wi("f",x),this},w.fillEvenOdd=function(x){return wi("f*",x),this},w.fillStroke=function(x){return wi("B",x),this},w.fillStrokeEvenOdd=function(x){return wi("B*",x),this};var wi=function(x,O){kn(O)==="object"?xu(O,x):Y(x)},Rl=function(x){x===null||F===U&&x===void 0||(x=Tl(x),Y(x))};function _u(x,O,Z,fe,Ae){var $e=new xc(O||this.boundingBox,Z||this.xStep,fe||this.yStep,this.gState,Ae||this.matrix);$e.stream=this.stream;var Ze=x+"$$"+this.cloneIndex+++"$$";return gi(Ze,$e),$e}var xu=function(x,O){var Z=St[x.key],fe=st[Z];if(fe instanceof hu)Y("q"),Y(Ml(O)),fe.gState&&w.setGState(fe.gState),Y(x.matrix.toString()+" cm"),Y("/"+Z+" sh"),Y("Q");else if(fe instanceof xc){var Ae=new jt(1,0,0,-1,0,Ka());x.matrix&&(Ae=Ae.multiply(x.matrix||ya),Z=_u.call(fe,x.key,x.boundingBox,x.xStep,x.yStep,Ae).id),Y("q"),Y("/Pattern cs"),Y("/"+Z+" scn"),fe.gState&&w.setGState(fe.gState),Y(O),Y("Q")}},Ml=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Dl=w.moveTo=function(x,O){return Y(se(ie(x))+" "+se(re(O))+" m"),this},Js=w.lineTo=function(x,O){return Y(se(ie(x))+" "+se(re(O))+" l"),this},ra=w.curveTo=function(x,O,Z,fe,Ae,$e){return Y([se(ie(x)),se(re(O)),se(ie(Z)),se(re(fe)),se(ie(Ae)),se(re($e)),"c"].join(" ")),this};w.__private__.line=w.line=function(x,O,Z,fe,Ae){if(isNaN(x)||isNaN(O)||isNaN(Z)||isNaN(fe)||!Qr(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return F===D?this.lines([[Z-x,fe-O]],x,O,[1,1],Ae||"S"):this.lines([[Z-x,fe-O]],x,O,[1,1]).stroke()},w.__private__.lines=w.lines=function(x,O,Z,fe,Ae,$e){var Ze,gt,At,qt,Gt,pn,Fn,rr,Ln,yr,cr,Tr;if(typeof x=="number"&&(Tr=Z,Z=O,O=x,x=Tr),fe=fe||[1,1],$e=$e||!1,isNaN(O)||isNaN(Z)||!Array.isArray(x)||!Array.isArray(fe)||!Qr(Ae)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dl(O,Z),Ze=fe[0],gt=fe[1],qt=x.length,yr=O,cr=Z,At=0;At<qt;At++)(Gt=x[At]).length===2?(yr=Gt[0]*Ze+yr,cr=Gt[1]*gt+cr,Js(yr,cr)):(pn=Gt[0]*Ze+yr,Fn=Gt[1]*gt+cr,rr=Gt[2]*Ze+yr,Ln=Gt[3]*gt+cr,yr=Gt[4]*Ze+yr,cr=Gt[5]*gt+cr,ra(pn,Fn,rr,Ln,yr,cr));return $e&&Ol(),Rl(Ae),this},w.path=function(x){for(var O=0;O<x.length;O++){var Z=x[O],fe=Z.c;switch(Z.op){case"m":Dl(fe[0],fe[1]);break;case"l":Js(fe[0],fe[1]);break;case"c":ra.apply(this,fe);break;case"h":Ol()}}return this},w.__private__.rect=w.rect=function(x,O,Z,fe,Ae){if(isNaN(x)||isNaN(O)||isNaN(Z)||isNaN(fe)||!Qr(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return F===D&&(fe=-fe),Y([se(ie(x)),se(re(O)),se(ie(Z)),se(ie(fe)),"re"].join(" ")),Rl(Ae),this},w.__private__.triangle=w.triangle=function(x,O,Z,fe,Ae,$e,Ze){if(isNaN(x)||isNaN(O)||isNaN(Z)||isNaN(fe)||isNaN(Ae)||isNaN($e)||!Qr(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-x,fe-O],[Ae-Z,$e-fe],[x-Ae,O-$e]],x,O,[1,1],Ze,!0),this},w.__private__.roundedRect=w.roundedRect=function(x,O,Z,fe,Ae,$e,Ze){if(isNaN(x)||isNaN(O)||isNaN(Z)||isNaN(fe)||isNaN(Ae)||isNaN($e)||!Qr(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*Z),$e=Math.min($e,.5*fe),this.lines([[Z-2*Ae,0],[Ae*gt,0,Ae,$e-$e*gt,Ae,$e],[0,fe-2*$e],[0,$e*gt,-Ae*gt,$e,-Ae,$e],[2*Ae-Z,0],[-Ae*gt,0,-Ae,-$e*gt,-Ae,-$e],[0,2*$e-fe],[0,-$e*gt,Ae*gt,-$e,Ae,-$e]],x+Ae,O,[1,1],Ze,!0),this},w.__private__.ellipse=w.ellipse=function(x,O,Z,fe,Ae){if(isNaN(x)||isNaN(O)||isNaN(Z)||isNaN(fe)||!Qr(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*Z,Ze=4/3*(Math.SQRT2-1)*fe;return Dl(x+Z,O),ra(x+Z,O-Ze,x+$e,O-fe,x,O-fe),ra(x-$e,O-fe,x-Z,O-Ze,x-Z,O),ra(x-Z,O+Ze,x-$e,O+fe,x,O+fe),ra(x+$e,O+fe,x+Z,O+Ze,x+Z,O),Rl(Ae),this},w.__private__.circle=w.circle=function(x,O,Z,fe){if(isNaN(x)||isNaN(O)||isNaN(Z)||!Qr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,O,Z,Z,fe)},w.setFont=function(x,O,Z){return Z&&(O=ce(O,Z)),dt=bu(x,O,{disableWarning:!1}),this};var ia=w.__private__.getFont=w.getFont=function(){return Oe[bu.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var x,O,Z={};for(x in Xe)if(Xe.hasOwnProperty(x))for(O in Z[x]=[],Xe[x])Xe[x].hasOwnProperty(O)&&Z[x].push(O);return Z},w.addFont=function(x,O,Z,fe,Ae){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(Z=ce(Z,fe)),Al.call(this,x,O,Z,Ae=Ae||"Identity-H")};var $a,Xs=r.lineWidth||.200025,Dt=w.__private__.getLineWidth=w.getLineWidth=function(){return Xs},_s=w.__private__.setLineWidth=w.setLineWidth=function(x){return Xs=x,Y(se(ie(x))+" w"),this};w.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(x,O){if(x=x||[],O=O||0,isNaN(O)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(Z){return se(ie(Z))}).join(" "),O=se(ie(O)),Y("["+x+"] "+O+" d"),this};var Su=w.__private__.getLineHeight=w.getLineHeight=function(){return je*$a};w.__private__.getLineHeight=w.getLineHeight=function(){return je*$a};var Pl=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&($a=x),this},Au=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return $a};Pl(r.lineHeight);var _i=w.__private__.getHorizontalCoordinate=function(x){return ie(x)},Cr=w.__private__.getVerticalCoordinate=function(x){return F===U?x:it[z].mediaBox.topRightY-it[z].mediaBox.bottomLeftY-ie(x)},Ul=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(x){return se(_i(x))},Zs=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(x){return se(Cr(x))},xi=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return qn(xi)},w.__private__.setStrokeColor=w.setDrawColor=function(x,O,Z,fe){return xi=qr({ch1:x,ch2:O,ch3:Z,ch4:fe,pdfColorType:"draw",precision:2}),Y(xi),this};var Qs=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return qn(Qs)},w.__private__.setFillColor=w.setFillColor=function(x,O,Z,fe){return Qs=qr({ch1:x,ch2:O,ch3:Z,ch4:fe,pdfColorType:"fill",precision:2}),Y(Qs),this};var _a=r.textColor||"0 g",eo=w.__private__.getTextColor=w.getTextColor=function(){return qn(_a)};w.__private__.setTextColor=w.setTextColor=function(x,O,Z,fe){return _a=qr({ch1:x,ch2:O,ch3:Z,ch4:fe,pdfColorType:"text",precision:3}),this};var Ga=r.charSpace,Ro=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Ga||0)};w.__private__.setCharSpace=w.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ga=x,this};var Mo=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(x){var O=w.CapJoinStyles[x];if(O===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mo=O,Y(O+" J"),this};var Nr=0;w.__private__.setLineJoin=w.setLineJoin=function(x){var O=w.CapJoinStyles[x];if(O===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nr=O,Y(O+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(se(ie(x))+" M"),this},w.GState=xd,w.setGState=function(x){(x=typeof x=="string"?ct[Tt[x]]:Si(null,x)).equals(sn)||(Y("/"+x.id+" gs"),sn=x)};var Si=function(x,O){if(!x||!Tt[x]){var Z=!1;for(var fe in ct)if(ct.hasOwnProperty(fe)&&ct[fe].equals(O)){Z=!0;break}if(Z)O=ct[fe];else{var Ae="GS"+(Object.keys(ct).length+1).toString(10);ct[Ae]=O,O.id=Ae}return x&&(Tt[x]=O.id),Mt.publish("addGState",O),O}};w.addGState=function(x,O){return Si(x,O),this},w.saveGraphicsState=function(){return Y("q"),tt.push({key:dt,size:je,color:_a}),this},w.restoreGraphicsState=function(){Y("Q");var x=tt.pop();return dt=x.key,je=x.size,_a=x.color,sn=null,this},w.setCurrentTransformationMatrix=function(x){return Y(x.toString()+" cm"),this},w.comment=function(x){return Y("#"+x),this};var xa=function(x,O){var Z=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function($e){isNaN($e)||(Z=parseFloat($e))}});var fe=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function($e){isNaN($e)||(fe=parseFloat($e))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function($e){Ae=$e.toString()}}),this},Va=function(x,O,Z,fe){xa.call(this,x,O),this.type="rect";var Ae=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Ze){isNaN(Ze)||(Ae=parseFloat(Ze))}});var $e=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Ze){isNaN(Ze)||($e=parseFloat(Ze))}}),this},Do=function(){this.page=It,this.currentPage=z,this.pages=_e.slice(0),this.pagesContext=it.slice(0),this.x=mt,this.y=Fe,this.matrix=Ee,this.width=xs(z),this.height=Sa(z),this.outputDestination=ze,this.id="",this.objectNumber=-1};Do.prototype.restore=function(){It=this.page,z=this.currentPage,it=this.pagesContext,_e=this.pages,mt=this.x,Fe=this.y,Ee=this.matrix,no(z,this.width),Ya(z,this.height),ze=this.outputDestination};var to=function(x,O,Z,fe,Ae){xn.push(new Do),It=z=0,_e=[],mt=x,Fe=O,Ee=Ae,na([Z,fe])};for(var Wa in w.beginFormObject=function(x,O,Z,fe,Ae){return to(x,O,Z,fe,Ae),this},w.endFormObject=function(x){return(function(O){if(un[O])xn.pop().restore();else{var Z=new Do,fe="Xo"+(Object.keys(nn).length+1).toString(10);Z.id=fe,un[O]=fe,nn[fe]=Z,Mt.publish("addFormObject",Z),xn.pop().restore()}})(x),this},w.doFormObject=function(x,O){var Z=nn[un[x]];return Y("q"),Y(O.toString()+" cm"),Y("/"+Z.id+" Do"),Y("Q"),this},w.getFormObject=function(x){var O=nn[un[x]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},w.save=function(x,O){return x=x||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(su(Ha(Fa()),x),typeof su.unload=="function"&&$t.setTimeout&&setTimeout(su.unload,911),this):new Promise(function(Z,fe){try{var Ae=su(Ha(Fa()),x);typeof su.unload=="function"&&$t.setTimeout&&setTimeout(su.unload,911),Z(Ae)}catch($e){fe($e.message)}})},kt.API)kt.API.hasOwnProperty(Wa)&&(Wa==="events"&&kt.API.events.length?(function(x,O){var Z,fe,Ae;for(Ae=O.length-1;Ae!==-1;Ae--)Z=O[Ae][0],fe=O[Ae][1],x.subscribe.apply(x,[Z].concat(typeof fe=="function"?[fe]:fe))})(Mt,kt.API.events):w[Wa]=kt.API[Wa]);function xs(x){return it[x].mediaBox.topRightX-it[x].mediaBox.bottomLeftX}function no(x,O){it[x].mediaBox.topRightX=O+it[x].mediaBox.bottomLeftX}function Sa(x){return it[x].mediaBox.topRightY-it[x].mediaBox.bottomLeftY}function Ya(x,O){it[x].mediaBox.topRightY=O+it[x].mediaBox.bottomLeftY}var Nu=w.getPageWidth=function(x){return xs(x=x||z)/ot},Eu=w.setPageWidth=function(x,O){no(x,O*ot)},Ka=w.getPageHeight=function(x){return Sa(x=x||z)/ot},ju=w.setPageHeight=function(x,O){Ya(x,O*ot)};return w.internal={pdfEscape:bi,getStyle:Tl,getFont:ia,getFontSize:We,getCharSpace:Ro,getTextColor:eo,getLineHeight:Su,getLineHeightFactor:Au,getLineWidth:Dt,write:wt,getHorizontalCoordinate:_i,getVerticalCoordinate:Cr,getCoordinateString:Ul,getVerticalCoordinateString:Zs,collections:{},newObject:In,newAdditionalObject:bs,newObjectDeferred:ur,newObjectDeferredBegin:Ar,getFilters:yi,putStream:Ci,events:Mt,scaleFactor:ot,pageSize:{getWidth:function(){return Nu(z)},setWidth:function(x){Eu(z,x)},getHeight:function(){return Ka(z)},setHeight:function(x){ju(z,x)}},encryptionOptions:y,encryption:nr,getEncryptor:function(x){return y!==null?nr.encryptor(x,0):function(O){return O}},output:Ti,getNumberOfPages:jl,pages:_e,out:Y,f2:I,f3:V,getPageInfo:Fr,getPageInfoByObjId:Ll,getCurrentPageInfo:wu,getPDFVersion:N,Point:xa,Rectangle:Va,Matrix:jt,hasHotfix:wa},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return Nu(z)},set:function(x){Eu(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return Ka(z)},set:function(x){ju(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var O=0,Z=we.length;O<Z;O++){var fe=Al.call(this,x[O][0],x[O][1],x[O][2],we[O][3],!0);_===!1&&(A[fe]=!0);var Ae=x[O][0].split("-");tr({id:fe,fontName:Ae[0],fontStyle:Ae[1]||""})}Mt.publish("addFonts",{fonts:Oe,dictionary:Xe})}).call(w,we),dt="F1",za(s,n),Mt.publish("initialized"),w}wc.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},wc.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wc.prototype.hexToBytes=function(r){for(var e=[],n=0;n<r.length;n+=2)e.push(String.fromCharCode(parseInt(r.substr(n,2),16)));return e.join("")},wc.prototype.processOwnerPassword=function(r,e){return lm(om(e).substr(0,5),r)},wc.prototype.encryptor=function(r,e){var n=om(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return lm(n,a)}},xd.prototype.equals=function(r){var e,n="id,objectNumber,equals";if(!r||kn(r)!==kn(this))return!1;var a=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;a++}for(e in r)r.hasOwnProperty(e)&&n.indexOf(e)<0&&a--;return a===0},kt.API={events:[]},kt.version="3.0.3";var vr=kt.API,Um=1,yu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(r){return r.toFixed(2)},gl=function(r){return r.toFixed(5)};vr.__acroform__={};var Ji=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},a5=function(r){return r*Um},Fs=function(r){var e=new Nb,n=bt.internal.getHeight(r)||0,a=bt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Yt(a)),Number(Yt(n))],e},DN=vr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},PN=vr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},UN=vr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},_r=vr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UN(r,e-1)},xr=vr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DN(r,e-1)},Sr=vr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PN(r,e-1)},BN=vr.__acroform__.calculateCoordinates=function(r,e){var n=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,s=r[0],l=r[1],u=r[2],h=r[3],f={};return f.lowerLeft_X=n(s)||0,f.lowerLeft_Y=a(l+h)||0,f.upperRight_X=n(s+u)||0,f.upperRight_Y=a(l)||0,[Number(Yt(f.lowerLeft_X)),Number(Yt(f.lowerLeft_Y)),Number(Yt(f.upperRight_X)),Number(Yt(f.upperRight_Y))]},IN=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],n=r._V||r.DV,a=um(r,n),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Yt(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Fs(r);return l.scope=r.scope,l.stream=e.join(`
`),l}},um=function(r,e){var n=r.fontSize===0?r.maxFontSize:r.fontSize,a={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var l=n,u=bt.internal.getHeight(r)||0;u=u<0?-u:u;var h=bt.internal.getWidth(r)||0;h=h<0?-h:h;var f=function(I,V,ie){if(I+1<s.length){var re=V+" "+s[I+1][0];return ed(re,r,ie).width<=h-4}return!1};l++;e:for(;l>0;){e="",l--;var p,y,_=ed("3",r,l).height,A=r.multiline?u-l:(u-_)/2,w=A+=2,k=0,N=0,T=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+ed(e,r,l=12).width+", FieldWidth:"+h+`
`;break}for(var L="",D=0,U=0;U<s.length;U++)if(s.hasOwnProperty(U)){var F=!1;if(s[U].length!==1&&T!==s[U].length-1){if((_+2)*(D+2)+2>u)continue e;L+=s[U][T],F=!0,N=U,U--}else{L=(L+=s[U][T]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ae=parseInt(U),ye=f(ae,L,l),ce=U>=s.length-1;if(ye&&!ce){L+=" ",T=0;continue}if(ye||ce){if(ce)N=ae;else if(r.multiline&&(_+2)*(D+2)+2>u)continue e}else{if(!r.multiline||(_+2)*(D+2)+2>u)continue e;N=ae}}for(var se="",W=k;W<=N;W++){var be=s[W];if(r.multiline){if(W===N){se+=be[T]+" ",T=(T+1)%be.length;continue}if(W===k){se+=be[be.length-1]+" ";continue}}se+=be[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,y=ed(se,r,l).width,r.textAlign){case"right":p=h-y-2;break;case"center":p=(h-y)/2;break;default:p=2}e+=Yt(p)+" "+Yt(w)+` Td
`,e+="("+yu(se)+`) Tj
`,e+=-Yt(p)+` 0 Td
`,w=-(l+2),y=0,k=F?N:N+1,D++,L=""}break}return a.text=e,a.fontSize=l,a},ed=function(r,e,n){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},zN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qN=function(r,e){var n={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(n)},FN=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(zN)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Eb,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];l.objId=void 0,l.hasAnnotation&&qN(l,n)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(n){(function(a,s){var l=!a;for(var u in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(u)){var h=a[u],f=[],p=h.Rect;if(h.Rect&&(h.Rect=BN(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=bt.createDefaultAppearanceStream(h),kn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=p,h.hasAppearanceStream&&!h.appearanceStreamContent){var y=IN(h);f.push({key:"AP",value:"<</N "+y+">>"}),s.internal.acroformPlugin.xForms.push(y)}if(h.appearanceStreamContent){var _="";for(var A in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(A)){var w=h.appearanceStreamContent[A];if(_+="/"+A+" ",_+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var u in w)if(w.hasOwnProperty(u)){var k=w[u];typeof k=="function"&&(k=k.call(s,h)),_+="/"+u+" "+k+" ",s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k)}}else typeof(k=w)=="function"&&(k=k.call(s,h)),_+="/"+u+" "+k,s.internal.acroformPlugin.xForms.indexOf(k)>=0||s.internal.acroformPlugin.xForms.push(k);_+=">>"}f.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}l&&(function(N,T){for(var L in N)if(N.hasOwnProperty(L)){var D=L,U=N[L];T.internal.newObjectDeferredBegin(U.objId,!0),kn(U)==="object"&&typeof U.putStream=="function"&&U.putStream(),delete N[D]}})(s.internal.acroformPlugin.xForms,s)})(n,r)}),r.internal.acroformPlugin.isInitialized=!0}},Ab=vr.__acroform__.arrayToPdfArray=function(r,e,n){var a=function(u){return u};if(Array.isArray(r)){for(var s="[",l=0;l<r.length;l++)switch(l!==0&&(s+=" "),kn(r[l])){case"boolean":case"number":case"object":s+=r[l].toString();break;case"string":r[l].substr(0,1)!=="/"?(e!==void 0&&n&&(a=n.internal.getEncryptor(e)),s+="("+yu(a(r[l].toString()))+")"):s+=r[l].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},k0=function(r,e,n){var a=function(s){return s};return e!==void 0&&n&&(a=n.internal.getEncryptor(e)),(r=r||"").toString(),"("+yu(a(r))+")"},$s=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$s.prototype.toString=function(){return this.objId+" 0 R"},$s.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},$s.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var a=e[n],s=this[a];s&&(Array.isArray(s)?r.push({key:a,value:Ab(s,this.objId,this.scope)}):s instanceof $s?(s.scope=this.scope,r.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:a,value:s}))}return r};var Nb=function(){$s.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){r=n.trim()},get:function(){return r||null}})};Ji(Nb,$s);var Eb=function(){$s.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yu(n(r))+")"}},set:function(n){r=n}})};Ji(Eb,$s);var vs=function r(){$s.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_r(e,3)},set:function(L){L?this.F=xr(e,3):this.F=Sr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');n=L}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(L){a=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(L){a[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(L){a[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(L){a[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(L){a[3]=L}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Sd)return;l="FieldObject"+r.FieldNum++}var L=function(D){return D};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+yu(L(l))+")"},set:function(L){l=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(L){l=L}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(L){h=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Um:p},set:function(L){p=L}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(L){y=L}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof Sd||this instanceof du))return k0(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=L}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Jr==0?k0(A,this.objId,this.scope):A},set:function(L){L=L.toString(),A=this instanceof Jr==0?L.substr(0,1)==="("?mc(L.substr(1,L.length-2)):mc(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?mc(A.substr(1,A.length-1)):A},set:function(L){L=L.toString(),A=this instanceof Jr==1?"/"+L:L}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Jr==0?k0(w,this.objId,this.scope):w},set:function(L){L=L.toString(),w=this instanceof Jr==0?L.substr(0,1)==="("?mc(L.substr(1,L.length-2)):mc(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr==1?mc(w.substr(1,w.length-1)):w},set:function(L){L=L.toString(),w=this instanceof Jr==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(L){L=!!L,N=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(L){k=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,1)},set:function(L){L?this.Ff=xr(this.Ff,1):this.Ff=Sr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,2)},set:function(L){L?this.Ff=xr(this.Ff,2):this.Ff=Sr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,3)},set:function(L){L?this.Ff=xr(this.Ff,3):this.Ff=Sr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');T=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(T){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Ji(vs,$s);var Ac=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(n){r=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ab(e,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=(function(l,u,h){h||(h=1);for(var f,p=[];f=u.exec(l);)p.push(f[h]);return p})(a,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,18)},set:function(n){n?this.Ff=xr(this.Ff,18):this.Ff=Sr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xr(this.Ff,19):this.Ff=Sr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,20)},set:function(n){n?(this.Ff=xr(this.Ff,20),e.sort()):this.Ff=Sr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,22)},set:function(n){n?this.Ff=xr(this.Ff,22):this.Ff=Sr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(n){n?this.Ff=xr(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,27)},set:function(n){n?this.Ff=xr(this.Ff,27):this.Ff=Sr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(Ac,vs);var Nc=function(){Ac.call(this),this.fontName="helvetica",this.combo=!1};Ji(Nc,Ac);var Ec=function(){Nc.call(this),this.combo=!0};Ji(Ec,Nc);var cd=function(){Ec.call(this),this.edit=!0};Ji(cd,Ec);var Jr=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,15)},set:function(n){n?this.Ff=xr(this.Ff,15):this.Ff=Sr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,16)},set:function(n){n?this.Ff=xr(this.Ff,16):this.Ff=Sr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,17)},set:function(n){n?this.Ff=xr(this.Ff,17):this.Ff=Sr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(n){n?this.Ff=xr(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,s=[];for(a in s.push("<<"),e)s.push("/"+a+" ("+yu(n(e[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){kn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}})};Ji(Jr,vs);var hd=function(){Jr.call(this),this.pushButton=!0};Ji(hd,Jr);var jc=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ji(jc,Jr);var Sd=function(){var r,e;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var l,u=[];for(l in u.push("<<"),a)u.push("/"+l+" ("+yu(s(a[l]))+")");return u.push(">>"),u.join(`
`)},set:function(s){kn(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(Sd,vs),jc.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=r.createAppearanceStream(n.optionName),n.caption=r.getCA()}},jc.prototype.createOption=function(r){var e=new Sd;return e.Parent=this,e.optionName=r,this.Kids.push(e),HN.call(this.scope,e),e};var fd=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Ji(fd,Jr);var du=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,13)},set:function(e){e?this.Ff=xr(this.Ff,13):this.Ff=Sr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,21)},set:function(e){e?this.Ff=xr(this.Ff,21):this.Ff=Sr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(e){e?this.Ff=xr(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,24)},set:function(e){e?this.Ff=xr(this.Ff,24):this.Ff=Sr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,25)},set:function(e){e?this.Ff=xr(this.Ff,25):this.Ff=Sr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(e){e?this.Ff=xr(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(du,vs);var dd=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,14)},set:function(r){r?this.Ff=xr(this.Ff,14):this.Ff=Sr(this.Ff,14)}}),this.password=!0};Ji(dd,du);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=[],a=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),l=um(r,r.caption);return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(r))+" "+Yt(bt.internal.getHeight(r))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Yt(l.fontSize)+" Tf "+s),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(r){var e=Fs(r);e.scope=r.scope;var n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),s=[],l=bt.internal.getHeight(r),u=bt.internal.getWidth(r),h=um(r,r.caption);return s.push("1 g"),s.push("0 0 "+Yt(u)+" "+Yt(l)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Yt(u-1)+" "+Yt(l-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Yt(h.fontSize)+" Tf "+a),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(r))+" "+Yt(bt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=bt.RadioButton.Circle.YesNormal,e.D[r]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Fs(r);e.scope=r.scope;var n=[],a=bt.internal.getWidth(r)<=bt.internal.getHeight(r)?bt.internal.getWidth(r)/4:bt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=bt.internal.Bezier_C,l=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(r)/2)+" "+gl(bt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=[],a=bt.internal.getWidth(r)<=bt.internal.getHeight(r)?bt.internal.getWidth(r)/4:bt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),l=Number((s*bt.internal.Bezier_C).toFixed(5)),u=Number((a*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(r)/2)+" "+gl(bt.internal.getHeight(r)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(r)/2)+" "+gl(bt.internal.getHeight(r)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+u+" "+u+" "+a+" 0 "+a+" c"),n.push("-"+u+" "+a+" -"+a+" "+u+" -"+a+" 0 c"),n.push("-"+a+" -"+u+" -"+u+" -"+a+" 0 -"+a+" c"),n.push(u+" -"+a+" "+a+" -"+u+" "+a+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=[],a=bt.internal.getWidth(r)<=bt.internal.getHeight(r)?bt.internal.getWidth(r)/4:bt.internal.getHeight(r)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),l=Number((s*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gl(bt.internal.getWidth(r)/2)+" "+gl(bt.internal.getHeight(r)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=bt.RadioButton.Cross.YesNormal,e.D[r]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Fs(r);e.scope=r.scope;var n=[],a=bt.internal.calculateCross(r);return n.push("q"),n.push("1 1 "+Yt(bt.internal.getWidth(r)-2)+" "+Yt(bt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(a.x1.x)+" "+Yt(a.x1.y)+" m"),n.push(Yt(a.x2.x)+" "+Yt(a.x2.y)+" l"),n.push(Yt(a.x4.x)+" "+Yt(a.x4.y)+" m"),n.push(Yt(a.x3.x)+" "+Yt(a.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=bt.internal.calculateCross(r),a=[];return a.push("0.749023 g"),a.push("0 0 "+Yt(bt.internal.getWidth(r))+" "+Yt(bt.internal.getHeight(r))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Yt(bt.internal.getWidth(r)-2)+" "+Yt(bt.internal.getHeight(r)-2)+" re"),a.push("W"),a.push("n"),a.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),a.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),a.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),a.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Fs(r);e.scope=r.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(bt.internal.getWidth(r))+" "+Yt(bt.internal.getHeight(r))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+n}};bt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=bt.internal.getWidth(r),n=bt.internal.getHeight(r),a=Math.min(e,n);return{x1:{x:(e-a)/2,y:(n-a)/2+a},x2:{x:(e-a)/2+a,y:(n-a)/2},x3:{x:(e-a)/2,y:(n-a)/2},x4:{x:(e-a)/2+a,y:(n-a)/2+a}}}},bt.internal.getWidth=function(r){var e=0;return kn(r)==="object"&&(e=a5(r.Rect[2])),e},bt.internal.getHeight=function(r){var e=0;return kn(r)==="object"&&(e=a5(r.Rect[3])),e};var HN=vr.addField=function(r){if(FN(this,r),!(r instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Ac,vr.AcroFormListBox=Nc,vr.AcroFormComboBox=Ec,vr.AcroFormEditBox=cd,vr.AcroFormButton=Jr,vr.AcroFormPushButton=hd,vr.AcroFormRadioButton=jc,vr.AcroFormCheckBox=fd,vr.AcroFormTextField=du,vr.AcroFormPasswordField=dd,vr.AcroFormAppearance=bt,vr.AcroForm={ChoiceField:Ac,ListBox:Nc,ComboBox:Ec,EditBox:cd,Button:Jr,PushButton:hd,RadioButton:jc,CheckBox:fd,TextField:du,PasswordField:dd,Appearance:bt},kt.AcroForm={ChoiceField:Ac,ListBox:Nc,ComboBox:Ec,EditBox:cd,Button:Jr,PushButton:hd,RadioButton:jc,CheckBox:fd,TextField:du,PasswordField:dd,Appearance:bt};kt.AcroForm;function jb(r){return r.reduce(function(e,n,a){return e[n]=a,e},{})}(function(r){var e="addImage_";r.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(I,V){var ie,re,Ce,Q,he,de=n;if((V=V||n)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ye(I))for(he in a)for(Ce=a[he],ie=0;ie<Ce.length;ie+=1){for(Q=!0,re=0;re<Ce[ie].length;re+=1)if(Ce[ie][re]!==void 0&&Ce[ie][re]!==I[re]){Q=!1;break}if(Q===!0){de=he;break}}else for(he in a)for(Ce=a[he],ie=0;ie<Ce.length;ie+=1){for(Q=!0,re=0;re<Ce[ie].length;re+=1)if(Ce[ie][re]!==void 0&&Ce[ie][re]!==I.charCodeAt(re)){Q=!1;break}if(Q===!0){de=he;break}}return de===n&&V!==n&&(de=V),de},l=function I(V){for(var ie=this.internal.write,re=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:V.width}),Q.push({key:"Height",value:V.height}),V.colorSpace===L.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===L.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var he="",de=0,ke=V.transparency.length;de<ke;de++)he+=V.transparency[de]+" "+V.transparency[de]+" ";Q.push({key:"Mask",value:"["+he+"]"})}V.sMask!==void 0&&Q.push({key:"SMask",value:V.objectId+1+" 0 R"});var Se=V.filter!==void 0?["/"+V.filter]:void 0;if(re({data:V.data,additionalKeyValues:Q,alreadyAppliedFilters:Se,objectId:V.objectId}),ie("endobj"),"sMask"in V&&V.sMask!==void 0){var M,j=(M=V.sMaskBitsPerComponent)!==null&&M!==void 0?M:V.bitsPerComponent,z={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:V.sMask};"filter"in V&&(z.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(V.width),z.filter=V.filter),I.call(this,z)}if(V.colorSpace===L.INDEXED){var H=this.internal.newObject();re({data:se(new Uint8Array(V.palette)),objectId:H}),ie("endobj")}},u=function(){var I=this.internal.collections[e+"images"];for(var V in I)l.call(this,I[V])},h=function(){var I,V=this.internal.collections[e+"images"],ie=this.internal.write;for(var re in V)ie("/I"+(I=V[re]).index,I.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},p=function(){var I=this.internal.collections[e+"images"];return f.call(this),I},y=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(I){return typeof r["process"+I.toUpperCase()]=="function"},A=function(I){return kn(I)==="object"&&I.nodeType===1},w=function(I,V){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ie=""+I.getAttribute("src");if(ie.indexOf("data:image/")===0)return ud(unescape(ie).split("base64,").pop());var re=r.loadFile(ie,!0);if(re!==void 0)return re}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Ce;switch(V){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;default:Ce="image/jpeg"}return ud(I.toDataURL(Ce,1).split("base64,").pop())}},k=function(I){var V=this.internal.collections[e+"images"];if(V){for(var ie in V)if(I===V[ie].alias)return V[ie]}},N=function(I,V,ie){return I||V||(I=-96,V=-96),I<0&&(I=-1*ie.width*72/I/this.internal.scaleFactor),V<0&&(V=-1*ie.height*72/V/this.internal.scaleFactor),I===0&&(I=V*ie.width/ie.height),V===0&&(V=I*ie.height/ie.width),[I,V]},T=function(I,V,ie,re,Ce,Q){var he=N.call(this,ie,re,Ce),de=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString,Se=p.call(this);if(ie=he[0],re=he[1],Se[Ce.index]=Ce,Q){Q*=Math.PI/180;var M=Math.cos(Q),j=Math.sin(Q),z=function(te){return te.toFixed(4)},H=[z(M),z(j),z(-1*j),z(M),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,de(I),ke(V+re),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([de(ie),"0","0",de(re),"0","0","cm"].join(" "))):this.internal.write([de(ie),"0","0",de(re),de(I),ke(V+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},L=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=r.__addimage__.sHashCode=function(I){var V,ie,re=0;if(typeof I=="string")for(ie=I.length,V=0;V<ie;V++)re=(re<<5)-re+I.charCodeAt(V),re|=0;else if(ye(I))for(ie=I.byteLength/2,V=0;V<ie;V++)re=(re<<5)-re+I[V],re|=0;return re},F=r.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var V=!0;return I.length===0&&(V=!1),I.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(V=!1),V},ae=r.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var V=I.indexOf(",");return V<0?null:I.substring(0,V).trim().endsWith("base64")?I.substring(V+1):null};r.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var ye=r.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},ce=r.__addimage__.binaryStringToUint8Array=function(I){for(var V=I.length,ie=new Uint8Array(V),re=0;re<V;re++)ie[re]=I.charCodeAt(re);return ie},se=r.__addimage__.arrayBufferToBinaryString=function(I){for(var V="",ie=ye(I)?I:new Uint8Array(I),re=0;re<ie.length;re+=8192)V+=String.fromCharCode.apply(null,ie.subarray(re,re+8192));return V};r.addImage=function(){var I,V,ie,re,Ce,Q,he,de,ke;if(typeof arguments[1]=="number"?(V=n,ie=arguments[1],re=arguments[2],Ce=arguments[3],Q=arguments[4],he=arguments[5],de=arguments[6],ke=arguments[7]):(V=arguments[1],ie=arguments[2],re=arguments[3],Ce=arguments[4],Q=arguments[5],he=arguments[6],de=arguments[7],ke=arguments[8]),kn(I=arguments[0])==="object"&&!A(I)&&"imageData"in I){var Se=I;I=Se.imageData,V=Se.format||V||n,ie=Se.x||ie||0,re=Se.y||re||0,Ce=Se.w||Se.width||Ce,Q=Se.h||Se.height||Q,he=Se.alias||he,de=Se.compression||de,ke=Se.rotation||Se.angle||ke}var M=this.internal.getFilters();if(de===void 0&&M.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(ie)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=W.call(this,I,V,he,de);return T.call(this,ie,re,Ce,Q,j,ke),this};var W=function(I,V,ie,re){var Ce,Q,he;if(typeof I=="string"&&s(I)===n){I=unescape(I);var de=be(I,!1);(de!==""||(de=r.loadFile(I,!0))!==void 0)&&(I=de)}if(A(I)&&(I=w(I,V)),V=s(I,V),!_(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((he=ie)==null||he.length===0)&&(ie=(function(ke){return typeof ke=="string"||ye(ke)?U(ke):ye(ke.data)?U(ke.data):null})(I)),(Ce=k.call(this,ie))||(I instanceof Uint8Array||V==="RGBA"||(Q=I,I=ce(I)),Ce=this["process"+V.toUpperCase()](I,y.call(this),ie,(function(ke){return ke&&typeof ke=="string"&&(ke=ke.toUpperCase()),ke in r.image_compression?ke:D.NONE})(re),Q)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},be=r.__addimage__.convertBase64ToBinaryString=function(I,V){V=typeof V!="boolean"||V;var ie,re="";if(typeof I=="string"){var Ce;ie=(Ce=ae(I))!==null&&Ce!==void 0?Ce:I;try{re=ud(ie)}catch(Q){if(V)throw F(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};r.getImageProperties=function(I){var V,ie,re="";if(A(I)&&(I=w(I)),typeof I=="string"&&s(I)===n&&((re=be(I,!1))===""&&(re=r.loadFile(I)||""),I=re),ie=s(I),!_(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(I instanceof Uint8Array||(I=ce(I)),!(V=this["process"+ie.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=ie,V}})(kt.API),(function(r){var e=function(n){if(n!==void 0&&n!="")return!0};kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(n){for(var a,s,l,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,y=!1,_=0;_<p.length&&!y;_++)switch((a=p[_]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){a=p[A];var w=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(N.objId),D=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(a.bounds.x)+" "+h(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y)+"] ")+"/Contents ("+w(L(a.contents))+")",l+=" /Popup "+T.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+w(L(D))+") >>",N.content=l;var U=N.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(a.bounds.x+30)+" "+h(a.bounds.y+a.bounds.h)+" "+u(a.bounds.x+a.bounds.w+30)+" "+h(a.bounds.y)+"] ")+" /Parent "+U,a.open&&(l+=" /Open true"),l+=" >>",T.content=l,this.internal.write(N.objId,"0 R",T.objId,"0 R");break;case"freetext":s="/Rect ["+u(a.bounds.x)+" "+h(a.bounds.y)+" "+u(a.bounds.x+a.bounds.w)+" "+h(a.bounds.y+a.bounds.h)+"] ";var F=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(k(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var ae=this.annotations._nameMap[a.options.name];a.options.pageNumber=ae.page,a.options.top=ae.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(k(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var ye=h(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ye+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),r.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},r.link=function(n,a,s,l,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(n),y:p(a),w:f(n+s),h:p(a+l)},options:u,type:"link"})},r.textWithLink=function(n,a,s,l){var u,h,f=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var y=this.splitTextToSize(n,h).length;u=Math.ceil(p*y)}else h=f,u=p;return this.text(n,a,s,l),s+=.2*p,l.align==="center"&&(a-=f/2),l.align==="right"&&(a-=f),this.link(a,s-p,h,u,l),f},r.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}})(kt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var l=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},h=r.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&l(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&s.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&l(N)&&e[N.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&l(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&l(N)&&e[N.charCodeAt(0)].length>=3};var y=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&l(N)&&e[N.charCodeAt(0)].length==4},_=r.__arabicParser__.resolveLigatures=function(N){var T=0,L=n,D="",U=0;for(T=0;T<N.length;T+=1)L[N.charCodeAt(T)]!==void 0?(U++,typeof(L=L[N.charCodeAt(T)])=="number"&&(D+=String.fromCharCode(L),L=n,U=0),T===N.length-1&&(L=n,D+=N.charAt(T-(U-1)),T-=U-1,U=0)):(L=n,D+=N.charAt(T-U),T-=U,U=0);return D};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&a[N.charCodeAt(0)]!==void 0};var A=r.__arabicParser__.getCorrectForm=function(N,T,L){return u(N)?l(N)===!1?-1:!p(N)||!u(T)&&!u(L)||!u(L)&&h(T)||h(N)&&!u(T)||h(N)&&f(T)||h(N)&&h(T)?0:y(N)&&u(T)&&!h(T)&&u(L)&&p(L)?3:h(N)||!u(L)?1:2:-1},w=function(N){var T=0,L=0,D=0,U="",F="",ae="",ye=(N=N||"").split("\\s+"),ce=[];for(T=0;T<ye.length;T+=1){for(ce.push(""),L=0;L<ye[T].length;L+=1)U=ye[T][L],F=ye[T][L-1],ae=ye[T][L+1],u(U)?(D=A(U,F,ae),ce[T]+=D!==-1?String.fromCharCode(e[U.charCodeAt(0)][D]):U):ce[T]+=U;ce[T]=_(ce[T])}return ce.join(" ")},k=r.__arabicParser__.processArabic=r.processArabic=function(){var N,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(T)){var D=0;for(L=[],D=0;D<T.length;D+=1)Array.isArray(T[D])?L.push([w(T[D][0]),T[D][1],T[D][2]]):L.push([w(T[D])]);N=L}else N=w(T);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",k])})(kt.API),kt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(N){A=N}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(N){k=N}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,p){a.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,w=0,k=0,N=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=p.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(U,F){return U.concat(T.splitTextToSize(F,L))},[])):f=Array.isArray(f)?f:[f];for(var D=0;D<f.length;D++)w<(N=this.getStringUnitWidth(f[D],{font:_})*y)&&(w=N);return w!==0&&(k=f.length),{w:w/=A,h:Math.max((k*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/A,0)}},r.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=_.top,w&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,n===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};r.table=function(f,p,y,_,A){if(a.call(this),!y)throw new Error("No data for PDF table.");var w,k,N,T,L=[],D=[],U=[],F={},ae={},ye=[],ce=[],se=(A=A||{}).autoSize||!1,W=A.printHeaders!==!1,be=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,I=A.margins||Object.assign({width:this.getPageWidth()},e),V=typeof A.padding=="number"?A.padding:3,ie=A.headerBackgroundColor||"#c8c8c8",re=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=be,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=re,this.setFontSize(be),_==null)D=L=Object.keys(y[0]),U=L.map(function(){return"left"});else if(Array.isArray(_)&&kn(_[0])==="object")for(L=_.map(function(Se){return Se.name}),D=_.map(function(Se){return Se.prompt||Se.name||""}),U=_.map(function(Se){return Se.align||"left"}),w=0;w<_.length;w+=1)ae[_[w].name]=.7499990551181103*_[w].width;else Array.isArray(_)&&typeof _[0]=="string"&&(D=L=_,U=L.map(function(){return"left"}));if(se||Array.isArray(_)&&typeof _[0]=="string")for(w=0;w<L.length;w+=1){for(F[T=L[w]]=y.map(function(Se){return Se[T]}),this.setFont(void 0,"bold"),ye.push(this.getTextDimensions(D[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=F[T],this.setFont(void 0,"normal"),N=0;N<k.length;N+=1)ye.push(this.getTextDimensions(k[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[T]=Math.max.apply(null,ye)+V+V,ye=[]}if(W){var Ce={};for(w=0;w<L.length;w+=1)Ce[L[w]]={},Ce[L[w]].text=D[w],Ce[L[w]].align=U[w];var Q=h.call(this,Ce,ae);ce=L.map(function(Se){return new l(f,p,ae[Se],Q,Ce[Se].text,void 0,Ce[Se].align)}),this.setTableHeaderRow(ce),this.printHeaderRow(1,!1)}var he=_.reduce(function(Se,M){return Se[M.name]=M.align,Se},{});for(w=0;w<y.length;w+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:w,data:y[w]},this);var de=h.call(this,y[w],ae);for(N=0;N<L.length;N+=1){var ke=y[w][L[N]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:w,col:N,data:ke},this),u.call(this,new l(f,p,ae[L[N]],de,ke,w+2,he[L[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var h=function(f,p){var y=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(w){var k=f[w];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,p[w]-y-y)},this).map(function(w){return this.getLineHeightFactor()*w.length*_/A+y+y},this).reduce(function(w,k){return Math.max(w,k)},0)};r.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,p){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){y=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,A.push(y)),y.lineNumber=f;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(k)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}})(kt.API);var kb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Lb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cm=jb(Lb),Cb=[100,200,300,400,500,600,700,800,900],$N=jb(Cb);function L0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),n=(function(l){return kb[l=l||"normal"]?l:"normal"})(r.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(r.weight),s=(function(l){return typeof cm[l=l||"normal"]=="number"?l:"normal"})(r.stretch);return{family:e,style:n,weight:a,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,n,a].join(" ")}}}function s5(r,e,n,a){var s;for(s=n;s>=0&&s<e.length;s+=a)if(r[e[s]])return r[e[s]];for(s=n;s>=0&&s<e.length;s-=a)if(r[e[s]])return r[e[s]]}var GN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l5(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function u5(r){return r.trimLeft()}function VN(r,e){for(var n=0;n<r.length;){if(r.charAt(n)===e)return[r.substring(0,n),r.substring(n+1)];n+=1}return null}function WN(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var td,c5,h5,gc,nd,f5,d5,p5,C0=["times"];function m5(r,e,n,a,s){var l=4,u=v5;switch(s){case kt.API.image_compression.FAST:l=1,u=g5;break;case kt.API.image_compression.MEDIUM:l=6,u=y5;break;case kt.API.image_compression.SLOW:l=9,u=b5}r=(function(f,p,y,_){for(var A,w=f.length/p,k=new Uint8Array(f.length+w),N=[YN,g5,v5,y5,b5],T=0;T<w;T+=1){var L=T*p,D=f.subarray(L,L+p);if(_)k.set(_(D,y,A),L+T);else{for(var U=N.length,F=[],ae=0;ae<U;ae+=1)F[ae]=N[ae](D,y,A);var ye=JN(F.concat());k.set(F[ye],L+T)}A=D}return k})(r,e,Math.ceil(n*a/8),u);var h=rm(r,{level:l});return kt.API.__addimage__.arrayBufferToBinaryString(h)}function YN(r){var e=Array.apply([],r);return e.unshift(0),e}function g5(r,e){var n=r.length,a=[];a[0]=1;for(var s=0;s<n;s+=1){var l=r[s-e]||0;a[s+1]=r[s]-l+256&255}return a}function v5(r,e,n){var a=r.length,s=[];s[0]=2;for(var l=0;l<a;l+=1){var u=n&&n[l]||0;s[l+1]=r[l]-u+256&255}return s}function y5(r,e,n){var a=r.length,s=[];s[0]=3;for(var l=0;l<a;l+=1){var u=r[l-e]||0,h=n&&n[l]||0;s[l+1]=r[l]+256-(u+h>>>1)&255}return s}function b5(r,e,n){var a=r.length,s=[];s[0]=4;for(var l=0;l<a;l+=1){var u=KN(r[l-e]||0,n&&n[l]||0,n&&n[l-e]||0);s[l+1]=r[l]-u+256&255}return s}function KN(r,e,n){if(r===e&&e===n)return r;var a=Math.abs(e-n),s=Math.abs(r-n),l=Math.abs(r+e-n-n);return a<=s&&a<=l?r:s<=l?e:n}function JN(r){var e=r.map(function(n){return n.reduce(function(a,s){return a+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function T0(r,e,n){var a=e*n,s=Math.floor(a/8),l=16-(a-8*s+n),u=(1<<n)-1;return Tb(r,s)>>l&u}function w5(r,e,n,a){var s=n*a,l=Math.floor(s/8),u=16-(s-8*l+a),h=(1<<a)-1,f=(e&h)<<u;(function(p,y,_){if(y+1<p.byteLength)p.setUint16(y,_,!1);else{var A=_>>8&255;p.setUint8(y,A)}})(r,l,Tb(r,l)&~(h<<u)&65535|f)}function Tb(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function XN(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=r[e++]|r[e++]<<8,a=r[e++]|r[e++]<<8,s=r[e++],l=s>>7,u=1<<1+(7&s);r[e++],r[e++];var h=null,f=null;l&&(h=e,f=u,e+=3*u);var p=!0,y=[],_=0,A=null,w=0,k=null;for(this.width=n,this.height=a;p&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,k=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];_=r[e++]|r[e++]<<8,A=r[e++],1&N||(A=null),w=N>>2&7,e++;break;case 254:for(;;){if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,L=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,U=r[e++]|r[e++]<<8,F=r[e++],ae=F>>6&1,ye=1<<1+(7&F),ce=h,se=f,W=!1;F>>7&&(W=!0,ce=e,se=ye,e+=3*ye);var be=e;for(e++;;){var I;if(!((I=r[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}y.push({x:T,y:L,width:D,height:U,has_local_palette:W,palette_offset:ce,palette_size:se,data_offset:be,data_length:e-be,transparent_index:A,interlaced:!!ae,delay:_,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return k},this.frameInfo=function(V){if(V<0||V>=y.length)throw new Error("Frame index out of range.");return y[V]},this.decodeAndBlitFrameBGRA=function(V,ie){var re=this.frameInfo(V),Ce=re.width*re.height,Q=new Uint8Array(Ce);_5(r,re.data_offset,Q,Ce);var he=re.palette_offset,de=re.transparent_index;de===null&&(de=256);var ke=re.width,Se=n-ke,M=ke,j=4*(re.y*n+re.x),z=4*((re.y+re.height)*n+re.x),H=j,te=4*Se;re.interlaced===!0&&(te+=4*n*7);for(var ne=8,ee=0,oe=Q.length;ee<oe;++ee){var me=Q[ee];if(M===0&&(M=ke,(H+=te)>=z&&(te=4*Se+4*n*(ne-1),H=j+(ke+Se)*(ne<<1),ne>>=1)),me===de)H+=4;else{var le=r[he+3*me],_e=r[he+3*me+1],Ue=r[he+3*me+2];ie[H++]=Ue,ie[H++]=_e,ie[H++]=le,ie[H++]=255}--M}},this.decodeAndBlitFrameRGBA=function(V,ie){var re=this.frameInfo(V),Ce=re.width*re.height,Q=new Uint8Array(Ce);_5(r,re.data_offset,Q,Ce);var he=re.palette_offset,de=re.transparent_index;de===null&&(de=256);var ke=re.width,Se=n-ke,M=ke,j=4*(re.y*n+re.x),z=4*((re.y+re.height)*n+re.x),H=j,te=4*Se;re.interlaced===!0&&(te+=4*n*7);for(var ne=8,ee=0,oe=Q.length;ee<oe;++ee){var me=Q[ee];if(M===0&&(M=ke,(H+=te)>=z&&(te=4*Se+4*n*(ne-1),H=j+(ke+Se)*(ne<<1),ne>>=1)),me===de)H+=4;else{var le=r[he+3*me],_e=r[he+3*me+1],Ue=r[he+3*me+2];ie[H++]=le,ie[H++]=_e,ie[H++]=Ue,ie[H++]=255}--M}}}function _5(r,e,n,a){for(var s=r[e++],l=1<<s,u=l+1,h=u+1,f=s+1,p=(1<<f)-1,y=0,_=0,A=0,w=r[e++],k=new Int32Array(4096),N=null;;){for(;y<16&&w!==0;)_|=r[e++]<<y,y+=8,w===1?w=r[e++]:--w;if(y<f)break;var T=_&p;if(_>>=f,y-=f,T!==l){if(T===u)break;for(var L=T<h?T:N,D=0,U=L;U>l;)U=k[U]>>8,++D;var F=U;if(A+D+(L!==T?1:0)>a)return void Bn.log("Warning, gif stream longer than expected.");n[A++]=F;var ae=A+=D;for(L!==T&&(n[A++]=F),U=L;D--;)U=k[U],n[--ae]=255&U,U>>=8;N!==null&&h<4096&&(k[h++]=N<<8|F,h>=p+1&&f<12&&(++f,p=p<<1|1)),N=T}else h=u+1,p=(1<<(f=s+1))-1,N=null}return A!==a&&Bn.log("Warning, gif stream shorter than expected."),n}function O0(r){var e,n,a,s,l,u=Math.floor,h=new Array(64),f=new Array(64),p=new Array(64),y=new Array(64),_=new Array(65535),A=new Array(65535),w=new Array(64),k=new Array(64),N=[],T=0,L=7,D=new Array(64),U=new Array(64),F=new Array(64),ae=new Array(256),ye=new Array(2048),ce=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],be=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(j,z){for(var H=0,te=0,ne=new Array,ee=1;ee<=16;ee++){for(var oe=1;oe<=j[ee];oe++)ne[z[te]]=[],ne[z[te]][0]=H,ne[z[te]][1]=ee,te++,H++;H*=2}return ne}function he(j){for(var z=j[0],H=j[1]-1;H>=0;)z&1<<H&&(T|=1<<L),H--,--L<0&&(T==255?(de(255),de(0)):de(T),L=7,T=0)}function de(j){N.push(j)}function ke(j){de(j>>8&255),de(255&j)}function Se(j,z,H,te,ne){for(var ee,oe=ne[0],me=ne[240],le=(function(je,Ye){var We,nt,et,ut,_t,at,Ut,xt,dt,ot,mt=0;for(dt=0;dt<8;++dt){We=je[mt],nt=je[mt+1],et=je[mt+2],ut=je[mt+3],_t=je[mt+4],at=je[mt+5],Ut=je[mt+6];var Fe=We+(xt=je[mt+7]),Ee=We-xt,Oe=nt+Ut,Xe=nt-Ut,tt=et+at,st=et-at,St=ut+_t,ct=ut-_t,Tt=Fe+St,sn=Fe-St,It=Oe+tt,it=Oe-tt;je[mt]=Tt+It,je[mt+4]=Tt-It;var Mt=.707106781*(it+sn);je[mt+2]=sn+Mt,je[mt+6]=sn-Mt;var zt=.382683433*((Tt=ct+st)-(it=Xe+Ee)),nn=.5411961*Tt+zt,un=1.306562965*it+zt,xn=.707106781*(It=st+Xe),jt=Ee+xn,Xi=Ee-xn;je[mt+5]=Xi+nn,je[mt+3]=Xi-nn,je[mt+1]=jt+un,je[mt+7]=jt-un,mt+=8}for(mt=0,dt=0;dt<8;++dt){We=je[mt],nt=je[mt+8],et=je[mt+16],ut=je[mt+24],_t=je[mt+32],at=je[mt+40],Ut=je[mt+48];var ya=We+(xt=je[mt+56]),gi=We-xt,vi=nt+Ut,In=nt-Ut,ur=et+at,Ar=et-at,bs=ut+_t,Xr=ut-_t,An=ya+bs,qn=ya-bs,qr=vi+ur,yi=vi-ur;je[mt]=An+qr,je[mt+32]=An-qr;var Ci=.707106781*(yi+qn);je[mt+16]=qn+Ci,je[mt+48]=qn-Ci;var Ys=.382683433*((An=Xr+Ar)-(yi=In+gi)),Zi=.5411961*An+Ys,Qi=1.306562965*yi+Ys,ws=.707106781*(qr=Ar+In),ea=gi+ws,ta=gi-ws;je[mt+40]=ta+Zi,je[mt+24]=ta-Zi,je[mt+8]=ea+Qi,je[mt+56]=ea-Qi,mt++}for(dt=0;dt<64;++dt)ot=je[dt]*Ye[dt],w[dt]=ot>0?ot+.5|0:ot-.5|0;return w})(j,z),_e=0;_e<64;++_e)k[ce[_e]]=le[_e];var Ue=k[0]-H;H=k[0],Ue==0?he(te[0]):(he(te[A[ee=32767+Ue]]),he(_[ee]));for(var ze=63;ze>0&&k[ze]==0;)ze--;if(ze==0)return he(oe),H;for(var xe,Y=1;Y<=ze;){for(var wt=Y;k[Y]==0&&Y<=ze;)++Y;var lt=Y-wt;if(lt>=16){xe=lt>>4;for(var we=1;we<=xe;++we)he(me);lt&=15}ee=32767+k[Y],he(ne[(lt<<4)+A[ee]]),he(_[ee]),Y++}return ze!=63&&he(oe),H}function M(j){j=Math.min(Math.max(j,1),100),l!=j&&((function(z){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=u((H[te]*z+50)/100);ne=Math.min(Math.max(ne,1),255),h[ce[te]]=ne}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var me=u((ee[oe]*z+50)/100);me=Math.min(Math.max(me,1),255),f[ce[oe]]=me}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Ue=0;Ue<8;Ue++)for(var ze=0;ze<8;ze++)p[_e]=1/(h[ce[_e]]*le[Ue]*le[ze]*8),y[_e]=1/(f[ce[_e]]*le[Ue]*le[ze]*8),_e++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),l=j)}this.encode=function(j,z){z&&M(z),N=new Array,T=0,L=7,ke(65496),ke(65504),ke(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),ke(1),ke(1),de(0),de(0),(function(){ke(65499),ke(132),de(0);for(var nt=0;nt<64;nt++)de(h[nt]);de(1);for(var et=0;et<64;et++)de(f[et])})(),(function(nt,et){ke(65472),ke(17),de(8),ke(et),ke(nt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(j.width,j.height),(function(){ke(65476),ke(418),de(0);for(var nt=0;nt<16;nt++)de(se[nt+1]);for(var et=0;et<=11;et++)de(W[et]);de(16);for(var ut=0;ut<16;ut++)de(be[ut+1]);for(var _t=0;_t<=161;_t++)de(I[_t]);de(1);for(var at=0;at<16;at++)de(V[at+1]);for(var Ut=0;Ut<=11;Ut++)de(ie[Ut]);de(17);for(var xt=0;xt<16;xt++)de(re[xt+1]);for(var dt=0;dt<=161;dt++)de(Ce[dt])})(),ke(65498),ke(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var H=0,te=0,ne=0;T=0,L=7,this.encode.displayName="_encode_";for(var ee,oe,me,le,_e,Ue,ze,xe,Y,wt=j.data,lt=j.width,we=j.height,je=4*lt,Ye=0;Ye<we;){for(ee=0;ee<je;){for(_e=je*Ye+ee,ze=-1,xe=0,Y=0;Y<64;Y++)Ue=_e+(xe=Y>>3)*je+(ze=4*(7&Y)),Ye+xe>=we&&(Ue-=je*(Ye+1+xe-we)),ee+ze>=je&&(Ue-=ee+ze-je+4),oe=wt[Ue++],me=wt[Ue++],le=wt[Ue++],D[Y]=(ye[oe]+ye[me+256|0]+ye[le+512|0]>>16)-128,U[Y]=(ye[oe+768|0]+ye[me+1024|0]+ye[le+1280|0]>>16)-128,F[Y]=(ye[oe+1280|0]+ye[me+1536|0]+ye[le+1792|0]>>16)-128;H=Se(D,p,H,e,a),te=Se(U,y,te,n,s),ne=Se(F,y,ne,n,s),ee+=32}Ye+=8}if(L>=0){var We=[];We[1]=L+1,We[0]=(1<<L+1)-1,he(We)}return ke(65497),new Uint8Array(N)},r=r||50,(function(){for(var j=String.fromCharCode,z=0;z<256;z++)ae[z]=j(z)})(),e=Q(se,W),n=Q(V,ie),a=Q(be,I),s=Q(re,Ce),(function(){for(var j=1,z=2,H=1;H<=15;H++){for(var te=j;te<z;te++)A[32767+te]=H,_[32767+te]=[],_[32767+te][1]=H,_[32767+te][0]=te;for(var ne=-(z-1);ne<=-j;ne++)A[32767+ne]=H,_[32767+ne]=[],_[32767+ne][1]=H,_[32767+ne][0]=z-1+ne;j<<=1,z<<=1}})(),(function(){for(var j=0;j<256;j++)ye[j]=19595*j,ye[j+256|0]=38470*j,ye[j+512|0]=7471*j+32768,ye[j+768|0]=-11059*j,ye[j+1024|0]=-21709*j,ye[j+1280|0]=32768*j+8421375,ye[j+1536|0]=-27439*j,ye[j+1792|0]=-5329*j})(),M(r)}function hs(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function x5(r){function e(W){if(!W)throw Error("assert :P")}function n(W,be,I){for(var V=0;4>V;V++)if(W[be+V]!=I.charCodeAt(V))return!0;return!1}function a(W,be,I,V,ie){for(var re=0;re<ie;re++)W[be+re]=I[V+re]}function s(W,be,I,V){for(var ie=0;ie<V;ie++)W[be+ie]=I}function l(W){return new Int32Array(W)}function u(W,be){for(var I=[],V=0;V<W;V++)I.push(new be);return I}function h(W,be){var I=[];return(function V(ie,re,Ce){for(var Q=Ce[re],he=0;he<Q&&(ie.push(Ce.length>re+1?[]:new be),!(Ce.length<re+1));he++)V(ie[he],re+1,Ce)})(I,0,W),I}var f=function(){var W=this;function be(d,g){for(var S=1<<g-1>>>0;d&S;)S>>>=1;return S?(d&S-1)+S:d}function I(d,g,S,E,R){e(!(E%S));do d[g+(E-=S)]=R;while(0<E)}function V(d,g,S,E,R){if(e(2328>=R),512>=R)var P=l(512);else if((P=l(R))==null)return 0;return(function(B,$,G,X,pe,Re){var J,ve,Le=$,qe=1<<G,Te=l(16),Ie=l(16);for(e(pe!=0),e(X!=null),e(B!=null),e(0<G),ve=0;ve<pe;++ve){if(15<X[ve])return 0;++Te[X[ve]]}if(Te[0]==pe)return 0;for(Ie[1]=0,J=1;15>J;++J){if(Te[J]>1<<J)return 0;Ie[J+1]=Ie[J]+Te[J]}for(ve=0;ve<pe;++ve)J=X[ve],0<X[ve]&&(Re[Ie[J]++]=ve);if(Ie[15]==1)return(X=new ie).g=0,X.value=Re[0],I(B,Le,1,qe,X),qe;var Ge,Qe=-1,Je=qe-1,yt=0,ht=1,Ht=1,pt=1<<G;for(ve=0,J=1,pe=2;J<=G;++J,pe<<=1){if(ht+=Ht<<=1,0>(Ht-=Te[J]))return 0;for(;0<Te[J];--Te[J])(X=new ie).g=J,X.value=Re[ve++],I(B,Le+yt,pe,pt,X),yt=be(yt,J)}for(J=G+1,pe=2;15>=J;++J,pe<<=1){if(ht+=Ht<<=1,0>(Ht-=Te[J]))return 0;for(;0<Te[J];--Te[J]){if(X=new ie,(yt&Je)!=Qe){for(Le+=pt,Ge=1<<(Qe=J)-G;15>Qe&&!(0>=(Ge-=Te[Qe]));)++Qe,Ge<<=1;qe+=pt=1<<(Ge=Qe-G),B[$+(Qe=yt&Je)].g=Ge+G,B[$+Qe].value=Le-$-Qe}X.g=J-G,X.value=Re[ve++],I(B,Le+(yt>>G),pe,pt,X),yt=be(yt,J)}}return ht!=2*Ie[15]-1?0:qe})(d,g,S,E,R,P)}function ie(){this.value=this.g=0}function re(){this.value=this.g=0}function Ce(){this.G=u(5,ie),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Es,re)}function Q(d,g,S,E){e(d!=null),e(g!=null),e(2147483648>E),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=S,d.Jd=g,d.Yc=S+E,d.Zc=4<=E?S+E-4+1:S,oe(d)}function he(d,g){for(var S=0;0<g--;)S|=le(d,128)<<g;return S}function de(d,g){var S=he(d,g);return me(d)?-S:S}function ke(d,g,S,E){var R,P=0;for(e(d!=null),e(g!=null),e(4294967288>E),d.Sb=E,d.Ra=0,d.u=0,d.h=0,4<E&&(E=4),R=0;R<E;++R)P+=g[S+R]<<8*R;d.Ra=P,d.bb=E,d.oa=g,d.pa=S}function Se(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Ea-8>>>0,++d.bb,d.u-=8;te(d)&&(d.h=1,d.u=0)}function M(d,g){if(e(0<=g),!d.h&&g<=ei){var S=H(d)&li[g];return d.u+=g,Se(d),S}return d.h=1,d.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(d){return d.Ra>>>(d.u&Ea-1)>>>0}function te(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Ea}function ne(d,g){d.u=g,d.h=te(d)}function ee(d){d.u>=ja&&(e(d.u>=ja),Se(d))}function oe(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function me(d){return he(d,1)}function le(d,g){var S=d.Ca;0>d.b&&oe(d);var E=d.b,R=S*g>>>8,P=(d.I>>>E>R)+0;for(P?(S-=R,d.I-=R+1<<E>>>0):S=R+1,E=S,R=0;256<=E;)R+=8,E>>=8;return E=7^R+Za[E],d.b-=E,d.Ca=(S<<E)-1,P}function _e(d,g,S){d[g+0]=S>>24&255,d[g+1]=S>>16&255,d[g+2]=S>>8&255,d[g+3]=255&S}function Ue(d,g){return d[g+0]|d[g+1]<<8}function ze(d,g){return Ue(d,g)|d[g+2]<<16}function xe(d,g){return Ue(d,g)|Ue(d,g+2)<<16}function Y(d,g){var S=1<<g;return e(d!=null),e(0<g),d.X=l(S),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function wt(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),a(g.X,0,d.X,0,1<<g.Xa)}function lt(){this.X=[],this.Xa=this.Mb=0}function we(d,g,S,E){e(S!=null),e(E!=null);var R=S[0],P=E[0];return R==0&&(R=(d*P+g/2)/g),P==0&&(P=(g*R+d/2)/d),0>=R||0>=P?0:(S[0]=R,E[0]=P,1)}function je(d,g){return d+(1<<g)-1>>>g}function Ye(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function We(d,g){W[g]=function(S,E,R,P,B,$,G){var X;for(X=0;X<B;++X){var pe=W[d]($[G+X-1],R,P+X);$[G+X]=Ye(S[E+X],pe)}}}function nt(){this.ud=this.hd=this.jd=0}function et(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function ut(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function _t(d,g){return ut(d+(d-g+.5>>1))}function at(d,g,S){return Math.abs(g-S)-Math.abs(d-S)}function Ut(d,g,S,E,R,P,B){for(E=P[B-1],S=0;S<R;++S)P[B+S]=E=Ye(d[g+S],E)}function xt(d,g,S,E,R){var P;for(P=0;P<S;++P){var B=d[g+P],$=B>>8&255,G=16711935&(G=(G=16711935&B)+(($<<16)+$));E[R+P]=(4278255360&B)+G>>>0}}function dt(d,g){g.jd=255&d,g.hd=d>>8&255,g.ud=d>>16&255}function ot(d,g,S,E,R,P){var B;for(B=0;B<E;++B){var $=g[S+B],G=$>>>8,X=$,pe=255&(pe=(pe=$>>>16)+((d.jd<<24>>24)*(G<<24>>24)>>>5));X=255&(X=(X+=(d.hd<<24>>24)*(G<<24>>24)>>>5)+((d.ud<<24>>24)*(pe<<24>>24)>>>5)),R[P+B]=(4278255360&$)+(pe<<16)+X}}function mt(d,g,S,E,R){W[g]=function(P,B,$,G,X,pe,Re,J,ve){for(G=Re;G<J;++G)for(Re=0;Re<ve;++Re)X[pe++]=R($[E(P[B++])])},W[d]=function(P,B,$,G,X,pe,Re){var J=8>>P.b,ve=P.Ea,Le=P.K[0],qe=P.w;if(8>J)for(P=(1<<P.b)-1,qe=(1<<J)-1;B<$;++B){var Te,Ie=0;for(Te=0;Te<ve;++Te)Te&P||(Ie=E(G[X++])),pe[Re++]=R(Le[Ie&qe]),Ie>>=J}else W["VP8LMapColor"+S](G,X,Le,qe,pe,Re,B,$,ve)}}function Fe(d,g,S,E,R){for(S=g+S;g<S;){var P=d[g++];E[R++]=P>>16&255,E[R++]=P>>8&255,E[R++]=255&P}}function Ee(d,g,S,E,R){for(S=g+S;g<S;){var P=d[g++];E[R++]=P>>16&255,E[R++]=P>>8&255,E[R++]=255&P,E[R++]=P>>24&255}}function Oe(d,g,S,E,R){for(S=g+S;g<S;){var P=(B=d[g++])>>16&240|B>>12&15,B=240&B|B>>28&15;E[R++]=P,E[R++]=B}}function Xe(d,g,S,E,R){for(S=g+S;g<S;){var P=(B=d[g++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;E[R++]=P,E[R++]=B}}function tt(d,g,S,E,R){for(S=g+S;g<S;){var P=d[g++];E[R++]=255&P,E[R++]=P>>8&255,E[R++]=P>>16&255}}function st(d,g,S,E,R,P){if(P==0)for(S=g+S;g<S;)_e(E,((P=d[g++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),R+=32;else a(E,R,d,g,S)}function St(d,g){W[g][0]=W[d+"0"],W[g][1]=W[d+"1"],W[g][2]=W[d+"2"],W[g][3]=W[d+"3"],W[g][4]=W[d+"4"],W[g][5]=W[d+"5"],W[g][6]=W[d+"6"],W[g][7]=W[d+"7"],W[g][8]=W[d+"8"],W[g][9]=W[d+"9"],W[g][10]=W[d+"10"],W[g][11]=W[d+"11"],W[g][12]=W[d+"12"],W[g][13]=W[d+"13"],W[g][14]=W[d+"0"],W[g][15]=W[d+"0"]}function ct(d){return d==Vl||d==Mu||d==$o||d==Du}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new sn,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function nn(d,g){var S=d.T,E=g.ba.f.RGBA,R=E.eb,P=E.fb+d.ka*E.A,B=Pr[g.ba.S],$=d.y,G=d.O,X=d.f,pe=d.N,Re=d.ea,J=d.W,ve=g.cc,Le=g.dc,qe=g.Mc,Te=g.Nc,Ie=d.ka,Ge=d.ka+d.T,Qe=d.U,Je=Qe+1>>1;for(Ie==0?B($,G,null,null,X,pe,Re,J,X,pe,Re,J,R,P,null,null,Qe):(B(g.ec,g.fc,$,G,ve,Le,qe,Te,X,pe,Re,J,R,P-E.A,R,P,Qe),++S);Ie+2<Ge;Ie+=2)ve=X,Le=pe,qe=Re,Te=J,pe+=d.Rc,J+=d.Rc,P+=2*E.A,B($,(G+=2*d.fa)-d.fa,$,G,ve,Le,qe,Te,X,pe,Re,J,R,P-E.A,R,P,Qe);return G+=d.fa,d.j+Ge<d.o?(a(g.ec,g.fc,$,G,Qe),a(g.cc,g.dc,X,pe,Je),a(g.Mc,g.Nc,Re,J,Je),S--):1&Ge||B($,G,null,null,X,pe,Re,J,X,pe,Re,J,R,P+E.A,null,null,Qe),S}function un(d,g,S){var E=d.F,R=[d.J];if(E!=null){var P=d.U,B=g.ba.S,$=B==Gl||B==$o;g=g.ba.f.RGBA;var G=[0],X=d.ka;G[0]=d.T,d.Kb&&(X==0?--G[0]:(--X,R[0]-=d.width),d.j+d.ka+d.T==d.o&&(G[0]=d.o-d.j-X));var pe=g.eb;X=g.fb+X*g.A,d=ql(E,R[0],d.width,P,G,pe,X+($?0:3),g.A),e(S==G),d&&ct(B)&&oo(pe,X,$,P,G,g.A)}return 0}function xn(d){var g=d.ma,S=g.ba.S,E=11>S,R=S==Gr||S==Di||S==Gl||S==Ho||S==12||ct(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Xa(g.Oa,d,R?11:12))return 0;if(R&&ct(S)&&ku(),d.da)alert("todo:use_scaling");else{if(E){if(g.Ib=zt,d.Kb){if(S=d.U+1>>1,g.memory=l(d.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=nn,ku()}}else alert("todo:EmitYUV");R&&(g.Jb=un,E&&Oi())}if(E&&!Rs){for(d=0;256>d;++d)Ur[d]=89858*(d-128)+Wo>>qi,Cd[d]=-22014*(d-128)+Wo,Gh[d]=-45773*(d-128),zu[d]=113618*(d-128)+Wo>>qi;for(d=ho;d<Os;++d)g=76283*(d-16)+Wo>>qi,Td[d-ho]=Yn(g,255),Od[d-ho]=Yn(g+8>>4,15);Rs=1}return 1}function jt(d){var g=d.ma,S=d.U,E=d.T;return e(!(1&d.ka)),0>=S||0>=E?0:(S=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,S),g.Dc+=S,1)}function Xi(d){d.ma.memory=null}function ya(d,g,S,E){return M(d,8)!=47?0:(g[0]=M(d,14)+1,S[0]=M(d,14)+1,E[0]=M(d,1),M(d,3)!=0?0:!d.h)}function gi(d,g){if(4>d)return d+1;var S=d-2>>1;return(2+(1&d)<<S)+M(g,S)+1}function vi(d,g){return 120<g?g-120:1<=(S=((S=Ui[g-1])>>4)*d+(8-(15&S)))?S:1;var S}function In(d,g,S){var E=H(S),R=d[g+=255&E].g-8;return 0<R&&(ne(S,S.u+8),E=H(S),g+=d[g].value,g+=E&(1<<R)-1),ne(S,S.u+d[g].g),d[g].value}function ur(d,g,S){return S.g+=d.g,S.value+=d.value<<g>>>0,e(8>=S.g),d.g}function Ar(d,g,S){var E=d.xc;return e((g=E==0?0:d.vc[d.md*(S>>E)+(g>>E)])<d.Wb),d.Ya[g]}function bs(d,g,S,E){var R=d.ab,P=d.c*g,B=d.C;g=B+g;var $=S,G=E;for(E=d.Ta,S=d.Ua;0<R--;){var X=d.gc[R],pe=B,Re=g,J=$,ve=G,Le=(G=E,$=S,X.Ea);switch(e(pe<Re),e(Re<=X.nc),X.hc){case 2:ir(J,ve,(Re-pe)*Le,G,$);break;case 0:var qe=pe,Te=Re,Ie=G,Ge=$,Qe=(pt=X).Ea;qe==0&&(Io(J,ve,null,null,1,Ie,Ge),Ut(J,ve+1,0,0,Qe-1,Ie,Ge+1),ve+=Qe,Ge+=Qe,++qe);for(var Je=1<<pt.b,yt=Je-1,ht=je(Qe,pt.b),Ht=pt.K,pt=pt.w+(qe>>pt.b)*ht;qe<Te;){var Zt=Ht,Pn=pt,Vt=1;for(zo(J,ve,Ie,Ge-Qe,1,Ie,Ge);Vt<Qe;){var ft=(Vt&~yt)+Je;ft>Qe&&(ft=Qe),(0,Qa[Zt[Pn++]>>8&15])(J,ve+ +Vt,Ie,Ge+Vt-Qe,ft-Vt,Ie,Ge+Vt),Vt=ft}ve+=Qe,Ge+=Qe,++qe&yt||(pt+=ht)}Re!=X.nc&&a(G,$-Le,G,$+(Re-pe-1)*Le,Le);break;case 1:for(Le=J,Te=ve,Qe=(J=X.Ea)-(Ge=J&~(Ie=(ve=1<<X.b)-1)),qe=je(J,X.b),Je=X.K,X=X.w+(pe>>X.b)*qe;pe<Re;){for(yt=Je,ht=X,Ht=new nt,pt=Te+Ge,Zt=Te+J;Te<pt;)dt(yt[ht++],Ht),qo(Ht,Le,Te,ve,G,$),Te+=ve,$+=ve;Te<Zt&&(dt(yt[ht++],Ht),qo(Ht,Le,Te,Qe,G,$),Te+=Qe,$+=Qe),++pe&Ie||(X+=qe)}break;case 3:if(J==G&&ve==$&&0<X.b){for(Te=G,J=Le=$+(Re-pe)*Le-(Ge=(Re-pe)*je(X.Ea,X.b)),ve=G,Ie=$,qe=[],Ge=(Qe=Ge)-1;0<=Ge;--Ge)qe[Ge]=ve[Ie+Ge];for(Ge=Qe-1;0<=Ge;--Ge)Te[J+Ge]=qe[Ge];Lu(X,pe,Re,G,Le,G,$)}else Lu(X,pe,Re,J,ve,G,$)}$=E,G=S}G!=S&&a(E,S,$,G,P)}function Xr(d,g){var S=d.V,E=d.Ba+d.c*d.C,R=g-d.C;if(e(g<=d.l.o),e(16>=R),0<R){var P=d.l,B=d.Ta,$=d.Ua,G=P.width;if(bs(d,R,S,E),R=$=[$],e((S=d.C)<(E=g)),e(P.v<P.va),E>P.o&&(E=P.o),S<P.j){var X=P.j-S;S=P.j,R[0]+=X*G}if(S>=E?S=0:(R[0]+=4*P.v,P.ka=S-P.j,P.U=P.va-P.v,P.T=E-S,S=1),S){if($=$[0],11>(S=d.ca).S){var pe=S.f.RGBA,Re=(E=S.S,R=P.U,P=P.T,X=pe.eb,pe.A),J=P;for(pe=pe.fb+d.Ma*pe.A;0<J--;){var ve=B,Le=$,qe=R,Te=X,Ie=pe;switch(E){case Ou:Fo(ve,Le,qe,Te,Ie);break;case Gr:es(ve,Le,qe,Te,Ie);break;case Vl:es(ve,Le,qe,Te,Ie),oo(Te,Ie,0,qe,1,0);break;case Ru:ao(ve,Le,qe,Te,Ie);break;case Di:st(ve,Le,qe,Te,Ie,1);break;case Mu:st(ve,Le,qe,Te,Ie,1),oo(Te,Ie,0,qe,1,0);break;case Gl:st(ve,Le,qe,Te,Ie,0);break;case $o:st(ve,Le,qe,Te,Ie,0),oo(Te,Ie,1,qe,1,0);break;case Ho:ts(ve,Le,qe,Te,Ie);break;case Du:ts(ve,Le,qe,Te,Ie),Mi(Te,Ie,qe,1,0);break;case js:Ca(ve,Le,qe,Te,Ie);break;default:e(0)}$+=G,pe+=Re}d.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=S.height)}}d.C=g,e(d.C<=d.i)}function An(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var S=d.Ya[g].G,E=d.Ya[g].H;if(0<S[1][E[1]+0].g||0<S[2][E[2]+0].g||0<S[3][E[3]+0].g)return 0}return 1}function qn(d,g,S,E,R,P){if(d.Z!=0){var B=d.qd,$=d.rd;for(e(is[d.Z]!=null);g<S;++g)is[d.Z](B,$,E,R,E,R,P),B=E,$=R,R+=P;d.qd=B,d.rd=$}}function qr(d,g){var S=d.l.ma,E=S.Z==0||S.Z==1?d.l.j:d.C;if(E=d.C<E?E:d.C,e(g<=d.l.o),g>E){var R=d.l.width,P=S.ca,B=S.tb+R*E,$=d.V,G=d.Ba+d.c*E,X=d.gc;e(d.ab==1),e(X[0].hc==3),La(X[0],E,g,$,G,P,B),qn(S,E,g,P,B,R)}d.C=d.Ma=g}function yi(d,g,S,E,R,P,B){var $=d.$/E,G=d.$%E,X=d.m,pe=d.s,Re=S+d.$,J=Re;R=S+E*R;var ve=S+E*P,Le=280+pe.ua,qe=d.Pb?$:16777216,Te=0<pe.ua?pe.Wa:null,Ie=pe.wc,Ge=Re<ve?Ar(pe,G,$):null;e(d.C<P),e(ve<=R);var Qe=!1;e:for(;;){for(;Qe||Re<ve;){var Je=0;if($>=qe){var yt=Re-S;e((qe=d).Pb),qe.wd=qe.m,qe.xd=yt,0<qe.s.ua&&wt(qe.s.Wa,qe.s.vb),qe=$+ks}if(G&Ie||(Ge=Ar(pe,G,$)),e(Ge!=null),Ge.Qb&&(g[Re]=Ge.qb,Qe=!0),!Qe)if(ee(X),Ge.jc){Je=X,yt=g;var ht=Re,Ht=Ge.pd[H(Je)&Es-1];e(Ge.jc),256>Ht.g?(ne(Je,Je.u+Ht.g),yt[ht]=Ht.value,Je=0):(ne(Je,Je.u+Ht.g-256),e(256<=Ht.value),Je=Ht.value),Je==0&&(Qe=!0)}else Je=In(Ge.G[0],Ge.H[0],X);if(X.h)break;if(Qe||256>Je){if(!Qe)if(Ge.nd)g[Re]=(Ge.qb|Je<<8)>>>0;else{if(ee(X),Qe=In(Ge.G[1],Ge.H[1],X),ee(X),yt=In(Ge.G[2],Ge.H[2],X),ht=In(Ge.G[3],Ge.H[3],X),X.h)break;g[Re]=(ht<<24|Qe<<16|Je<<8|yt)>>>0}if(Qe=!1,++Re,++G>=E&&(G=0,++$,B!=null&&$<=P&&!($%16)&&B(d,$),Te!=null))for(;J<Re;)Je=g[J++],Te.X[(506832829*Je&4294967295)>>>Te.Mb]=Je}else if(280>Je){if(Je=gi(Je-256,X),yt=In(Ge.G[4],Ge.H[4],X),ee(X),yt=vi(E,yt=gi(yt,X)),X.h)break;if(Re-S<yt||R-Re<Je)break e;for(ht=0;ht<Je;++ht)g[Re+ht]=g[Re+ht-yt];for(Re+=Je,G+=Je;G>=E;)G-=E,++$,B!=null&&$<=P&&!($%16)&&B(d,$);if(e(Re<=R),G&Ie&&(Ge=Ar(pe,G,$)),Te!=null)for(;J<Re;)Je=g[J++],Te.X[(506832829*Je&4294967295)>>>Te.Mb]=Je}else{if(!(Je<Le))break e;for(Qe=Je-280,e(Te!=null);J<Re;)Je=g[J++],Te.X[(506832829*Je&4294967295)>>>Te.Mb]=Je;Je=Re,e(!(Qe>>>(yt=Te).Xa)),g[Je]=yt.X[Qe],Qe=!0}Qe||e(X.h==te(X))}if(d.Pb&&X.h&&Re<R)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&wt(d.s.vb,d.s.Wa);else{if(X.h)break e;B?.(d,$>P?P:$),d.a=0,d.$=Re-S}return 1}return d.a=3,0}function Ci(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function Ys(){var d=new At;return d==null?null:(d.a=0,d.xb=Ic,St("Predictor","VP8LPredictors"),St("Predictor","VP8LPredictors_C"),St("PredictorAdd","VP8LPredictorsAdd"),St("PredictorAdd","VP8LPredictorsAdd_C"),ir=xt,qo=ot,Fo=Fe,es=Ee,ts=Oe,Ca=Xe,ao=tt,W.VP8LMapColor32b=ka,W.VP8LMapColor8b=Rr,d)}function Zi(d,g,S,E,R){var P=1,B=[d],$=[g],G=E.m,X=E.s,pe=null,Re=0;e:for(;;){if(S)for(;P&&M(G,1);){var J=B,ve=$,Le=E,qe=1,Te=Le.m,Ie=Le.gc[Le.ab],Ge=M(Te,2);if(Le.Oc&1<<Ge)P=0;else{switch(Le.Oc|=1<<Ge,Ie.hc=Ge,Ie.Ea=J[0],Ie.nc=ve[0],Ie.K=[null],++Le.ab,e(4>=Le.ab),Ge){case 0:case 1:Ie.b=M(Te,3)+2,qe=Zi(je(Ie.Ea,Ie.b),je(Ie.nc,Ie.b),0,Le,Ie.K),Ie.K=Ie.K[0];break;case 3:var Qe,Je=M(Te,8)+1,yt=16<Je?0:4<Je?1:2<Je?2:3;if(J[0]=je(Ie.Ea,yt),Ie.b=yt,Qe=qe=Zi(Je,1,0,Le,Ie.K)){var ht,Ht=Je,pt=Ie,Zt=1<<(8>>pt.b),Pn=l(Zt);if(Pn==null)Qe=0;else{var Vt=pt.K[0],ft=pt.w;for(Pn[0]=pt.K[0][0],ht=1;ht<1*Ht;++ht)Pn[ht]=Ye(Vt[ft+ht],Pn[ht-1]);for(;ht<4*Zt;++ht)Pn[ht]=0;pt.K[0]=null,pt.K[0]=Pn,Qe=1}}qe=Qe;break;case 2:break;default:e(0)}P=qe}}if(B=B[0],$=$[0],P&&M(G,1)&&!(P=1<=(Re=M(G,4))&&11>=Re)){E.a=3;break e}var rt;if(rt=P)t:{var Hn,Pt,Kt,bn=E,br=B,Br=$,Tn=Re,hr=S,Vr=bn.m,fr=bn.s,Xt=[null],cn=1,$n=0,gn=Bi[Tn];n:for(;;){if(hr&&M(Vr,1)){var wr=M(Vr,3)+2,Gn=je(br,wr),hn=je(Br,wr),or=Gn*hn;if(!Zi(Gn,hn,0,bn,Xt))break n;for(Xt=Xt[0],fr.xc=wr,Hn=0;Hn<or;++Hn){var wn=Xt[Hn]>>8&65535;Xt[Hn]=wn,wn>=cn&&(cn=wn+1)}}if(Vr.h)break n;for(Pt=0;5>Pt;++Pt){var dr=uo[Pt];!Pt&&0<Tn&&(dr+=1<<Tn),$n<dr&&($n=dr)}var pr=u(cn*gn,ie),Nn=cn,ln=u(Nn,Ce);if(ln==null)var Wr=null;else e(65536>=Nn),Wr=ln;var Jn=l($n);if(Wr==null||Jn==null||pr==null){bn.a=1;break n}var Lt=pr;for(Hn=Kt=0;Hn<cn;++Hn){var Ot=Wr[Hn],fn=Ot.G,ui=Ot.H,Fi=0,ni=1,mr=0;for(Pt=0;5>Pt;++Pt){dr=uo[Pt],fn[Pt]=Lt,ui[Pt]=Kt,!Pt&&0<Tn&&(dr+=1<<Tn);i:{var Ms,Ds=dr,Fu=bn,On=Jn,qc=Lt,Fc=Kt,Hu=0,as=Fu.m,Rd=M(as,1);if(s(On,0,0,Ds),Rd){var Hc=M(as,1)+1,$c=M(as,1),$u=M(as,$c==0?1:8);On[$u]=1,Hc==2&&(On[$u=M(as,8)]=1);var Er=1}else{var Xn=l(19),Jl=M(as,4)+4;if(19<Jl){Fu.a=3;var Ps=0;break i}for(Ms=0;Ms<Jl;++Ms)Xn[Wl[Ms]]=M(as,3);var Ko=void 0,fo=void 0,Ra=Fu,Gu=Xn,Jo=Ds,Vu=On,Wu=0,ss=Ra.m,Gc=8,Vc=u(128,ie);r:for(;V(Vc,0,7,Gu,19);){if(M(ss,1)){var Vh=2+2*M(ss,3);if((Ko=2+M(ss,Vh))>Jo)break r}else Ko=Jo;for(fo=0;fo<Jo&&Ko--;){ee(ss);var Wc=Vc[0+(127&H(ss))];ne(ss,ss.u+Wc.g);var Us=Wc.value;if(16>Us)Vu[fo++]=Us,Us!=0&&(Gc=Us);else{var Wh=Us==16,Yh=Us-16,Kh=Go[Yh],Yc=M(ss,Pi[Yh])+Kh;if(fo+Yc>Jo)break r;for(var Jh=Wh?Gc:0;0<Yc--;)Vu[fo++]=Jh}}Wu=1;break r}Wu||(Ra.a=3),Er=Wu}(Er=Er&&!as.h)&&(Hu=V(qc,Fc,8,On,Ds)),Er&&Hu!=0?Ps=Hu:(Fu.a=3,Ps=0)}if(Ps==0)break n;if(ni&&Pu[Pt]==1&&(ni=Lt[Kt].g==0),Fi+=Lt[Kt].g,Kt+=Ps,3>=Pt){var po,Yu=Jn[0];for(po=1;po<dr;++po)Jn[po]>Yu&&(Yu=Jn[po]);mr+=Yu}}if(Ot.nd=ni,Ot.Qb=0,ni&&(Ot.qb=(fn[3][ui[3]+0].value<<24|fn[1][ui[1]+0].value<<16|fn[2][ui[2]+0].value)>>>0,Fi==0&&256>fn[0][ui[0]+0].value&&(Ot.Qb=1,Ot.qb+=fn[0][ui[0]+0].value<<8)),Ot.jc=!Ot.Qb&&6>mr,Ot.jc){var Xl,Ma=Ot;for(Xl=0;Xl<Es;++Xl){var os=Xl,ls=Ma.pd[os],Ku=Ma.G[0][Ma.H[0]+os];256<=Ku.value?(ls.g=Ku.g+256,ls.value=Ku.value):(ls.g=0,ls.value=0,os>>=ur(Ku,8,ls),os>>=ur(Ma.G[1][Ma.H[1]+os],16,ls),os>>=ur(Ma.G[2][Ma.H[2]+os],0,ls),ur(Ma.G[3][Ma.H[3]+os],24,ls))}}}fr.vc=Xt,fr.Wb=cn,fr.Ya=Wr,fr.yc=pr,rt=1;break t}rt=0}if(!(P=rt)){E.a=3;break e}if(0<Re){if(X.ua=1<<Re,!Y(X.Wa,Re)){E.a=1,P=0;break e}}else X.ua=0;var Ju=E,mo=B,Xh=$,Xo=Ju.s,Zo=Xo.xc;if(Ju.c=mo,Ju.i=Xh,Xo.md=je(mo,Zo),Xo.wc=Zo==0?-1:(1<<Zo)-1,S){E.xb=Ls;break e}if((pe=l(B*$))==null){E.a=1,P=0;break e}P=(P=yi(E,pe,0,B,$,$,null))&&!G.h;break e}return P?(R!=null?R[0]=pe:(e(pe==null),e(S)),E.$=0,S||Ci(X)):Ci(X),P}function Qi(d,g){var S=d.c*d.i,E=S+g+16*g;return e(d.c<=g),d.V=l(E),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+S+g,1)}function ws(d,g){var S=d.C,E=g-S,R=d.V,P=d.Ba+d.c*S;for(e(g<=d.l.o);0<E;){var B=16<E?16:E,$=d.l.ma,G=d.l.width,X=G*B,pe=$.ca,Re=$.tb+G*S,J=d.Ta,ve=d.Ua;bs(d,B,R,P),Ei(J,ve,pe,Re,X),qn($,S,S+B,pe,Re,G),E-=B,R+=B*d.c,S+=B}e(S==g),d.C=d.Ma=g}function ea(){this.ub=this.yd=this.td=this.Rb=0}function ta(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ks(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function ba(){this.Yb=(function(){var d=[];return(function g(S,E,R){for(var P=R[E],B=0;B<P&&(S.push(R.length>E+1?[]:0),!(R.length<E+1));B++)g(S[B],E+1,R)})(d,0,[3,11]),d})()}function tr(){this.jb=l(3),this.Wc=h([4,8],ba),this.Xc=h([4,17],ba)}function Al(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function bi(){this.ld=this.La=this.dd=this.tc=0}function na(){this.Na=this.la=0}function za(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function El(){this.uc=this.M=this.Nb=0,this.wa=Array(new bi),this.Y=0,this.ya=Array(new Nl),this.aa=0,this.l=new qa}function jl(){this.y=l(16),this.f=l(8),this.ea=l(8)}function bu(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new ea,this.Kc=new ta,this.ed=new Al,this.Qa=new Ks,this.Ic=this.$c=this.Aa=0,this.D=new El,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,j),this.ia=0,this.pb=u(4,za),this.Pa=new tr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jl),this.Hd=0,this.rb=Array(new na),this.sb=0,this.wa=Array(new bi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nl),this.L=this.aa=0,this.gd=h([4,2],bi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oo(){var d=new bu;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,ji||(ji=Fa)),d}function Sn(d,g,S){return d.a==0&&(d.a=g,d.sc=S,d.cb=0),0}function Zr(d,g,S){return 3<=S&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function kl(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return Sn(d,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,E=g.w,R=g.ha;if(4>R)return Sn(d,7,"Truncated header.");var P=S[E+0]|S[E+1]<<8|S[E+2]<<16,B=d.Od;if(B.Rb=!(1&P),B.td=P>>1&7,B.yd=P>>4&1,B.ub=P>>5,3<B.td)return Sn(d,3,"Incorrect keyframe parameters.");if(!B.yd)return Sn(d,4,"Frame not displayable.");E+=3,R-=3;var $=d.Kc;if(B.Rb){if(7>R)return Sn(d,7,"cannot parse picture header");if(!Zr(S,E,R))return Sn(d,3,"Bad code word");$.c=16383&(S[E+4]<<8|S[E+3]),$.Td=S[E+4]>>6,$.i=16383&(S[E+6]<<8|S[E+5]),$.Ud=S[E+6]>>6,E+=7,R-=7,d.za=$.c+15>>4,d.Ub=$.i+15>>4,g.width=$.c,g.height=$.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,s((P=d.Pa).jb,0,255,P.jb.length),e((P=d.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,s(P.Zb,0,0,P.Zb.length),s(P.Lb,0,0,P.Lb)}if(B.ub>R)return Sn(d,7,"bad partition length");Q(P=d.m,S,E,B.ub),E+=B.ub,R-=B.ub,B.Rb&&($.Ld=me(P),$.Kd=me(P)),$=d.Qa;var G,X=d.Pa;if(e(P!=null),e($!=null),$.Cb=me(P),$.Cb){if($.Bb=me(P),me(P)){for($.Fb=me(P),G=0;4>G;++G)$.Zb[G]=me(P)?de(P,7):0;for(G=0;4>G;++G)$.Lb[G]=me(P)?de(P,6):0}if($.Bb)for(G=0;3>G;++G)X.jb[G]=me(P)?he(P,8):255}else $.Bb=0;if(P.Ka)return Sn(d,3,"cannot parse segment header");if(($=d.ed).zd=me(P),$.Tb=he(P,6),$.wb=he(P,3),$.Pc=me(P),$.Pc&&me(P)){for(X=0;4>X;++X)me(P)&&($.vd[X]=de(P,6));for(X=0;4>X;++X)me(P)&&($.od[X]=de(P,6))}if(d.L=$.Tb==0?0:$.zd?1:2,P.Ka)return Sn(d,3,"cannot parse filter header");var pe=R;if(R=G=E,E=G+pe,$=pe,d.Xb=(1<<he(d.m,2))-1,pe<3*(X=d.Xb))S=7;else{for(G+=3*X,$-=3*X,pe=0;pe<X;++pe){var Re=S[R+0]|S[R+1]<<8|S[R+2]<<16;Re>$&&(Re=$),Q(d.Jc[+pe],S,G,Re),G+=Re,$-=Re,R+=3}Q(d.Jc[+X],S,G,$),S=G<E?0:5}if(S!=0)return Sn(d,S,"cannot parse partitions");for(S=he(G=d.m,7),R=me(G)?de(G,4):0,E=me(G)?de(G,4):0,$=me(G)?de(G,4):0,X=me(G)?de(G,4):0,G=me(G)?de(G,4):0,pe=d.Qa,Re=0;4>Re;++Re){if(pe.Cb){var J=pe.Zb[Re];pe.Fb||(J+=S)}else{if(0<Re){d.pb[Re]=d.pb[0];continue}J=S}var ve=d.pb[Re];ve.Sc[0]=Ii[Yn(J+R,127)],ve.Sc[1]=zi[Yn(J+0,127)],ve.Eb[0]=2*Ii[Yn(J+E,127)],ve.Eb[1]=101581*zi[Yn(J+$,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Ii[Yn(J+X,117)],ve.Qc[1]=zi[Yn(J+G,127)],ve.lc=J+G}if(!B.Rb)return Sn(d,4,"Not a key frame.");for(me(P),B=d.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(E=0;3>E;++E)for($=0;11>$;++$)X=le(P,Dn[S][R][E][$])?he(P,8):$h[S][R][E][$],B.Wc[S][R].Yb[E][$]=X;for(R=0;17>R;++R)B.Xc[S][R]=B.Wc[S][Qt[R]]}return d.kc=me(P),d.kc&&(d.Bd=he(P,8)),d.cb=1}function Fa(d,g,S,E,R,P,B){var $=g[R].Yb[S];for(S=0;16>R;++R){if(!le(d,$[S+0]))return R;for(;!le(d,$[S+1]);)if($=g[++R].Yb[0],S=0,R==16)return 16;var G=g[R+1].Yb;if(le(d,$[S+2])){var X=d,pe=0;if(le(X,(J=$)[(Re=S)+3]))if(le(X,J[Re+6])){for($=0,Re=2*(pe=le(X,J[Re+8]))+(J=le(X,J[Re+9+pe])),pe=0,J=Hh[Re];J[$];++$)pe+=pe+le(X,J[$]);pe+=3+(8<<Re)}else le(X,J[Re+7])?(pe=7+2*le(X,165),pe+=le(X,145)):pe=5+le(X,159);else pe=le(X,J[Re+4])?3+le(X,J[Re+5]):2;$=G[2]}else pe=1,$=G[1];G=B+Bc[R],0>(X=d).b&&oe(X);var Re,J=X.b,ve=(Re=X.Ca>>1)-(X.I>>J)>>31;--X.b,X.Ca+=ve,X.Ca|=1,X.I-=(Re+1&ve)<<J,P[G]=((pe^ve)-ve)*E[(0<R)+0]}return 16}function Ha(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,s(d.zc,0,0,d.zc.length),d.ja=0}function Ti(d,g,S,E,R){R=d[g+S+32*E]+(R>>3),d[g+S+32*E]=-256&R?0>R?0:255:R}function wa(d,g,S,E,R,P){Ti(d,g,0,S,E+R),Ti(d,g,1,S,E+P),Ti(d,g,2,S,E-P),Ti(d,g,3,S,E-R)}function nr(d){return(20091*d>>16)+d}function Fr(d,g,S,E){var R,P=0,B=l(16);for(R=0;4>R;++R){var $=d[g+0]+d[g+8],G=d[g+0]-d[g+8],X=(35468*d[g+4]>>16)-nr(d[g+12]),pe=nr(d[g+4])+(35468*d[g+12]>>16);B[P+0]=$+pe,B[P+1]=G+X,B[P+2]=G-X,B[P+3]=$-pe,P+=4,g++}for(R=P=0;4>R;++R)$=(d=B[P+0]+4)+B[P+8],G=d-B[P+8],X=(35468*B[P+4]>>16)-nr(B[P+12]),Ti(S,E,0,0,$+(pe=nr(B[P+4])+(35468*B[P+12]>>16))),Ti(S,E,1,0,G+X),Ti(S,E,2,0,G-X),Ti(S,E,3,0,$-pe),P++,E+=32}function Ll(d,g,S,E){var R=d[g+0]+4,P=35468*d[g+4]>>16,B=nr(d[g+4]),$=35468*d[g+1]>>16;wa(S,E,0,R+B,d=nr(d[g+1]),$),wa(S,E,1,R+P,d,$),wa(S,E,2,R-P,d,$),wa(S,E,3,R-B,d,$)}function wu(d,g,S,E,R){Fr(d,g,S,E),R&&Fr(d,g+16,S,E+4)}function Cl(d,g,S,E){ns(d,g+0,S,E,1),ns(d,g+32,S,E+128,1)}function Qr(d,g,S,E){var R;for(d=d[g+0]+4,R=0;4>R;++R)for(g=0;4>g;++g)Ti(S,E,g,R,d)}function Tl(d,g,S,E){d[g+0]&&mn(d,g+0,S,E),d[g+16]&&mn(d,g+16,S,E+4),d[g+32]&&mn(d,g+32,S,E+128),d[g+48]&&mn(d,g+48,S,E+128+4)}function Ol(d,g,S,E){var R,P=l(16);for(R=0;4>R;++R){var B=d[g+0+R]+d[g+12+R],$=d[g+4+R]+d[g+8+R],G=d[g+4+R]-d[g+8+R],X=d[g+0+R]-d[g+12+R];P[0+R]=B+$,P[8+R]=B-$,P[4+R]=X+G,P[12+R]=X-G}for(R=0;4>R;++R)B=(d=P[0+4*R]+3)+P[3+4*R],$=P[1+4*R]+P[2+4*R],G=P[1+4*R]-P[2+4*R],X=d-P[3+4*R],S[E+0]=B+$>>3,S[E+16]=X+G>>3,S[E+32]=B-$>>3,S[E+48]=X-G>>3,E+=64}function wi(d,g,S){var E,R=g-32,P=$r,B=255-d[R-1];for(E=0;E<S;++E){var $,G=P,X=B+d[g-1];for($=0;$<S;++$)d[g+$]=G[X+d[R+$]];g+=32}}function Rl(d,g){wi(d,g,4)}function _u(d,g){wi(d,g,8)}function xu(d,g){wi(d,g,16)}function Ml(d,g){var S;for(S=0;16>S;++S)a(d,g+32*S,d,g-32,16)}function Dl(d,g){var S;for(S=16;0<S;--S)s(d,g,d[g-1],16),g+=32}function Js(d,g,S){var E;for(E=0;16>E;++E)s(g,S+32*E,d,16)}function ra(d,g){var S,E=16;for(S=0;16>S;++S)E+=d[g-1+32*S]+d[g+S-32];Js(E>>5,d,g)}function ia(d,g){var S,E=8;for(S=0;16>S;++S)E+=d[g-1+32*S];Js(E>>4,d,g)}function $a(d,g){var S,E=8;for(S=0;16>S;++S)E+=d[g+S-32];Js(E>>4,d,g)}function Xs(d,g){Js(128,d,g)}function Dt(d,g,S){return d+2*g+S+2>>2}function _s(d,g){var S,E=g-32;for(E=new Uint8Array([Dt(d[E-1],d[E+0],d[E+1]),Dt(d[E+0],d[E+1],d[E+2]),Dt(d[E+1],d[E+2],d[E+3]),Dt(d[E+2],d[E+3],d[E+4])]),S=0;4>S;++S)a(d,g+32*S,E,0,E.length)}function Su(d,g){var S=d[g-1],E=d[g-1+32],R=d[g-1+64],P=d[g-1+96];_e(d,g+0,16843009*Dt(d[g-1-32],S,E)),_e(d,g+32,16843009*Dt(S,E,R)),_e(d,g+64,16843009*Dt(E,R,P)),_e(d,g+96,16843009*Dt(R,P,P))}function Pl(d,g){var S,E=4;for(S=0;4>S;++S)E+=d[g+S-32]+d[g-1+32*S];for(E>>=3,S=0;4>S;++S)s(d,g+32*S,E,4)}function Au(d,g){var S=d[g-1+0],E=d[g-1+32],R=d[g-1+64],P=d[g-1-32],B=d[g+0-32],$=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+96]=Dt(E,R,d[g-1+96]),d[g+1+96]=d[g+0+64]=Dt(S,E,R),d[g+2+96]=d[g+1+64]=d[g+0+32]=Dt(P,S,E),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=Dt(B,P,S),d[g+3+64]=d[g+2+32]=d[g+1+0]=Dt($,B,P),d[g+3+32]=d[g+2+0]=Dt(G,$,B),d[g+3+0]=Dt(X,G,$)}function _i(d,g){var S=d[g+1-32],E=d[g+2-32],R=d[g+3-32],P=d[g+4-32],B=d[g+5-32],$=d[g+6-32],G=d[g+7-32];d[g+0+0]=Dt(d[g+0-32],S,E),d[g+1+0]=d[g+0+32]=Dt(S,E,R),d[g+2+0]=d[g+1+32]=d[g+0+64]=Dt(E,R,P),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=Dt(R,P,B),d[g+3+32]=d[g+2+64]=d[g+1+96]=Dt(P,B,$),d[g+3+64]=d[g+2+96]=Dt(B,$,G),d[g+3+96]=Dt($,G,G)}function Cr(d,g){var S=d[g-1+0],E=d[g-1+32],R=d[g-1+64],P=d[g-1-32],B=d[g+0-32],$=d[g+1-32],G=d[g+2-32],X=d[g+3-32];d[g+0+0]=d[g+1+64]=P+B+1>>1,d[g+1+0]=d[g+2+64]=B+$+1>>1,d[g+2+0]=d[g+3+64]=$+G+1>>1,d[g+3+0]=G+X+1>>1,d[g+0+96]=Dt(R,E,S),d[g+0+64]=Dt(E,S,P),d[g+0+32]=d[g+1+96]=Dt(S,P,B),d[g+1+32]=d[g+2+96]=Dt(P,B,$),d[g+2+32]=d[g+3+96]=Dt(B,$,G),d[g+3+32]=Dt($,G,X)}function Ul(d,g){var S=d[g+0-32],E=d[g+1-32],R=d[g+2-32],P=d[g+3-32],B=d[g+4-32],$=d[g+5-32],G=d[g+6-32],X=d[g+7-32];d[g+0+0]=S+E+1>>1,d[g+1+0]=d[g+0+64]=E+R+1>>1,d[g+2+0]=d[g+1+64]=R+P+1>>1,d[g+3+0]=d[g+2+64]=P+B+1>>1,d[g+0+32]=Dt(S,E,R),d[g+1+32]=d[g+0+96]=Dt(E,R,P),d[g+2+32]=d[g+1+96]=Dt(R,P,B),d[g+3+32]=d[g+2+96]=Dt(P,B,$),d[g+3+64]=Dt(B,$,G),d[g+3+96]=Dt($,G,X)}function Zs(d,g){var S=d[g-1+0],E=d[g-1+32],R=d[g-1+64],P=d[g-1+96];d[g+0+0]=S+E+1>>1,d[g+2+0]=d[g+0+32]=E+R+1>>1,d[g+2+32]=d[g+0+64]=R+P+1>>1,d[g+1+0]=Dt(S,E,R),d[g+3+0]=d[g+1+32]=Dt(E,R,P),d[g+3+32]=d[g+1+64]=Dt(R,P,P),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=P}function xi(d,g){var S=d[g-1+0],E=d[g-1+32],R=d[g-1+64],P=d[g-1+96],B=d[g-1-32],$=d[g+0-32],G=d[g+1-32],X=d[g+2-32];d[g+0+0]=d[g+2+32]=S+B+1>>1,d[g+0+32]=d[g+2+64]=E+S+1>>1,d[g+0+64]=d[g+2+96]=R+E+1>>1,d[g+0+96]=P+R+1>>1,d[g+3+0]=Dt($,G,X),d[g+2+0]=Dt(B,$,G),d[g+1+0]=d[g+3+32]=Dt(S,B,$),d[g+1+32]=d[g+3+64]=Dt(E,S,B),d[g+1+64]=d[g+3+96]=Dt(R,E,S),d[g+1+96]=Dt(P,R,E)}function Qs(d,g){var S;for(S=0;8>S;++S)a(d,g+32*S,d,g-32,8)}function _a(d,g){var S;for(S=0;8>S;++S)s(d,g,d[g-1],8),g+=32}function eo(d,g,S){var E;for(E=0;8>E;++E)s(g,S+32*E,d,8)}function Ga(d,g){var S,E=8;for(S=0;8>S;++S)E+=d[g+S-32]+d[g-1+32*S];eo(E>>4,d,g)}function Ro(d,g){var S,E=4;for(S=0;8>S;++S)E+=d[g+S-32];eo(E>>3,d,g)}function Mo(d,g){var S,E=4;for(S=0;8>S;++S)E+=d[g-1+32*S];eo(E>>3,d,g)}function Nr(d,g){eo(128,d,g)}function Si(d,g,S){var E=d[g-S],R=d[g+0],P=3*(R-E)+rs[1020+d[g-2*S]-d[g+S]],B=$l[112+(P+4>>3)];d[g-S]=$r[255+E+$l[112+(P+3>>3)]],d[g+0]=$r[255+R-B]}function xa(d,g,S,E){var R=d[g+0],P=d[g+S];return Mr[255+d[g-2*S]-d[g-S]]>E||Mr[255+P-R]>E}function Va(d,g,S,E){return 4*Mr[255+d[g-S]-d[g+0]]+Mr[255+d[g-2*S]-d[g+S]]<=E}function Do(d,g,S,E,R){var P=d[g-3*S],B=d[g-2*S],$=d[g-S],G=d[g+0],X=d[g+S],pe=d[g+2*S],Re=d[g+3*S];return 4*Mr[255+$-G]+Mr[255+B-X]>E?0:Mr[255+d[g-4*S]-P]<=R&&Mr[255+P-B]<=R&&Mr[255+B-$]<=R&&Mr[255+Re-pe]<=R&&Mr[255+pe-X]<=R&&Mr[255+X-G]<=R}function to(d,g,S,E){var R=2*E+1;for(E=0;16>E;++E)Va(d,g+E,S,R)&&Si(d,g+E,S)}function Wa(d,g,S,E){var R=2*E+1;for(E=0;16>E;++E)Va(d,g+E*S,1,R)&&Si(d,g+E*S,1)}function xs(d,g,S,E){var R;for(R=3;0<R;--R)to(d,g+=4*S,S,E)}function no(d,g,S,E){var R;for(R=3;0<R;--R)Wa(d,g+=4,S,E)}function Sa(d,g,S,E,R,P,B,$){for(P=2*P+1;0<R--;){if(Do(d,g,S,P,B))if(xa(d,g,S,$))Si(d,g,S);else{var G=d,X=g,pe=S,Re=G[X-2*pe],J=G[X-pe],ve=G[X+0],Le=G[X+pe],qe=G[X+2*pe],Te=27*(Ge=rs[1020+3*(ve-J)+rs[1020+Re-Le]])+63>>7,Ie=18*Ge+63>>7,Ge=9*Ge+63>>7;G[X-3*pe]=$r[255+G[X-3*pe]+Ge],G[X-2*pe]=$r[255+Re+Ie],G[X-pe]=$r[255+J+Te],G[X+0]=$r[255+ve-Te],G[X+pe]=$r[255+Le-Ie],G[X+2*pe]=$r[255+qe-Ge]}g+=E}}function Ya(d,g,S,E,R,P,B,$){for(P=2*P+1;0<R--;){if(Do(d,g,S,P,B))if(xa(d,g,S,$))Si(d,g,S);else{var G=d,X=g,pe=S,Re=G[X-pe],J=G[X+0],ve=G[X+pe],Le=$l[112+(4+(qe=3*(J-Re))>>3)],qe=$l[112+(qe+3>>3)],Te=Le+1>>1;G[X-2*pe]=$r[255+G[X-2*pe]+Te],G[X-pe]=$r[255+Re+qe],G[X+0]=$r[255+J-Le],G[X+pe]=$r[255+ve-Te]}g+=E}}function Nu(d,g,S,E,R,P){Sa(d,g,S,1,16,E,R,P)}function Eu(d,g,S,E,R,P){Sa(d,g,1,S,16,E,R,P)}function Ka(d,g,S,E,R,P){var B;for(B=3;0<B;--B)Ya(d,g+=4*S,S,1,16,E,R,P)}function ju(d,g,S,E,R,P){var B;for(B=3;0<B;--B)Ya(d,g+=4,1,S,16,E,R,P)}function x(d,g,S,E,R,P,B,$){Sa(d,g,R,1,8,P,B,$),Sa(S,E,R,1,8,P,B,$)}function O(d,g,S,E,R,P,B,$){Sa(d,g,1,R,8,P,B,$),Sa(S,E,1,R,8,P,B,$)}function Z(d,g,S,E,R,P,B,$){Ya(d,g+4*R,R,1,8,P,B,$),Ya(S,E+4*R,R,1,8,P,B,$)}function fe(d,g,S,E,R,P,B,$){Ya(d,g+4,1,R,8,P,B,$),Ya(S,E+4,1,R,8,P,B,$)}function Ae(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ze(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gt(){this.ua=0,this.Wa=new lt,this.vb=new lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ce,this.yc=new ie}function At(){this.xb=this.a=0,this.l=new qa,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gt,this.ab=0,this.gc=u(4,Ze),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(d,g,S,E,R,P,B){for(d=d==null?0:d[g+0],g=0;g<B;++g)R[P+g]=d+S[E+g]&255,d=R[P+g]}function pn(d,g,S,E,R,P,B){var $;if(d==null)Gt(null,null,S,E,R,P,B);else for($=0;$<B;++$)R[P+$]=d[g+$]+S[E+$]&255}function Fn(d,g,S,E,R,P,B){if(d==null)Gt(null,null,S,E,R,P,B);else{var $,G=d[g+0],X=G,pe=G;for($=0;$<B;++$)X=pe+(G=d[g+$])-X,pe=S[E+$]+(-256&X?0>X?0:255:X)&255,X=G,R[P+$]=pe}}function rr(d,g,S,E){var R=g.width,P=g.o;if(e(d!=null&&g!=null),0>S||0>=E||S+E>P)return null;if(!d.Cc){if(d.ga==null){var B;if(d.ga=new qt,(B=d.ga==null)||(B=g.width*g.o,e(d.Gb.length==0),d.Gb=l(B),d.Uc=0,d.Gb==null?B=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,B=1),B=!B),!B){B=d.ga;var $=d.Fa,G=d.P,X=d.qc,pe=d.mb,Re=d.nb,J=G+1,ve=X-1,Le=B.l;if(e($!=null&&pe!=null&&g!=null),is[0]=null,is[1]=Gt,is[2]=pn,is[3]=Fn,B.ca=pe,B.tb=Re,B.c=g.width,B.i=g.height,e(0<B.c&&0<B.i),1>=X)g=0;else if(B.$a=3&$[G+0],B.Z=$[G+0]>>2&3,B.Lc=$[G+0]>>4&3,G=$[G+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||G)g=0;else if(Le.put=jt,Le.ac=xn,Le.bc=Xi,Le.ma=B,Le.width=g.width,Le.height=g.height,Le.Da=g.Da,Le.v=g.v,Le.va=g.va,Le.j=g.j,Le.o=g.o,B.$a)e:{e(B.$a==1),g=Ys();t:for(;;){if(g==null){g=0;break e}if(e(B!=null),B.mc=g,g.c=B.c,g.i=B.i,g.l=B.l,g.l.ma=B,g.l.width=B.c,g.l.height=B.i,g.a=0,ke(g.m,$,J,ve),!Zi(B.c,B.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&An(g.s)?(B.ic=1,$=g.c*g.i,g.Ta=null,g.Ua=0,g.V=l($),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(B.ic=0,g=Qi(g,B.c)),!g))break t;g=1;break e}B.mc=null,g=0}else g=ve>=B.c*B.i;B=!g}if(B)return null;d.ga.Lc!=1?d.Ga=0:E=P-S}e(d.ga!=null),e(S+E<=P);e:{if(g=($=d.ga).c,P=$.l.o,$.$a==0){if(J=d.rc,ve=d.Vc,Le=d.Fa,G=d.P+1+S*g,X=d.mb,pe=d.nb+S*g,e(G<=d.P+d.qc),$.Z!=0)for(e(is[$.Z]!=null),B=0;B<E;++B)is[$.Z](J,ve,Le,G,X,pe,g),J=X,ve=pe,pe+=g,G+=g;else for(B=0;B<E;++B)a(X,pe,Le,G,g),J=X,ve=pe,pe+=g,G+=g;d.rc=J,d.Vc=ve}else{if(e($.mc!=null),g=S+E,e((B=$.mc)!=null),e(g<=B.i),B.C>=g)g=1;else if($.ic||Oi(),$.ic){$=B.V,J=B.Ba,ve=B.c;var qe=B.i,Te=(Le=1,G=B.$/ve,X=B.$%ve,pe=B.m,Re=B.s,B.$),Ie=ve*qe,Ge=ve*g,Qe=Re.wc,Je=Te<Ge?Ar(Re,X,G):null;e(Te<=Ie),e(g<=qe),e(An(Re));t:for(;;){for(;!pe.h&&Te<Ge;){if(X&Qe||(Je=Ar(Re,X,G)),e(Je!=null),ee(pe),256>(qe=In(Je.G[0],Je.H[0],pe)))$[J+Te]=qe,++Te,++X>=ve&&(X=0,++G<=g&&!(G%16)&&qr(B,G));else{if(!(280>qe)){Le=0;break t}qe=gi(qe-256,pe);var yt,ht=In(Je.G[4],Je.H[4],pe);if(ee(pe),!(Te>=(ht=vi(ve,ht=gi(ht,pe)))&&Ie-Te>=qe)){Le=0;break t}for(yt=0;yt<qe;++yt)$[J+Te+yt]=$[J+Te+yt-ht];for(Te+=qe,X+=qe;X>=ve;)X-=ve,++G<=g&&!(G%16)&&qr(B,G);Te<Ge&&X&Qe&&(Je=Ar(Re,X,G))}e(pe.h==te(pe))}qr(B,G>g?g:G);break t}!Le||pe.h&&Te<Ie?(Le=0,B.a=pe.h?5:3):B.$=Te,g=Le}else g=yi(B,B.V,B.Ba,B.c,B.i,g,ws);if(!g){E=0;break e}}S+E>=P&&(d.Cc=1),E=1}if(!E)return null;if(d.Cc&&((E=d.ga)!=null&&(E.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+S*R}function Ln(d,g,S,E,R,P){for(;0<R--;){var B,$=d,G=g+(S?1:0),X=d,pe=g+(S?0:3);for(B=0;B<E;++B){var Re=X[pe+4*B];Re!=255&&(Re*=32897,$[G+4*B+0]=$[G+4*B+0]*Re>>23,$[G+4*B+1]=$[G+4*B+1]*Re>>23,$[G+4*B+2]=$[G+4*B+2]*Re>>23)}g+=P}}function yr(d,g,S,E,R){for(;0<E--;){var P;for(P=0;P<S;++P){var B=d[g+2*P+0],$=15&(X=d[g+2*P+1]),G=4369*$,X=(240&X|X>>4)*G>>16;d[g+2*P+0]=(240&B|B>>4)*G>>16&240|(15&B|B<<4)*G>>16>>4&15,d[g+2*P+1]=240&X|$}g+=R}}function cr(d,g,S,E,R,P,B,$){var G,X,pe=255;for(X=0;X<R;++X){for(G=0;G<E;++G){var Re=d[g+G];P[B+4*G]=Re,pe&=Re}g+=S,B+=$}return pe!=255}function Tr(d,g,S,E,R){var P;for(P=0;P<R;++P)S[E+P]=d[g+P]>>8}function Oi(){oo=Ln,Mi=yr,ql=cr,Ei=Tr}function oi(d,g,S){W[d]=function(E,R,P,B,$,G,X,pe,Re,J,ve,Le,qe,Te,Ie,Ge,Qe){var Je,yt=Qe-1>>1,ht=$[G+0]|X[pe+0]<<16,Ht=Re[J+0]|ve[Le+0]<<16;e(E!=null);var pt=3*ht+Ht+131074>>2;for(g(E[R+0],255&pt,pt>>16,qe,Te),P!=null&&(pt=3*Ht+ht+131074>>2,g(P[B+0],255&pt,pt>>16,Ie,Ge)),Je=1;Je<=yt;++Je){var Zt=$[G+Je]|X[pe+Je]<<16,Pn=Re[J+Je]|ve[Le+Je]<<16,Vt=ht+Zt+Ht+Pn+524296,ft=Vt+2*(Zt+Ht)>>3;pt=ft+ht>>1,ht=(Vt=Vt+2*(ht+Pn)>>3)+Zt>>1,g(E[R+2*Je-1],255&pt,pt>>16,qe,Te+(2*Je-1)*S),g(E[R+2*Je-0],255&ht,ht>>16,qe,Te+(2*Je-0)*S),P!=null&&(pt=Vt+Ht>>1,ht=ft+Pn>>1,g(P[B+2*Je-1],255&pt,pt>>16,Ie,Ge+(2*Je-1)*S),g(P[B+2*Je+0],255&ht,ht>>16,Ie,Ge+(2*Je+0)*S)),ht=Zt,Ht=Pn}1&Qe||(pt=3*ht+Ht+131074>>2,g(E[R+Qe-1],255&pt,pt>>16,qe,Te+(Qe-1)*S),P!=null&&(pt=3*Ht+ht+131074>>2,g(P[B+Qe-1],255&pt,pt>>16,Ie,Ge+(Qe-1)*S)))}}function ku(){Pr[Ou]=co,Pr[Gr]=Vo,Pr[Ru]=zc,Pr[Di]=Bu,Pr[Gl]=Cs,Pr[Ho]=Oa,Pr[js]=Ts,Pr[Vl]=Vo,Pr[Mu]=Bu,Pr[$o]=Cs,Pr[Du]=Oa}function Po(d){return d&-16384?0>d?0:255:d>>Iu}function ro(d,g){return Po((19077*d>>8)+(26149*g>>8)-14234)}function Aa(d,g,S){return Po((19077*d>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function aa(d,g){return Po((19077*d>>8)+(33050*g>>8)-17685)}function io(d,g,S,E,R){E[R+0]=ro(d,S),E[R+1]=Aa(d,g,S),E[R+2]=aa(d,g)}function Ss(d,g,S,E,R){E[R+0]=aa(d,g),E[R+1]=Aa(d,g,S),E[R+2]=ro(d,S)}function Or(d,g,S,E,R){var P=Aa(d,g,S);g=P<<3&224|aa(d,g)>>3,E[R+0]=248&ro(d,S)|P>>5,E[R+1]=g}function As(d,g,S,E,R){var P=240&aa(d,g)|15;E[R+0]=240&ro(d,S)|Aa(d,g,S)>>4,E[R+1]=P}function Ns(d,g,S,E,R){E[R+0]=255,io(d,g,S,E,R+1)}function Uo(d,g,S,E,R){Ss(d,g,S,E,R),E[R+3]=255}function Na(d,g,S,E,R){io(d,g,S,E,R),E[R+3]=255}function Yn(d,g){return 0>d?0:d>g?g:d}function Ja(d,g,S){W[d]=function(E,R,P,B,$,G,X,pe,Re){for(var J=pe+(-2&Re)*S;pe!=J;)g(E[R+0],P[B+0],$[G+0],X,pe),g(E[R+1],P[B+0],$[G+0],X,pe+S),R+=2,++B,++G,pe+=2*S;1&Re&&g(E[R+0],P[B+0],$[G+0],X,pe)}}function Bo(d,g,S){return S==0?d==0?g==0?6:5:g==0?4:0:S}function Bl(d,g,S,E,R){switch(d>>>30){case 3:ns(g,S,E,R,0);break;case 2:Hr(g,S,E,R);break;case 1:mn(g,S,E,R)}}function Ai(d,g){var S,E,R=g.M,P=g.Nb,B=d.oc,$=d.pc+40,G=d.oc,X=d.pc+584,pe=d.oc,Re=d.pc+600;for(S=0;16>S;++S)B[$+32*S-1]=129;for(S=0;8>S;++S)G[X+32*S-1]=129,pe[Re+32*S-1]=129;for(0<R?B[$-1-32]=G[X-1-32]=pe[Re-1-32]=129:(s(B,$-32-1,127,21),s(G,X-32-1,127,9),s(pe,Re-32-1,127,9)),E=0;E<d.za;++E){var J=g.ya[g.aa+E];if(0<E){for(S=-1;16>S;++S)a(B,$+32*S-4,B,$+32*S+12,4);for(S=-1;8>S;++S)a(G,X+32*S-4,G,X+32*S+4,4),a(pe,Re+32*S-4,pe,Re+32*S+4,4)}var ve=d.Gd,Le=d.Hd+E,qe=J.ad,Te=J.Hc;if(0<R&&(a(B,$-32,ve[Le].y,0,16),a(G,X-32,ve[Le].f,0,8),a(pe,Re-32,ve[Le].ea,0,8)),J.Za){var Ie=B,Ge=$-32+16;for(0<R&&(E>=d.za-1?s(Ie,Ge,ve[Le].y[15],4):a(Ie,Ge,ve[Le+1].y,0,4)),S=0;4>S;S++)Ie[Ge+128+S]=Ie[Ge+256+S]=Ie[Ge+384+S]=Ie[Ge+0+S];for(S=0;16>S;++S,Te<<=2)Ie=B,Ge=$+sr[S],Kn[J.Ob[S]](Ie,Ge),Bl(Te,qe,16*+S,Ie,Ge)}else if(Ie=Bo(E,R,J.Ob[0]),ti[Ie](B,$),Te!=0)for(S=0;16>S;++S,Te<<=2)Bl(Te,qe,16*+S,B,$+sr[S]);for(S=J.Gc,Ie=Bo(E,R,J.Dd),ua[Ie](G,X),ua[Ie](pe,Re),Te=qe,Ie=G,Ge=X,255&(J=0|S)&&(170&J?Ri(Te,256,Ie,Ge):on(Te,256,Ie,Ge)),J=pe,Te=Re,255&(S>>=8)&&(170&S?Ri(qe,320,J,Te):on(qe,320,J,Te)),R<d.Ub-1&&(a(ve[Le].y,0,B,$+480,16),a(ve[Le].f,0,G,X+224,8),a(ve[Le].ea,0,pe,Re+224,8)),S=8*P*d.B,ve=d.sa,Le=d.ta+16*E+16*P*d.R,qe=d.qa,J=d.ra+8*E+S,Te=d.Ha,Ie=d.Ia+8*E+S,S=0;16>S;++S)a(ve,Le+S*d.R,B,$+32*S,16);for(S=0;8>S;++S)a(qe,J+S*d.B,G,X+32*S,8),a(Te,Ie+S*d.B,pe,Re+32*S,8)}}function sa(d,g,S,E,R,P,B,$,G){var X=[0],pe=[0],Re=0,J=G!=null?G.kd:0,ve=G??new $e;if(d==null||12>S)return 7;ve.data=d,ve.w=g,ve.ha=S,g=[g],S=[S],ve.gb=[ve.gb];e:{var Le=g,qe=S,Te=ve.gb;if(e(d!=null),e(qe!=null),e(Te!=null),Te[0]=0,12<=qe[0]&&!n(d,Le[0],"RIFF")){if(n(d,Le[0]+8,"WEBP")){Te=3;break e}var Ie=xe(d,Le[0]+4);if(12>Ie||4294967286<Ie){Te=3;break e}if(J&&Ie>qe[0]-8){Te=7;break e}Te[0]=Ie,Le[0]+=12,qe[0]-=12}Te=0}if(Te!=0)return Te;for(Ie=0<ve.gb[0],S=S[0];;){e:{var Ge=d;qe=g,Te=S;var Qe=X,Je=pe,yt=Le=[0];if((pt=Re=[Re])[0]=0,8>Te[0])Te=7;else{if(!n(Ge,qe[0],"VP8X")){if(xe(Ge,qe[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ht=xe(Ge,qe[0]+8),Ht=1+ze(Ge,qe[0]+12);if(2147483648<=Ht*(Ge=1+ze(Ge,qe[0]+15))){Te=3;break e}yt!=null&&(yt[0]=ht),Qe!=null&&(Qe[0]=Ht),Je!=null&&(Je[0]=Ge),qe[0]+=18,Te[0]-=18,pt[0]=1}Te=0}}if(Re=Re[0],Le=Le[0],Te!=0)return Te;if(qe=!!(2&Le),!Ie&&Re)return 3;if(P!=null&&(P[0]=!!(16&Le)),B!=null&&(B[0]=qe),$!=null&&($[0]=0),B=X[0],Le=pe[0],Re&&qe&&G==null){Te=0;break}if(4>S){Te=7;break}if(Ie&&Re||!Ie&&!Re&&!n(d,g[0],"ALPH")){S=[S],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ht=d,Te=g,Ie=S;var pt=ve.gb;Qe=ve.na,Je=ve.P,yt=ve.Sa,Ht=22,e(ht!=null),e(Ie!=null),Ge=Te[0];var Zt=Ie[0];for(e(Qe!=null),e(yt!=null),Qe[0]=null,Je[0]=null,yt[0]=0;;){if(Te[0]=Ge,Ie[0]=Zt,8>Zt){Te=7;break e}var Pn=xe(ht,Ge+4);if(4294967286<Pn){Te=3;break e}var Vt=8+Pn+1&-2;if(Ht+=Vt,0<pt&&Ht>pt){Te=3;break e}if(!n(ht,Ge,"VP8 ")||!n(ht,Ge,"VP8L")){Te=0;break e}if(Zt[0]<Vt){Te=7;break e}n(ht,Ge,"ALPH")||(Qe[0]=ht,Je[0]=Ge+8,yt[0]=Pn),Ge+=Vt,Zt-=Vt}}if(S=S[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Te!=0)break}S=[S],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(pt=d,Te=g,Ie=S,Qe=ve.gb[0],Je=ve.Ja,yt=ve.xa,ht=Te[0],Ge=!n(pt,ht,"VP8 "),Ht=!n(pt,ht,"VP8L"),e(pt!=null),e(Ie!=null),e(Je!=null),e(yt!=null),8>Ie[0])Te=7;else{if(Ge||Ht){if(pt=xe(pt,ht+4),12<=Qe&&pt>Qe-12){Te=3;break e}if(J&&pt>Ie[0]-8){Te=7;break e}Je[0]=pt,Te[0]+=8,Ie[0]-=8,yt[0]=Ht}else yt[0]=5<=Ie[0]&&pt[ht+0]==47&&!(pt[ht+4]>>5),Je[0]=Ie[0];Te=0}if(S=S[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],g=g[0],Te!=0)break;if(4294967286<ve.Ja)return 3;if($==null||qe||($[0]=ve.xa?2:1),B=[B],Le=[Le],ve.xa){if(5>S){Te=7;break}$=B,J=Le,qe=P,d==null||5>S?d=0:5<=S&&d[g+0]==47&&!(d[g+4]>>5)?(Ie=[0],pt=[0],Qe=[0],ke(Je=new z,d,g,S),ya(Je,Ie,pt,Qe)?($!=null&&($[0]=Ie[0]),J!=null&&(J[0]=pt[0]),qe!=null&&(qe[0]=Qe[0]),d=1):d=0):d=0}else{if(10>S){Te=7;break}$=Le,d==null||10>S||!Zr(d,g+3,S-3)?d=0:(J=d[g+0]|d[g+1]<<8|d[g+2]<<16,qe=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=ve.Ja||!qe||!d?d=0:(B&&(B[0]=qe),$&&($[0]=d),d=1))}if(!d||(B=B[0],Le=Le[0],Re&&(X[0]!=B||pe[0]!=Le)))return 3;G!=null&&(G[0]=ve,G.offset=g-G.w,e(4294967286>g-G.w),e(G.offset==G.ha-S));break}return Te==0||Te==7&&Re&&G==null?(P!=null&&(P[0]|=ve.na!=null&&0<ve.na.length),E!=null&&(E[0]=B),R!=null&&(R[0]=Le),0):Te}function Xa(d,g,S){var E=g.width,R=g.height,P=0,B=0,$=E,G=R;if(g.Da=d!=null&&0<d.Da,g.Da&&($=d.cd,G=d.bd,P=d.v,B=d.j,11>S||(P&=-2,B&=-2),0>P||0>B||0>=$||0>=G||P+$>E||B+G>R))return 0;if(g.v=P,g.j=B,g.va=P+$,g.o=B+G,g.U=$,g.T=G,g.da=d!=null&&0<d.da,g.da){if(!we($,G,S=[d.ib],P=[d.hb]))return 0;g.ib=S[0],g.hb=P[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*E/4&&g.hb<3*R/4,g.Kb=0),1}function Il(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function oa(d,g,S,E){if(E==null||0>=d||0>=g)return 2;if(S!=null){if(S.Da){var R=S.cd,P=S.bd,B=-2&S.v,$=-2&S.j;if(0>B||0>$||0>=R||0>=P||B+R>d||$+P>g)return 2;d=R,g=P}if(S.da){if(!we(d,g,R=[S.ib],P=[S.hb]))return 2;d=R[0],g=P[0]}}E.width=d,E.height=g;e:{var G=E.width,X=E.height;if(d=E.S,0>=G||0>=X||!(d>=Ou&&13>d))d=2;else{if(0>=E.Rd&&E.sd==null){B=P=R=g=0;var pe=($=G*qu[d])*X;if(11>d||(P=(X+1)/2*(g=(G+1)/2),d==12&&(B=(R=G)*X)),(X=l(pe+2*P+B))==null){d=1;break e}E.sd=X,11>d?((G=E.f.RGBA).eb=X,G.fb=0,G.A=$,G.size=pe):((G=E.f.kb).y=X,G.O=0,G.fa=$,G.Fd=pe,G.f=X,G.N=0+pe,G.Ab=g,G.Cd=P,G.ea=X,G.W=0+pe+P,G.Db=g,G.Ed=P,d==12&&(G.F=X,G.J=0+pe+2*P),G.Tc=B,G.lb=R)}if(g=1,R=E.S,P=E.width,B=E.height,R>=Ou&&13>R)if(11>R)d=E.f.RGBA,g&=($=Math.abs(d.A))*(B-1)+P<=d.size,g&=$>=P*qu[R],g&=d.eb!=null;else{d=E.f.kb,$=(P+1)/2,pe=(B+1)/2,G=Math.abs(d.fa),X=Math.abs(d.Ab);var Re=Math.abs(d.Db),J=Math.abs(d.lb),ve=J*(B-1)+P;g&=G*(B-1)+P<=d.Fd,g&=X*(pe-1)+$<=d.Cd,g=(g&=Re*(pe-1)+$<=d.Ed)&G>=P&X>=$&Re>=$,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,R==12&&(g&=J>=P,g&=ve<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||S!=null&&S.fd&&(d=Il(E)),d}var Es=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ei=24,Ea=32,ja=8,Za=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(d){return d},W.Predictor2=function(d,g,S){return g[S+0]},W.Predictor3=function(d,g,S){return g[S+1]},W.Predictor4=function(d,g,S){return g[S-1]},W.Predictor5=function(d,g,S){return et(et(d,g[S+1]),g[S+0])},W.Predictor6=function(d,g,S){return et(d,g[S-1])},W.Predictor7=function(d,g,S){return et(d,g[S+0])},W.Predictor8=function(d,g,S){return et(g[S-1],g[S+0])},W.Predictor9=function(d,g,S){return et(g[S+0],g[S+1])},W.Predictor10=function(d,g,S){return et(et(d,g[S-1]),et(g[S+0],g[S+1]))},W.Predictor11=function(d,g,S){var E=g[S+0];return 0>=at(E>>24&255,d>>24&255,(g=g[S-1])>>24&255)+at(E>>16&255,d>>16&255,g>>16&255)+at(E>>8&255,d>>8&255,g>>8&255)+at(255&E,255&d,255&g)?E:d},W.Predictor12=function(d,g,S){var E=g[S+0];return(ut((d>>24&255)+(E>>24&255)-((g=g[S-1])>>24&255))<<24|ut((d>>16&255)+(E>>16&255)-(g>>16&255))<<16|ut((d>>8&255)+(E>>8&255)-(g>>8&255))<<8|ut((255&d)+(255&E)-(255&g)))>>>0},W.Predictor13=function(d,g,S){var E=g[S-1];return(_t((d=et(d,g[S+0]))>>24&255,E>>24&255)<<24|_t(d>>16&255,E>>16&255)<<16|_t(d>>8&255,E>>8&255)<<8|_t(255&d,255&E))>>>0};var Io=W.PredictorAdd0;W.PredictorAdd1=Ut,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var zo=W.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var ir,Lu=W.ColorIndexInverseTransform,ka=W.MapARGB,La=W.VP8LColorIndexInverseTransformAlpha,Rr=W.MapAlpha,Qa=W.VP8LPredictorsAdd=[];Qa.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var qo,Fo,es,ts,Ca,ao,Ni,ns,Hr,Ri,mn,on,Cn,ar,Ta,la,so,zl,Dc,zh,qh,Fh,Pc,Uc,oo,Mi,ql,Ei,lo=l(511),Cu=l(2041),Fl=l(225),Hl=l(767),Tu=0,rs=Cu,$l=Fl,$r=Hl,Mr=lo,Ou=0,Gr=1,Ru=2,Di=3,Gl=4,Ho=5,js=6,Vl=7,Mu=8,$o=9,Du=10,Pi=[2,3,7],Go=[3,3,11],uo=[280,256,256,256,40],Pu=[0,1,1,1,0],Wl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ui=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ks=8,Ii=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ji=null,Hh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$h=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ti=[],Kn=[],ua=[],Ls=1,Ic=2,is=[],Pr=[];oi("UpsampleRgbLinePair",io,3),oi("UpsampleBgrLinePair",Ss,3),oi("UpsampleRgbaLinePair",Na,4),oi("UpsampleBgraLinePair",Uo,4),oi("UpsampleArgbLinePair",Ns,4),oi("UpsampleRgba4444LinePair",As,2),oi("UpsampleRgb565LinePair",Or,2);var co=W.UpsampleRgbLinePair,zc=W.UpsampleBgrLinePair,Vo=W.UpsampleRgbaLinePair,Bu=W.UpsampleBgraLinePair,Cs=W.UpsampleArgbLinePair,Oa=W.UpsampleRgba4444LinePair,Ts=W.UpsampleRgb565LinePair,qi=16,Wo=1<<qi-1,ho=-227,Os=482,Iu=6,Rs=0,Ur=l(256),zu=l(256),Gh=l(256),Cd=l(256),Td=l(Os-ho),Od=l(Os-ho);Ja("YuvToRgbRow",io,3),Ja("YuvToBgrRow",Ss,3),Ja("YuvToRgbaRow",Na,4),Ja("YuvToBgraRow",Uo,4),Ja("YuvToArgbRow",Ns,4),Ja("YuvToRgba4444Row",As,2),Ja("YuvToRgb565Row",Or,2);var sr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yo=[0,2,8],Yl=[8,7,6,4,4,2,2,2,1,1,1,1],Kl=1;this.WebPDecodeRGBA=function(d,g,S,E,R){var P=Gr,B=new Ae,$=new It;B.ba=$,$.S=P,$.width=[$.width],$.height=[$.height];var G=$.width,X=$.height,pe=new it;if(pe==null||d==null)var Re=2;else e(pe!=null),Re=sa(d,g,S,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Re!=0?G=0:(G!=null&&(G[0]=pe.width[0]),X!=null&&(X[0]=pe.height[0]),G=1),G){$.width=$.width[0],$.height=$.height[0],E!=null&&(E[0]=$.width),R!=null&&(R[0]=$.height);e:{if(E=new qa,(R=new $e).data=d,R.w=g,R.ha=S,R.kd=1,g=[0],e(R!=null),((d=sa(R.data,R.w,R.ha,null,null,null,g,null,R))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e(B!=null),E.data=R.data,E.w=R.w+R.offset,E.ha=R.ha-R.offset,E.put=jt,E.ac=xn,E.bc=Xi,E.ma=B,R.xa){if((d=Ys())==null){B=1;break e}if((function(J,ve){var Le=[0],qe=[0],Te=[0];t:for(;;){if(J==null)return 0;if(ve==null)return J.a=2,0;if(J.l=ve,J.a=0,ke(J.m,ve.data,ve.w,ve.ha),!ya(J.m,Le,qe,Te)){J.a=3;break t}if(J.xb=Ic,ve.width=Le[0],ve.height=qe[0],!Zi(Le[0],qe[0],1,J,null))break t;return 1}return e(J.a!=0),0})(d,E)){if(E=(g=oa(E.width,E.height,B.Oa,B.ba))==0){t:{E=d;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((S=E.l)!=null),e((R=S.ma)!=null),E.xb!=0){if(E.ca=R.ba,E.tb=R.tb,e(E.ca!=null),!Xa(R.Oa,S,Di)){E.a=2;break n}if(!Qi(E,S.width)||S.da)break n;if((S.da||ct(E.ca.S))&&Oi(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&Oi()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!Y(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!yi(E,E.V,E.Ba,E.c,E.i,S.o,Xr))break n;R.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(g=d.a)}else g=d.a}else{if((d=new Oo)==null){B=1;break e}if(d.Fa=R.na,d.P=R.P,d.qc=R.Sa,kl(d,E)){if((g=oa(E.width,E.height,B.Oa,B.ba))==0){if(d.Aa=0,S=B.Oa,e((R=d)!=null),S!=null){if(0<(G=0>(G=S.Md)?0:100<G?255:255*G/100)){for(X=pe=0;4>X;++X)12>(Re=R.pb[X]).lc&&(Re.ia=G*Yl[0>Re.lc?0:Re.lc]>>3),pe|=Re.ia;pe&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(J,ve){if(J==null)return 0;if(ve==null)return Sn(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!kl(J,ve))return 0;if(e(J.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(J.L=0);var Le=Yo[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=ve.v-Le>>4,J.zb=ve.j-Le>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=ve.o+15+Le>>4,J.Hb=ve.va+15+Le>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var qe=J.ed;for(Le=0;4>Le;++Le){var Te;if(J.Qa.Cb){var Ie=J.Qa.Lb[Le];J.Qa.Fb||(Ie+=qe.Tb)}else Ie=qe.Tb;for(Te=0;1>=Te;++Te){var Ge=J.gd[Le][Te],Qe=Ie;if(qe.Pc&&(Qe+=qe.vd[0],Te&&(Qe+=qe.od[0])),0<(Qe=0>Qe?0:63<Qe?63:Qe)){var Je=Qe;0<qe.wb&&(Je=4<qe.wb?Je>>2:Je>>1)>9-qe.wb&&(Je=9-qe.wb),1>Je&&(Je=1),Ge.dd=Je,Ge.tc=2*Qe+Je,Ge.ld=40<=Qe?2:15<=Qe?1:0}else Ge.tc=0;Ge.La=Te}}}Le=0}else Sn(J,6,"Frame setup failed"),Le=J.a;if(Le=Le==0){if(Le){J.$c=0,0<J.Aa||(J.Ic=Kl);t:{Le=J.Ic,qe=4*(Je=J.za);var yt=32*Je,ht=Je+1,Ht=0<J.L?Je*(0<J.Aa?2:1):0,pt=(J.Aa==2?2:1)*Je;if((Ge=qe+832+(Te=3*(16*Le+Yo[J.L])/2*yt)+(Ie=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Ge)Le=0;else{if(Ge>J.Vb){if(J.Vb=0,J.Ec=l(Ge),J.Fc=0,J.Ec==null){Le=Sn(J,1,"no memory during frame initialization.");break t}J.Vb=Ge}Ge=J.Ec,Qe=J.Fc,J.Ac=Ge,J.Bc=Qe,Qe+=qe,J.Gd=u(yt,jl),J.Hd=0,J.rb=u(ht+1,na),J.sb=1,J.wa=Ht?u(Ht,bi):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=Je),e(!0),J.oc=Ge,J.pc=Qe,Qe+=832,J.ya=u(pt,Nl),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=Je),J.R=16*Je,J.B=8*Je,Je=(yt=Yo[J.L])*J.R,yt=yt/2*J.B,J.sa=Ge,J.ta=Qe+Je,J.qa=J.sa,J.ra=J.ta+16*Le*J.R+yt,J.Ha=J.qa,J.Ia=J.ra+8*Le*J.B+yt,J.$c=0,Qe+=Te,J.mb=Ie?Ge:null,J.nb=Ie?Qe:null,e(Qe+Ie<=J.Fc+J.Vb),Ha(J),s(J.Ac,J.Bc,0,qe),Le=1}}if(Le){if(ve.ka=0,ve.y=J.sa,ve.O=J.ta,ve.f=J.qa,ve.N=J.ra,ve.ea=J.Ha,ve.Vd=J.Ia,ve.fa=J.R,ve.Rc=J.B,ve.F=null,ve.J=0,!Tu){for(Le=-255;255>=Le;++Le)lo[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Cu[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)Fl[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)Hl[255+Le]=0>Le?0:255<Le?255:Le;Tu=1}Ni=Ol,ns=wu,Ri=Cl,mn=Qr,on=Tl,Hr=Ll,Cn=Nu,ar=Eu,Ta=x,la=O,so=Ka,zl=ju,Dc=Z,zh=fe,qh=to,Fh=Wa,Pc=xs,Uc=no,Kn[0]=Pl,Kn[1]=Rl,Kn[2]=_s,Kn[3]=Su,Kn[4]=Au,Kn[5]=Cr,Kn[6]=_i,Kn[7]=Ul,Kn[8]=xi,Kn[9]=Zs,ti[0]=ra,ti[1]=xu,ti[2]=Ml,ti[3]=Dl,ti[4]=ia,ti[5]=$a,ti[6]=Xs,ua[0]=Ga,ua[1]=_u,ua[2]=Qs,ua[3]=_a,ua[4]=Mo,ua[5]=Ro,ua[6]=Nr,Le=1}else Le=0}Le&&(Le=(function(Zt,Pn){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var Vt,ft=Zt.Jc[Zt.M&Zt.Xb],rt=Zt.m,Hn=Zt;for(Vt=0;Vt<Hn.za;++Vt){var Pt=rt,Kt=Hn,bn=Kt.Ac,br=Kt.Bc+4*Vt,Br=Kt.zc,Tn=Kt.ya[Kt.aa+Vt];if(Kt.Qa.Bb?Tn.$b=le(Pt,Kt.Pa.jb[0])?2+le(Pt,Kt.Pa.jb[2]):le(Pt,Kt.Pa.jb[1]):Tn.$b=0,Kt.kc&&(Tn.Ad=le(Pt,Kt.Bd)),Tn.Za=!le(Pt,145)+0,Tn.Za){var hr=Tn.Ob,Vr=0;for(Kt=0;4>Kt;++Kt){var fr,Xt=Br[0+Kt];for(fr=0;4>fr;++fr){Xt=Dr[bn[br+fr]][Xt];for(var cn=Uu[le(Pt,Xt[0])];0<cn;)cn=Uu[2*cn+le(Pt,Xt[cn])];Xt=-cn,bn[br+fr]=Xt}a(hr,Vr,bn,br,4),Vr+=4,Br[0+Kt]=Xt}}else Xt=le(Pt,156)?le(Pt,128)?1:3:le(Pt,163)?2:0,Tn.Ob[0]=Xt,s(bn,br,Xt,4),s(Br,0,Xt,4);Tn.Dd=le(Pt,142)?le(Pt,114)?le(Pt,183)?1:3:2:0}if(Hn.m.Ka)return Sn(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(Hn=ft,Pt=(rt=Zt).rb[rt.sb-1],bn=rt.rb[rt.sb+rt.ja],Vt=rt.ya[rt.aa+rt.ja],br=rt.kc?Vt.Ad:0)Pt.la=bn.la=0,Vt.Za||(Pt.Na=bn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var $n,gn;if(Pt=bn,bn=Hn,br=rt.Pa.Xc,Br=rt.ya[rt.aa+rt.ja],Tn=rt.pb[Br.$b],Kt=Br.ad,hr=0,Vr=rt.rb[rt.sb-1],Xt=fr=0,s(Kt,hr,0,384),Br.Za)var wr=0,Gn=br[3];else{cn=l(16);var hn=Pt.Na+Vr.Na;if(hn=ji(bn,br[1],hn,Tn.Eb,0,cn,0),Pt.Na=Vr.Na=(0<hn)+0,1<hn)Ni(cn,0,Kt,hr);else{var or=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Kt[hr+cn]=or}wr=1,Gn=br[0]}var wn=15&Pt.la,dr=15&Vr.la;for(cn=0;4>cn;++cn){var pr=1&dr;for(or=gn=0;4>or;++or)wn=wn>>1|(pr=(hn=ji(bn,Gn,hn=pr+(1&wn),Tn.Sc,wr,Kt,hr))>wr)<<7,gn=gn<<2|(3<hn?3:1<hn?2:Kt[hr+0]!=0),hr+=16;wn>>=4,dr=dr>>1|pr<<7,fr=(fr<<8|gn)>>>0}for(Gn=wn,wr=dr>>4,$n=0;4>$n;$n+=2){for(gn=0,wn=Pt.la>>4+$n,dr=Vr.la>>4+$n,cn=0;2>cn;++cn){for(pr=1&dr,or=0;2>or;++or)hn=pr+(1&wn),wn=wn>>1|(pr=0<(hn=ji(bn,br[2],hn,Tn.Qc,0,Kt,hr)))<<3,gn=gn<<2|(3<hn?3:1<hn?2:Kt[hr+0]!=0),hr+=16;wn>>=2,dr=dr>>1|pr<<5}Xt|=gn<<4*$n,Gn|=wn<<4<<$n,wr|=(240&dr)<<$n}Pt.la=Gn,Vr.la=wr,Br.Hc=fr,Br.Gc=Xt,Br.ia=43690&Xt?0:Tn.ia,br=!(fr|Xt)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Vt.$b][Vt.Za],rt.wa[rt.Y+rt.ja].La|=!br),Hn.Ka)return Sn(Zt,7,"Premature end-of-file encountered.")}if(Ha(Zt),rt=Pn,Hn=1,Vt=(ft=Zt).D,Pt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Vt.M=ft.M,Vt.uc=Pt,Ai(ft,Vt),Hn=1,Vt=(gn=ft.D).Nb,Pt=(Xt=Yo[ft.L])*ft.R,bn=Xt/2*ft.B,cn=16*Vt*ft.R,or=8*Vt*ft.B,br=ft.sa,Br=ft.ta-Pt+cn,Tn=ft.qa,Kt=ft.ra-bn+or,hr=ft.Ha,Vr=ft.Ia-bn+or,dr=(wn=gn.M)==0,fr=wn>=ft.Va-1,ft.Aa==2&&Ai(ft,gn),gn.uc)for(pr=(hn=ft).D.M,e(hn.D.uc),gn=hn.yb;gn<hn.Hb;++gn){wr=gn,Gn=pr;var Nn=(ln=(mr=hn).D).Nb;$n=mr.R;var ln=ln.wa[ln.Y+wr],Wr=mr.sa,Jn=mr.ta+16*Nn*$n+16*wr,Lt=ln.dd,Ot=ln.tc;if(Ot!=0)if(e(3<=Ot),mr.L==1)0<wr&&Fh(Wr,Jn,$n,Ot+4),ln.La&&Uc(Wr,Jn,$n,Ot),0<Gn&&qh(Wr,Jn,$n,Ot+4),ln.La&&Pc(Wr,Jn,$n,Ot);else{var fn=mr.B,ui=mr.qa,Fi=mr.ra+8*Nn*fn+8*wr,ni=mr.Ha,mr=mr.Ia+8*Nn*fn+8*wr;Nn=ln.ld,0<wr&&(ar(Wr,Jn,$n,Ot+4,Lt,Nn),la(ui,Fi,ni,mr,fn,Ot+4,Lt,Nn)),ln.La&&(zl(Wr,Jn,$n,Ot,Lt,Nn),zh(ui,Fi,ni,mr,fn,Ot,Lt,Nn)),0<Gn&&(Cn(Wr,Jn,$n,Ot+4,Lt,Nn),Ta(ui,Fi,ni,mr,fn,Ot+4,Lt,Nn)),ln.La&&(so(Wr,Jn,$n,Ot,Lt,Nn),Dc(ui,Fi,ni,mr,fn,Ot,Lt,Nn))}}if(ft.ia&&alert("todo:DitherRow"),rt.put!=null){if(gn=16*wn,wn=16*(wn+1),dr?(rt.y=ft.sa,rt.O=ft.ta+cn,rt.f=ft.qa,rt.N=ft.ra+or,rt.ea=ft.Ha,rt.W=ft.Ia+or):(gn-=Xt,rt.y=br,rt.O=Br,rt.f=Tn,rt.N=Kt,rt.ea=hr,rt.W=Vr),fr||(wn-=Xt),wn>rt.o&&(wn=rt.o),rt.F=null,rt.J=null,ft.Fa!=null&&0<ft.Fa.length&&gn<wn&&(rt.J=rr(ft,rt,gn,wn-gn),rt.F=ft.mb,rt.F==null&&rt.F.length==0)){Hn=Sn(ft,3,"Could not decode alpha data.");break t}gn<rt.j&&(Xt=rt.j-gn,gn=rt.j,e(!(1&Xt)),rt.O+=ft.R*Xt,rt.N+=ft.B*(Xt>>1),rt.W+=ft.B*(Xt>>1),rt.F!=null&&(rt.J+=rt.width*Xt)),gn<wn&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=gn-rt.j,rt.U=rt.va-rt.v,rt.T=wn-gn,Hn=rt.put(rt))}Vt+1!=ft.Ic||fr||(a(ft.sa,ft.ta-Pt,br,Br+16*ft.R,Pt),a(ft.qa,ft.ra-bn,Tn,Kt+8*ft.B,bn),a(ft.Ha,ft.Ia-bn,hr,Vr+8*ft.B,bn))}if(!Hn)return Sn(Zt,6,"Output aborted.")}return 1})(J,ve)),ve.bc!=null&&ve.bc(ve),Le&=1}return Le?(J.cb=0,Le):0})(d,E)||(g=d.a)}}else g=d.a}g==0&&B.Oa!=null&&B.Oa.fd&&(g=Il(B.ba))}B=g}P=B!=0?null:11>P?$.f.RGBA.eb:$.f.kb.y}else P=null;return P};var qu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(W,be){for(var I="",V=0;V<4;V++)I+=String.fromCharCode(W[be++]);return I}function y(W,be){return W[be+0]|W[be+1]<<8}function _(W,be){return(W[be+0]|W[be+1]<<8|W[be+2]<<16)>>>0}function A(W,be){return(W[be+0]|W[be+1]<<8|W[be+2]<<16|W[be+3]<<24)>>>0}new f;var w=[0],k=[0],N=[],T=new f,L=r,D=(function(W,be){var I={},V=0,ie=!1,re=0,Ce=0;if(I.frames=[],!(function(j,z){for(var H=0;H<4;H++)if(j[z+H]!="RIFF".charCodeAt(H))return!0;return!1})(W,be)){for(A(W,be+=4),be+=8;be<W.length;){var Q=p(W,be),he=A(W,be+=4);be+=4;var de=he+(1&he);switch(Q){case"VP8 ":case"VP8L":I.frames[V]===void 0&&(I.frames[V]={}),(M=I.frames[V]).src_off=ie?Ce:be-8,M.src_size=re+he+8,V++,ie&&(ie=!1,re=0,Ce=0);break;case"VP8X":(M=I.header={}).feature_flags=W[be];var ke=be+4;M.canvas_width=1+_(W,ke),ke+=3,M.canvas_height=1+_(W,ke),ke+=3;break;case"ALPH":ie=!0,re=de+8,Ce=be-8;break;case"ANIM":(M=I.header).bgcolor=A(W,be),ke=be+4,M.loop_count=y(W,ke),ke+=2;break;case"ANMF":var Se,M;(M=I.frames[V]={}).offset_x=2*_(W,be),be+=3,M.offset_y=2*_(W,be),be+=3,M.width=1+_(W,be),be+=3,M.height=1+_(W,be),be+=3,M.duration=_(W,be),be+=3,Se=W[be++],M.dispose=1&Se,M.blend=Se>>1&1}Q!="ANMF"&&(be+=de)}return I}})(L,0);D.response=L,D.rgbaoutput=!0,D.dataurl=!1;var U=D.header?D.header:null,F=D.frames?D.frames:null;if(U){U.loop_counter=U.loop_count,w=[U.canvas_height],k=[U.canvas_width];for(var ae=0;ae<F.length&&F[ae].blend!=0;ae++);}var ye=F[0],ce=T.WebPDecodeRGBA(L,ye.src_off,ye.src_size,k,w);ye.rgba=ce,ye.imgwidth=k[0],ye.imgheight=w[0];for(var se=0;se<k[0]*w[0]*4;se++)N[se]=ce[se];return this.width=k,this.height=w,this.data=N,this}(function(r){var e,n,a,s,l,u,h,f,p,y=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new u,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new u,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,p=new y}]);var _=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=j;Object.defineProperty(this,"pdf",{get:function(){return z}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(xe){H=!!xe}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(xe){te=!!xe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(xe){isNaN(xe)||(ne=xe)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(xe){isNaN(xe)||(ee=xe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(xe){var Y;typeof xe=="number"?Y=[xe,xe,xe,xe]:((Y=new Array(4))[0]=xe[0],Y[1]=xe.length>=2?xe[1]:Y[0],Y[2]=xe.length>=3?xe[2]:Y[0],Y[3]=xe.length>=4?xe[3]:Y[1]),p.margin=Y}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(xe){oe=xe}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(xe){me=xe}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(xe){le=xe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(xe){xe instanceof y&&(p=xe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(xe){p.path=xe}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(xe){_e=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var Y;Y=A(xe),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var Y=A(xe);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var Ue=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(xe){Ue=null,ze=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var Y;if(this.ctx.font=xe,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var wt=Y[1];Y[2];var lt=Y[3],we=Y[4];Y[5];var je=Y[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(Ye==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var We=(function(ot){var mt,Fe,Ee=[],Oe=ot.trim();if(Oe==="")return C0;if(Oe in o5)return[o5[Oe]];for(;Oe!=="";){switch(Fe=null,mt=(Oe=u5(Oe)).charAt(0)){case'"':case"'":Fe=VN(Oe.substring(1),mt);break;default:Fe=WN(Oe)}if(Fe===null||(Ee.push(Fe[0]),(Oe=u5(Fe[1]))!==""&&Oe.charAt(0)!==","))return C0;Oe=Oe.replace(/^,/,"")}return Ee})(je);if(this.fontFaces){var nt=(function(ot,mt){if(Ue===null){var Fe=(function(Ee){var Oe=[];return Object.keys(Ee).forEach(function(Xe){Ee[Xe].forEach(function(tt){var st=null;switch(tt){case"bold":st={family:Xe,weight:"bold"};break;case"italic":st={family:Xe,style:"italic"};break;case"bolditalic":st={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":st={family:Xe}}st!==null&&(st.ref={name:Xe,style:tt},Oe.push(st))})}),Oe})(ot.getFontList());Ue=(function(Ee){for(var Oe={},Xe=0;Xe<Ee.length;++Xe){var tt=L0(Ee[Xe]),st=tt.family,St=tt.stretch,ct=tt.style,Tt=tt.weight;Oe[st]=Oe[st]||{},Oe[st][St]=Oe[st][St]||{},Oe[st][St][ct]=Oe[st][St][ct]||{},Oe[st][St][ct][Tt]=tt}return Oe})(Fe.concat(mt))}return Ue})(this.pdf,this.fontFaces),et=We.map(function(ot){return{family:ot,stretch:"normal",weight:lt,style:wt}}),ut=(function(ot,mt,Fe){for(var Ee=(Fe=Fe||{}).defaultFontFamily||"times",Oe=Object.assign({},GN,Fe.genericFontFamilies||{}),Xe=null,tt=null,st=0;st<mt.length;++st)if(Oe[(Xe=L0(mt[st])).family]&&(Xe.family=Oe[Xe.family]),ot.hasOwnProperty(Xe.family)){tt=ot[Xe.family];break}if(!(tt=tt||ot[Ee]))throw new Error("Could not find a font-family for the rule '"+l5(Xe)+"' and default family '"+Ee+"'.");if(tt=(function(St,ct){if(ct[St])return ct[St];var Tt=cm[St],sn=Tt<=cm.normal?-1:1,It=s5(ct,Lb,Tt,sn);if(!It)throw new Error("Could not find a matching font-stretch value for "+St);return It})(Xe.stretch,tt),tt=(function(St,ct){if(ct[St])return ct[St];for(var Tt=kb[St],sn=0;sn<Tt.length;++sn)if(ct[Tt[sn]])return ct[Tt[sn]];throw new Error("Could not find a matching font-style for "+St)})(Xe.style,tt),!(tt=(function(St,ct){if(ct[St])return ct[St];if(St===400&&ct[500])return ct[500];if(St===500&&ct[400])return ct[400];var Tt=$N[St],sn=s5(ct,Cb,Tt,St<400?-1:1);if(!sn)throw new Error("Could not find a matching font-weight for value "+St);return sn})(Xe.weight,tt)))throw new Error("Failed to resolve a font for the rule '"+l5(Xe)+"'.");return tt})(nt,et);this.pdf.setFont(ut.ref.name,ut.ref.style)}else{var _t="";(lt==="bold"||parseInt(lt,10)>=700||wt==="bold")&&(_t="bold"),wt==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var at="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<We.length;xt++){if(this.pdf.internal.getFont(We[xt],_t,{noFallback:!0,disableWarning:!0})!==void 0){at=We[xt];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(We[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=We[xt],_t="bold";else if(this.pdf.internal.getFont(We[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=We[xt],_t="normal";break}}if(at===""){for(var dt=0;dt<We.length;dt++)if(Ut[We[dt]]){at=Ut[We[dt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};_.prototype.setLineDash=function(j){this.lineDash=j},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){F.call(this,"fill",!1)},_.prototype.stroke=function(){F.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(j,z){if(isNaN(j)||isNaN(z))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new u(j,z)},_.prototype.closePath=function(){var j=new u(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&kn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){j=new u(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(j.x,j.y)},_.prototype.lineTo=function(j,z){if(isNaN(j)||isNaN(z))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new u(H.x,H.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},_.prototype.quadraticCurveTo=function(j,z,H,te){if(isNaN(H)||isNaN(te)||isNaN(j)||isNaN(z))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new u(H,te)),ee=this.ctx.transform.applyToPoint(new u(j,z));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new u(ne.x,ne.y)},_.prototype.bezierCurveTo=function(j,z,H,te,ne,ee){if(isNaN(ne)||isNaN(ee)||isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new u(ne,ee)),me=this.ctx.transform.applyToPoint(new u(j,z)),le=this.ctx.transform.applyToPoint(new u(H,te));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:le.x,y2:le.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new u(oe.x,oe.y)},_.prototype.arc=function(j,z,H,te,ne,ee){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te)||isNaN(ne))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new u(j,z));j=oe.x,z=oe.y;var me=this.ctx.transform.applyToPoint(new u(0,H)),le=this.ctx.transform.applyToPoint(new u(0,0));H=Math.sqrt(Math.pow(me.x-le.x,2)+Math.pow(me.y-le.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:j,y:z,radius:H,startAngle:te,endAngle:ne,counterclockwise:ee})},_.prototype.arcTo=function(j,z,H,te,ne){throw new Error("arcTo not implemented.")},_.prototype.rect=function(j,z,H,te){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,z),this.lineTo(j+H,z),this.lineTo(j+H,z+te),this.lineTo(j,z+te),this.lineTo(j,z),this.lineTo(j+H,z),this.lineTo(j,z)},_.prototype.fillRect=function(j,z,H,te){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,z,H,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},_.prototype.strokeRect=function(j,z,H,te){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(j,z,H,te),this.stroke())},_.prototype.clearRect=function(j,z,H,te){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,z,H,te))},_.prototype.save=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},_.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(z),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(j){var z,H,te,ne;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))z=0,H=0,te=0,ne=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ee!==null)z=parseInt(ee[1]),H=parseInt(ee[2]),te=parseInt(ee[3]),ne=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)z=parseInt(ee[1]),H=parseInt(ee[2]),te=parseInt(ee[3]),ne=parseFloat(ee[4]);else{if(ne=1,typeof j=="string"&&j.charAt(0)!=="#"){var oe=new _b(j);j=oe.ok?oe.toHex():"#000000"}j.length===4?(z=j.substring(1,2),z+=z,H=j.substring(2,3),H+=H,te=j.substring(3,4),te+=te):(z=j.substring(1,3),H=j.substring(3,5),te=j.substring(5,7)),z=parseInt(z,16),H=parseInt(H,16),te=parseInt(te,16)}}return{r:z,g:H,b:te,a:ne,style:j}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(j,z,H,te){if(isNaN(z)||isNaN(H)||typeof j!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!w.call(this)){var ne=de(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;V.call(this,{text:j,x:z,y:H,scale:ee,angle:ne,align:this.textAlign,maxWidth:te})}},_.prototype.strokeText=function(j,z,H,te){if(isNaN(z)||isNaN(H)||typeof j!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){te=isNaN(te)?void 0:te;var ne=de(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;V.call(this,{text:j,x:z,y:H,scale:ee,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},_.prototype.measureText=function(j){if(typeof j!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,H=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ne=z.getStringUnitWidth(j)*te/z.internal.scaleFactor;return new function(ee){var oe=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:ne*=Math.round(96*H/72*1e4)/1e4})},_.prototype.scale=function(j,z){if(isNaN(j)||isNaN(z))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new f(j,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},_.prototype.rotate=function(j){if(isNaN(j))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},_.prototype.translate=function(j,z){if(isNaN(j)||isNaN(z))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new f(1,0,0,1,j,z);this.ctx.transform=this.ctx.transform.multiply(H)},_.prototype.transform=function(j,z,H,te,ne,ee){if(isNaN(j)||isNaN(z)||isNaN(H)||isNaN(te)||isNaN(ne)||isNaN(ee))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new f(j,z,H,te,ne,ee);this.ctx.transform=this.ctx.transform.multiply(oe)},_.prototype.setTransform=function(j,z,H,te,ne,ee){j=isNaN(j)?1:j,z=isNaN(z)?0:z,H=isNaN(H)?0:H,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,ee=isNaN(ee)?0:ee,this.ctx.transform=new f(j,z,H,te,ne,ee)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(j,z,H,te,ne,ee,oe,me,le){var _e=this.pdf.getImageProperties(j),Ue=1,ze=1,xe=1,Y=1;te!==void 0&&me!==void 0&&(xe=me/te,Y=le/ne,Ue=_e.width/te*me/te,ze=_e.height/ne*le/ne),ee===void 0&&(ee=z,oe=H,z=0,H=0),te!==void 0&&me===void 0&&(me=te,le=ne),te===void 0&&me===void 0&&(me=_e.width,le=_e.height);for(var wt,lt=this.ctx.transform.decompose(),we=de(lt.rotate.shx),je=new f,Ye=(je=(je=(je=je.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new h(ee-z*xe,oe-H*Y,te*Ue,ne*ze)),We=T.call(this,Ye),nt=[],et=0;et<We.length;et+=1)nt.indexOf(We[et])===-1&&nt.push(We[et]);if(U(nt),this.autoPaging)for(var ut=nt[0],_t=nt[nt.length-1],at=ut;at<_t+1;at++){this.pdf.setPage(at);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=at===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=at===1?0:dt+(at-2)*ot;if(this.ctx.clip_path.length!==0){var Fe=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(wt,this.posX+this.margin[3],-mt+xt+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=Fe}var Ee=JSON.parse(JSON.stringify(Ye));Ee=D([Ee],this.posX+this.margin[3],-mt+xt+this.ctx.prevPageLastElemOffset)[0];var Oe=(at>ut||at<_t)&&N.call(this);Oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,ot,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,we),Oe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,we)};var T=function(j,z,H){var te=[];z=z||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+ne)/H)+1);break;case"arc":te.push(Math.floor((j.y+ne-j.radius)/H)+1),te.push(Math.floor((j.y+ne+j.radius)/H)+1);break;case"qct":var ee=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((ee.y+ne)/H)+1),te.push(Math.floor((ee.y+ee.h+ne)/H)+1);break;case"bct":var oe=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((oe.y+ne)/H)+1),te.push(Math.floor((oe.y+oe.h+ne)/H)+1);break;case"rect":te.push(Math.floor((j.y+ne)/H)+1),te.push(Math.floor((j.y+j.h+ne)/H)+1)}for(var me=0;me<te.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<te[me];)L.call(this);return te},L=function(){var j=this.fillStyle,z=this.strokeStyle,H=this.font,te=this.lineCap,ne=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=z,this.font=H,this.lineCap=te,this.lineWidth=ne,this.lineJoin=ee},D=function(j,z,H){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=z,j[te].y2+=H;case"qct":j[te].x1+=z,j[te].y1+=H;default:j[te].x+=z,j[te].y+=H}return j},U=function(j){return j.sort(function(z,H){return z-H})},F=function(j,z){for(var H,te,ne=this.fillStyle,ee=this.strokeStyle,oe=this.lineCap,me=this.lineWidth,le=Math.abs(me*this.ctx.transform.scaleX),_e=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),xe=[],Y=0;Y<ze.length;Y++)if(ze[Y].x!==void 0)for(var wt=T.call(this,ze[Y]),lt=0;lt<wt.length;lt+=1)xe.indexOf(wt[lt])===-1&&xe.push(wt[lt]);for(var we=0;we<xe.length;we++)for(;this.pdf.internal.getNumberOfPages()<xe[we];)L.call(this);if(U(xe),this.autoPaging)for(var je=xe[0],Ye=xe[xe.length-1],We=je;We<Ye+1;We++){this.pdf.setPage(We),this.fillStyle=ne,this.strokeStyle=ee,this.lineCap=oe,this.lineWidth=le,this.lineJoin=_e;var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=We===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=We===1?0:ut+(We-2)*_t;if(this.ctx.clip_path.length!==0){var Ut=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(H,this.posX+this.margin[3],-at+et+this.ctx.prevPageLastElemOffset),ae.call(this,j,!0),this.path=Ut}if(te=JSON.parse(JSON.stringify(Ue)),this.path=D(te,this.posX+this.margin[3],-at+et+this.ctx.prevPageLastElemOffset),z===!1||We===0){var xt=(We>je||We<Ye)&&N.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,_t,null).clip().discardPath()),ae.call(this,j,z),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=le,ae.call(this,j,z),this.lineWidth=me;this.path=Ue},ae=function(j,z){if((j!=="stroke"||z||!k.call(this))&&(j==="stroke"||z||!w.call(this))){for(var H,te,ne=[],ee=this.path,oe=0;oe<ee.length;oe++){var me=ee[oe];switch(me.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:me,deltas:[],abs:[]});break;case"lt":var le=ne.length;if(ee[oe-1]&&!isNaN(ee[oe-1].x)&&(H=[me.x-ee[oe-1].x,me.y-ee[oe-1].y],le>0)){for(;le>=0;le--)if(ne[le-1].close!==!0&&ne[le-1].begin!==!0){ne[le-1].deltas.push(H),ne[le-1].abs.push(me);break}}break;case"bct":H=[me.x1-ee[oe-1].x,me.y1-ee[oe-1].y,me.x2-ee[oe-1].x,me.y2-ee[oe-1].y,me.x-ee[oe-1].x,me.y-ee[oe-1].y],ne[ne.length-1].deltas.push(H);break;case"qct":var _e=ee[oe-1].x+2/3*(me.x1-ee[oe-1].x),Ue=ee[oe-1].y+2/3*(me.y1-ee[oe-1].y),ze=me.x+2/3*(me.x1-me.x),xe=me.y+2/3*(me.y1-me.y),Y=me.x,wt=me.y;H=[_e-ee[oe-1].x,Ue-ee[oe-1].y,ze-ee[oe-1].x,xe-ee[oe-1].y,Y-ee[oe-1].x,wt-ee[oe-1].y],ne[ne.length-1].deltas.push(H);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(me)}}te=z?null:j==="stroke"?"stroke":"fill";for(var lt=!1,we=0;we<ne.length;we++)if(ne[we].arc)for(var je=ne[we].abs,Ye=0;Ye<je.length;Ye++){var We=je[Ye];We.type==="arc"?se.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,z,!lt):ie.call(this,We.x,We.y),lt=!0}else if(ne[we].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ne[we].begin!==!0){var nt=ne[we].start.x,et=ne[we].start.y;re.call(this,ne[we].deltas,nt,et),lt=!0}te&&W.call(this,te),z&&be.call(this)}},ye=function(j){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-H;case"top":return j+z-H;case"hanging":return j+z-2*H;case"middle":return j+z/2-H;default:return j}},ce=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(z,H){this.colorStops.push([z,H])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(j,z,H,te,ne,ee,oe,me,le){for(var _e=Q.call(this,H,te,ne,ee),Ue=0;Ue<_e.length;Ue++){var ze=_e[Ue];Ue===0&&(le?I.call(this,ze.x1+j,ze.y1+z):ie.call(this,ze.x1+j,ze.y1+z)),Ce.call(this,j,z,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}me?be.call(this):W.call(this,oe)},W=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},be=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,z){this.pdf.internal.out(n(j)+" "+a(z)+" m")},V=function(j){var z;switch(j.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var H=this.pdf.getTextDimensions(j.text),te=ye.call(this,j.y),ne=ce.call(this,te)-H.h,ee=this.ctx.transform.applyToPoint(new u(j.x,te)),oe=this.ctx.transform.decompose(),me=new f;me=(me=(me=me.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var le,_e,Ue,ze=this.ctx.transform.applyToRectangle(new h(j.x,te,H.w,H.h)),xe=me.applyToRectangle(new h(j.x,ne,H.w,H.h)),Y=T.call(this,xe),wt=[],lt=0;lt<Y.length;lt+=1)wt.indexOf(Y[lt])===-1&&wt.push(Y[lt]);if(U(wt),this.autoPaging)for(var we=wt[0],je=wt[wt.length-1],Ye=we;Ye<je+1;Ye++){this.pdf.setPage(Ye);var We=Ye===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ut=et-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],at=_t-this.margin[3],Ut=Ye===1?0:nt+(Ye-2)*ut;if(this.ctx.clip_path.length!==0){var xt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(le,this.posX+this.margin[3],-1*Ut+We),ae.call(this,"fill",!0),this.path=xt}var dt=D([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Ut+We+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),Ue=this.lineWidth,this.lineWidth=Ue*j.scale);var ot=this.autoPaging!=="text";if(ot||dt.y+dt.h<=et){if(ot||dt.y>=We&&dt.x<=_t){var mt=ot?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||_t-dt.x)[0],Fe=D([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ut+We+this.ctx.prevPageLastElemOffset)[0],Ee=ot&&(Ye>we||Ye<je)&&N.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,ut,null).clip().discardPath()),this.pdf.text(mt,Fe.x,Fe.y,{angle:j.angle,align:z,renderingMode:j.renderingMode}),Ee&&this.pdf.restoreGraphicsState()}}else dt.y<et&&(this.ctx.prevPageLastElemOffset+=et-dt.y);j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Ue)}else j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),Ue=this.lineWidth,this.lineWidth=Ue*j.scale),this.pdf.text(j.text,ee.x+this.posX,ee.y+this.posY,{angle:j.angle,align:z,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Ue)},ie=function(j,z,H,te){H=H||0,te=te||0,this.pdf.internal.out(n(j+H)+" "+a(z+te)+" l")},re=function(j,z,H){return this.pdf.lines(j,z,H,null,null)},Ce=function(j,z,H,te,ne,ee,oe,me){this.pdf.internal.out([e(s(H+j)),e(l(te+z)),e(s(ne+j)),e(l(ee+z)),e(s(oe+j)),e(l(me+z)),"c"].join(" "))},Q=function(j,z,H,te){for(var ne=2*Math.PI,ee=Math.PI/2;z>H;)z-=ne;var oe=Math.abs(H-z);oe<ne&&te&&(oe=ne-oe);for(var me=[],le=te?-1:1,_e=z;oe>1e-5;){var Ue=_e+le*Math.min(oe,ee);me.push(he.call(this,j,_e,Ue)),oe-=Math.abs(Ue-_e),_e=Ue}return me},he=function(j,z,H){var te=(H-z)/2,ne=j*Math.cos(te),ee=j*Math.sin(te),oe=ne,me=-ee,le=oe*oe+me*me,_e=le+oe*ne+me*ee,Ue=4/3*(Math.sqrt(2*le*_e)-_e)/(oe*ee-me*ne),ze=oe-Ue*me,xe=me+Ue*oe,Y=ze,wt=-xe,lt=te+z,we=Math.cos(lt),je=Math.sin(lt);return{x1:j*Math.cos(z),y1:j*Math.sin(z),x2:ze*we-xe*je,y2:ze*je+xe*we,x3:Y*we-wt*je,y3:Y*je+wt*we,x4:j*Math.cos(H),y4:j*Math.sin(H)}},de=function(j){return 180*j/Math.PI},ke=function(j,z,H,te,ne,ee){var oe=j+.5*(H-j),me=z+.5*(te-z),le=ne+.5*(H-ne),_e=ee+.5*(te-ee),Ue=Math.min(j,ne,oe,le),ze=Math.max(j,ne,oe,le),xe=Math.min(z,ee,me,_e),Y=Math.max(z,ee,me,_e);return new h(Ue,xe,ze-Ue,Y-xe)},Se=function(j,z,H,te,ne,ee,oe,me){var le,_e,Ue,ze,xe,Y,wt,lt,we,je,Ye,We,nt,et,ut=H-j,_t=te-z,at=ne-H,Ut=ee-te,xt=oe-ne,dt=me-ee;for(_e=0;_e<41;_e++)we=(wt=(Ue=j+(le=_e/40)*ut)+le*((xe=H+le*at)-Ue))+le*(xe+le*(ne+le*xt-xe)-wt),je=(lt=(ze=z+le*_t)+le*((Y=te+le*Ut)-ze))+le*(Y+le*(ee+le*dt-Y)-lt),_e==0?(Ye=we,We=je,nt=we,et=je):(Ye=Math.min(Ye,we),We=Math.min(We,je),nt=Math.max(nt,we),et=Math.max(et,je));return new h(Math.round(Ye),Math.round(We),Math.round(nt-Ye),Math.round(et-We))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,z,H=(j=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:z}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(kt.API),(function(r){var e=function(u){var h,f,p,y,_,A,w,k,N,T;for(f=[],p=0,y=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;y>p;p+=4)(_=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(A=(_=((_=((_=((_=(_-(T=_%85))/85)-(N=_%85))/85)-(k=_%85))/85)-(w=_%85))/85)%85,f.push(A+33,w+33,k+33,N+33,T+33)):f.push(122);return(function(L,D){for(var U=D;U>0;U--)L.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},n=function(u){var h,f,p,y,_,A=String,w="length",k=255,N="charCodeAt",T="slice",L="replace";for(u[T](-2),u=u[T](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),p=[],y=0,_=(u+=h="uuuuu"[T](u[w]%5||5))[w];_>y;y+=5)f=52200625*(u[N](y)-33)+614125*(u[N](y+1)-33)+7225*(u[N](y+2)-33)+85*(u[N](y+3)-33)+(u[N](y+4)-33),p.push(k&f>>24,k&f>>16,k&f>>8,k&f);return(function(D,U){for(var F=U;F>0;F--)D.pop()})(p,h[w]),A.fromCharCode.apply(A,p)},a=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",p=0;p<u.length;p+=2)f+=String.fromCharCode("0x"+(u[p]+u[p+1]));return f},l=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=rm(h)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};r.processDataByFilters=function(u,h){var f=0,p=u||"",y=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=s(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=a(p),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=l(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}})(kt.API),(function(r){r.loadFile=function(e,n,a){return(function(s,l,u){l=l!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,p,y){var _=new XMLHttpRequest,A=0,w=function(k){var N=k.length,T=[],L=String.fromCharCode;for(A=0;A<N;A+=1)T.push(L(255&k.charCodeAt(A)));return T.join("")};if(_.open("GET",f,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?y(w(this.responseText)):y(void 0)}),_.send(null),p&&_.status===200)return w(_.responseText)})(s,l,u)}catch{}return h})(e,n,a)},r.loadImageFile=r.loadFile})(kt.API),(function(r){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):h0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function n(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):h0(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var a=function(h){var f=kn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var p=document.createElement(h);for(var y in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[y]=f.style[y];return p},l=function h(f,p){for(var y=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||y.appendChild(h(_,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(y.width=f.width,y.height=f.height,y.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(y.value=f.value),y.addEventListener("load",function(){y.scrollTop=f.scrollTop,y.scrollLeft=f.scrollLeft},!0)),y},u=function h(f){var p=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),y=h.convert(Promise.resolve(),p);return(y=y.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(p){switch(a(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:h,dompurify:p})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var p=this.opt.jsPDF,y=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var w=0;w<y.length;++w){var k=y[w],N=k.src.find(function(T){return T.format==="truetype"});N&&p.addFont(N.url,k.ref.name,k.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,p.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(a(h)!=="object")return this;var f=Object.keys(h||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=h[p]};switch(p){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[p]=h[p]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var p=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(p):p})},u.prototype.setMargin=function(h){return this.then(function(){switch(a(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(h=h||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,p,y){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,p,y){return this.setProgress(h?this.progress.val+h:null,f||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(h,f){var p=this;return this.thenCore(h,f,function(y,_){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(A){return p.updateProgress(null,y),A}).then(y,_).then(function(A){return p.updateProgress(1),A})})},u.prototype.thenCore=function(h,f,p){p=p||Promise.prototype.then;var y=this;h&&(h=h.bind(y)),f&&(f=f.bind(y));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),A=p.call(_,h,f);return u.convert(A,y.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(p){f=f.thenCore(p)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,kt.getPageSize=function(h,f,p){if(kn(h)==="object"){var y=h;h=y.orientation,f=y.unit||f,p=y.format||p}f=f||"mm",p=p||"a4",h=(""+(h||"P")).toLowerCase();var _,A=(""+p).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+f}var k,N=0,T=0;if(w.hasOwnProperty(A))N=w[A][1]/_,T=w[A][0]/_;else try{N=p[1],T=p[0]}catch{throw new Error("Invalid format: "+p)}if(h==="p"||h==="portrait")h="p",T>N&&(k=T,T=N,N=k);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",N>T&&(k=T,T=N,N=k)}return{width:T,height:N,unit:f,k:_,orientation:h}},r.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(L0):null;var p=new u(f);return f.worker?p:p.from(h).doCallback()}})(kt.API),kt.API.addJS=function(r){return h5=r,this.internal.events.subscribe("postPutResources",function(){td=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(td+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){td!==void 0&&c5!==void 0&&this.internal.out("/Names <</JavaScript "+td+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),l=0;l<s.length;l++){var u=s[l],h=a.exec(u);if(h!=null){var f=h[1];n.internal.newObjectDeferredBegin(f,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(l=0;l<p;l++){var _=n.internal.newObject();y.push(_);var A=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var w=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<y.length;l++)n.internal.write("(page_"+(l+1)+")"+y[l]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+w+" 0 R"),n.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,l){var u={title:s,options:l,children:[]};return a==null&&(a=this.root),a.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var u=a.children[l];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var p=0;p<a.children.length;p++)this.renderItems(a.children[p])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var l=0;l<s.children.length;l++)a.count++,this.count_r(a,s.children[l]);return a.count}}])})(kt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(n,a,s,l,u,h){var f,p=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,f=(function(_){for(var A,w=256*_.charCodeAt(4)+_.charCodeAt(5),k=_.length,N={width:0,height:0,numcomponents:1},T=4;T<k;T+=2){if(T+=w,e.indexOf(_.charCodeAt(T+1))!==-1){A=256*_.charCodeAt(T+5)+_.charCodeAt(T+6),N={width:256*_.charCodeAt(T+7)+_.charCodeAt(T+8),height:A,numcomponents:_.charCodeAt(T+9)};break}w=256*_.charCodeAt(T+2)+_.charCodeAt(T+3)}return N})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}y={data:n,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:p,index:a,alias:s}}return y}})(kt.API),kt.API.processPNG=function(r,e,n,a){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,l=CN(r,{checkCrc:!0}),u=l.width,h=l.height,f=l.channels,p=l.palette,y=l.depth;s=p&&f===1?(function(se){for(var W=se.width,be=se.height,I=se.data,V=se.palette,ie=se.depth,re=!1,Ce=[],Q=[],he=void 0,de=!1,ke=0,Se=0;Se<V.length;Se++){var M=mv(V[Se],4),j=M[0],z=M[1],H=M[2],te=M[3];Ce.push(j,z,H),te!=null&&(te===0?(ke++,Q.length<1&&Q.push(Se)):te<255&&(de=!0))}if(de||ke>1){re=!0,Q=void 0;var ne=W*be;he=new Uint8Array(ne);for(var ee=new DataView(I.buffer),oe=0;oe<ne;oe++){var me=T0(ee,oe,ie),le=mv(V[me],4)[3];he[oe]=le}}else ke===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:re?8:void 0,colorBytes:I,alphaBytes:he,needSMask:re,palette:Ce,mask:Q}})(l):f===2||f===4?(function(se){for(var W=se.data,be=se.width,I=se.height,V=se.channels,ie=se.depth,re=V===2?"DeviceGray":"DeviceRGB",Ce=V-1,Q=be*I,he=Ce,de=Q*he,ke=1*Q,Se=Math.ceil(de*ie/8),M=Math.ceil(ke*ie/8),j=new Uint8Array(Se),z=new Uint8Array(M),H=new DataView(W.buffer),te=new DataView(j.buffer),ne=new DataView(z.buffer),ee=!1,oe=0;oe<Q;oe++){for(var me=oe*V,le=0;le<he;le++)w5(te,T0(H,me+le,ie),oe*he+le,ie);var _e=T0(H,me+he,ie);_e<(1<<ie)-1&&(ee=!0),w5(ne,_e,1*oe,ie)}return{colorSpace:re,colorsPerPixel:Ce,sMaskBitsPerComponent:ee?ie:void 0,colorBytes:j,alphaBytes:z,needSMask:ee}})(l):(function(se){var W=se.data,be=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:be,colorsPerPixel:be==="DeviceGray"?1:3,colorBytes:W instanceof Uint16Array?(function(I){for(var V=I.length,ie=new Uint8Array(2*V),re=new DataView(ie.buffer,ie.byteOffset,ie.byteLength),Ce=0;Ce<V;Ce++)re.setUint16(2*Ce,I[Ce],!1);return ie})(W):W,needSMask:!1}})(l);var _,A,w,k=s,N=k.colorSpace,T=k.colorsPerPixel,L=k.sMaskBitsPerComponent,D=k.colorBytes,U=k.alphaBytes,F=k.needSMask,ae=k.palette,ye=k.mask,ce=null;return a!==kt.API.image_compression.NONE&&typeof rm=="function"?(ce=(function(se){var W;switch(se){case kt.API.image_compression.FAST:W=11;break;case kt.API.image_compression.MEDIUM:W=13;break;case kt.API.image_compression.SLOW:W=14;break;default:W=12}return W})(a),_=this.decode.FLATE_DECODE,A="/Predictor ".concat(ce," /Colors ").concat(T," /BitsPerComponent ").concat(y," /Columns ").concat(u),r=m5(D,Math.ceil(u*T*y/8),T,y,a),F&&(w=m5(U,Math.ceil(u*L/8),1,L,a))):(_=void 0,A=void 0,r=D,F&&(w=U)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:n,data:r,index:e,filter:_,decodeParameters:A,transparency:ye,palette:ae,sMask:w,predictor:ce,width:u,height:h,bitsPerComponent:y,sMaskBitsPerComponent:L,colorSpace:N}}},(function(r){r.processGIF89A=function(e,n,a,s){var l=new XN(e),u=l.width,h=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:u,height:h},y=new O0(100).encode(p,100);return r.processJPEG.call(this,y,n,a,s)},r.processGIF87A=r.processGIF89A})(kt.API),hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:a,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hs.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(n){Bn.log("bit decode error:"+n)}},hs.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),n=e%4;for(r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var l=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[l>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}n!==0&&(this.pos+=4-n)}},hs.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<r;s++){var l=this.datav.getUint8(this.pos++,!0),u=a*this.width*4+2*s*4,h=l>>4,f=15&l,p=this.palette[h];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*s+1>=this.width)break;p=this.palette[f],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},hs.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*a;if(s<this.palette.length){var u=this.palette[s];this.data[l]=u.red,this.data[l+1]=u.green,this.data[l+2]=u.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}r!==0&&(this.pos+=4-r)}},hs.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&e)/e*255|0,f=(l>>10&e)/e*255|0,p=l>>15?255:0,y=a*this.width*4+4*s;this.data[y]=f,this.data[y+1]=h,this.data[y+2]=u,this.data[y+3]=p}this.pos+=r}},hs.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,f=(u>>5&n)/n*255|0,p=(u>>11)/e*255|0,y=s*this.width*4+4*l;this.data[y]=p,this.data[y+1]=f,this.data[y+2]=h,this.data[y+3]=255}this.pos+=r}},hs.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*n;this.data[u]=l,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=255}this.pos+=this.width%4}},hs.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*n;this.data[h]=l,this.data[h+1]=s,this.data[h+2]=a,this.data[h+3]=u}},hs.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,n,a,s){var l=new hs(e,!1),u=l.width,h=l.height,f={data:l.getData(),width:u,height:h},p=new O0(100).encode(f,100);return r.processJPEG.call(this,p,n,a,s)}})(kt.API),x5.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,n,a,s){var l=new x5(e),u=l.width,h=l.height,f={data:l.getData(),width:u,height:h},p=new O0(100).encode(f,100);return r.processJPEG.call(this,p,n,a,s)}})(kt.API),kt.API.processRGBA=function(r,e,n){for(var a=r.data,s=a.length,l=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,f=0,p=0;p<s;p+=4){var y=a[p],_=a[p+1],A=a[p+2],w=a[p+3];l[h++]=y,l[h++]=_,l[h++]=A,u[f++]=w}var k=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:k,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},kt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gc=kt.API,nd=gc.getCharWidthsArray=function(r,e){var n,a,s=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,p=e.kerning?e.kerning:s.metadata.Unicode.kerning,y=p.fof?p.fof:1,_=e.doKerning!==!1,A=0,w=r.length,k=0,N=h[0]||f,T=[];for(n=0;n<w;n++)a=r.charCodeAt(n),typeof s.metadata.widthOfString=="function"?T.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+u*(1e3/l)||0)/1e3):(A=_&&kn(p[a])==="object"&&!isNaN(parseInt(p[a][k],10))?p[a][k]/y:0,T.push((h[a]||N)/f+A)),k=a;return T},f5=gc.getStringUnitWidth=function(r,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return gc.processArabic&&(r=gc.processArabic(r)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(r,n,s)/n:nd.apply(this,arguments).reduce(function(l,u){return l+u},0)},d5=function(r,e,n,a){for(var s=[],l=0,u=r.length,h=0;l!==u&&h+e[l]<n;)h+=e[l],l++;s.push(r.slice(0,l));var f=l;for(h=0;l!==u;)h+e[l]>a&&(s.push(r.slice(f,l)),h=0,f=l),h+=e[l],l++;return f!==l&&s.push(r.slice(f,l)),s},p5=function(r,e,n){n||(n={});var a,s,l,u,h,f,p,y=[],_=[y],A=n.textIndent||0,w=0,k=0,N=r.split(" "),T=nd.apply(this,[" ",n])[0];if(f=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var L=Array(f).join(" "),D=[];N.map(function(F){(F=F.split(/\s*\n/)).length>1?D=D.concat(F.map(function(ae,ye){return(ye&&ae.length?`
`:"")+ae})):D.push(F[0])}),N=D,f=f5.apply(this,[L,n])}for(l=0,u=N.length;l<u;l++){var U=0;if(a=N[l],f&&a[0]==`
`&&(a=a.substr(1),U=1),A+w+(k=(s=nd.apply(this,[a,n])).reduce(function(F,ae){return F+ae},0))>e||U){if(k>e){for(h=d5.apply(this,[a,s,e-(A+w),e]),y.push(h.shift()),y=[h.pop()];h.length;)_.push([h.shift()]);k=s.slice(a.length-(y[0]?y[0].length:0)).reduce(function(F,ae){return F+ae},0)}else y=[a];_.push(y),A=k+f,w=T}else y.push(a),A+=w+k,w=T}return p=f?function(F,ae){return(ae?L:"")+F.join(" ")}:function(F){return F.join(" ")},_.map(p)},gc.splitTextToSize=function(r,e,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var _=this.internal.getFont(y.fontName,y.fontStyle),A="Unicode";return _.metadata[A]?{widths:_.metadata[A].widths||{0:1},kerning:_.metadata[A].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,l.lineIndent=n.lineIndent;var h,f,p=[];for(h=0,f=a.length;h<f;h++)p=p.concat(p5.apply(this,[a[h],u,l]));return p},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},l=0;l<16;l++)a[n[l]]=e[l],s[e[l]]=n[l];var u=function(A){return"0x"+parseInt(A,10).toString(16)},h=r.__fontmetrics__.compress=function(A){var w,k,N,T,L=["{"];for(var D in A){if(w=A[D],isNaN(parseInt(D,10))?k="'"+D+"'":(D=parseInt(D,10),k=(k=u(D).slice(2)).slice(0,-1)+s[k.slice(-1)]),typeof w=="number")w<0?(N=u(w).slice(3),T="-"):(N=u(w).slice(2),T=""),N=T+N.slice(0,-1)+s[N.slice(-1)];else{if(kn(w)!=="object")throw new Error("Don't know what to do with value type "+kn(w)+".");N=h(w)}L.push(k+N)}return L.push("}"),L.join("")},f=r.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,k,N,T,L={},D=1,U=L,F=[],ae="",ye="",ce=A.length-1,se=1;se<ce;se+=1)(T=A[se])=="'"?w?(N=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(F.push([U,N]),U={},N=void 0):T=="}"?((k=F.pop())[0][k[1]]=U,N=void 0,U=k[0]):T=="-"?D=-1:N===void 0?a.hasOwnProperty(T)?(ae+=a[T],N=parseInt(ae,16)*D,D=1,ae=""):ae+=T:a.hasOwnProperty(T)?(ye+=a[T],U[N]=parseInt(ye,16)*D,D=1,N=void 0,ye=""):ye+=T;return L},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},_={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(A){var w=A.font,k=_.Unicode[w.postScriptName];k&&(w.metadata.Unicode={},w.metadata.Unicode.widths=k.widths,w.metadata.Unicode.kerning=k.kerning);var N=y.Unicode[w.postScriptName];N&&(w.metadata.Unicode.encoding=N,w.encoding=N.codePages[0])}])})(kt.API),(function(r){var e=function(n){for(var a=n.length,s=new Uint8Array(a),l=0;l<a;l++)s[l]=n.charCodeAt(l);return s};r.API.events.push(["addFont",function(n){var a=void 0,s=n.font,l=n.instance;if(!s.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=l.existsFileInVFS(s.postScriptName)===!1?l.loadFile(s.postScriptName):l.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(ud(h)),u.metadata=r.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,a)}}])})(kt),kt.API.addSvgAsImage=function(r,e,n,a,s,l,u,h){if(isNaN(e)||isNaN(n))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=s;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return($t.canvg?Promise.resolve($t.canvg):h0(()=>import("./index.es-rCmIThfb.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(p,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(y)}).then(function(){_.addImage(f.toDataURL("image/jpeg",1),e,n,a,s,u,h)})},kt.API.putTotalPages=function(r){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(e,n);return this},kt.API.viewerPreferences=function(r,e){var n;r=r||{},e=e||!1;var a,s,l,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],p=0,y=0,_=0;function A(k,N){var T,L=!1;for(T=0;T<k.length;T+=1)k[T]===N&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=h.length;for(_=0;_<w;_+=1)n[h[_]].value=n[h[_]].defaultValue,n[h[_]].explicitSet=!1}if(kn(r)==="object"){for(s in r)if(l=r[s],A(h,s)&&l!==void 0){if(n[s].type==="boolean"&&typeof l=="boolean")n[s].value=l;else if(n[s].type==="name"&&A(n[s].valueSet,l))n[s].value=l;else if(n[s].type==="integer"&&Number.isInteger(l))n[s].value=l;else if(n[s].type==="array"){for(p=0;p<l.length;p+=1)if(a=!0,l[p].length===1&&typeof l[p][0]=="number")f.push(String(l[p]-1));else if(l[p].length>1){for(y=0;y<l[p].length;y+=1)typeof l[p][y]!="number"&&(a=!1);a===!0&&f.push([l[p][0]-1,l[p][1]-1].join(" "))}n[s].value="["+f.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,N=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?N.push("/"+k+" /"+n[k].value):N.push("/"+k+" "+n[k].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(r){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=l.length+u.length+h.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(s+l+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(kt.API),(function(r){var e=r.API,n=e.pdfEscape16=function(l,u){for(var h,f=u.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],_=0,A=l.length;_<A;++_){if(h=u.metadata.characterToGlyph(l.charCodeAt(_)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=l.charCodeAt(_),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return y.join("");h=h.toString(16),y.push(p[4-h.length],h)}return y.join("")},a=function(l){var u,h,f,p,y,_,A;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],_=0,A=(h=Object.keys(l).sort(function(w,k){return w-k})).length;_<A;_++)u=h[_],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[u]!==void 0&&l[u]!==null&&typeof l[u].toString=="function"&&(p=("0000"+l[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+p+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(u){var h=u.font,f=u.out,p=u.newObject,y=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="Identity-H"){for(var _=h.metadata.Unicode.widths,A=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),w="",k=0;k<A.length;k++)w+=String.fromCharCode(A[k]);var N=p();y({data:w,addLength1:!0,objectId:N}),f("endobj");var T=p();y({data:a(h.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var L=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+_c(h.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var D=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+_c(h.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+r.API.PDFObject.convert(_)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+_c(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+D+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(u){var h=u.font,f=u.out,p=u.newObject,y=u.putStream;if(h.metadata instanceof r.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var _=h.metadata.rawData,A="",w=0;w<_.length;w++)A+=String.fromCharCode(_[w]);var k=p();y({data:A,addLength1:!0,objectId:k}),f("endobj");var N=p();y({data:a(h.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var T=p();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+k+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+_c(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=p();for(var L=0;L<h.metadata.hmtx.widths.length;L++)h.metadata.hmtx.widths[L]=parseInt(h.metadata.hmtx.widths[L]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+_c(h.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(l)}]);var s=function(l){var u,h=l.text||"",f=l.x,p=l.y,y=l.options||{},_=l.mutex||{},A=_.pdfEscape,w=_.activeFontKey,k=_.fonts,N=w,T="",L=0,D="",U=k[N].encoding;if(k[N].encoding!=="Identity-H")return{text:h,x:f,y:p,options:y,mutex:_};for(D=h,N=w,Array.isArray(h)&&(D=h[0]),L=0;L<D.length;L+=1)k[N].metadata.hasOwnProperty("cmap")&&(u=k[N].metadata.cmap.unicode.codeMap[D[L].charCodeAt(0)]),u||D[L].charCodeAt(0)<256&&k[N].metadata.hasOwnProperty("Unicode")?T+=D[L]:T+="";var F="";return parseInt(N.slice(1))<14||U==="WinAnsiEncoding"?F=A(T,N).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):U==="Identity-H"&&(F=n(T,k[N])),_.isHex=!0,{text:F,x:f,y:p,options:y,mutex:_}};e.events.push(["postProcessText",function(l){var u=l.text||"",h=[],f={text:u,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?h.push([s(Object.assign({},f,{text:u[p][0]})).text,u[p][1],u[p][2]]):h.push(s(Object.assign({},f,{text:u[p]})).text);l.text=h}else l.text=s(Object.assign({},f,{text:u})).text}])})(kt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},r.addFileToVFS=function(n,a){return e.call(this),this.internal.vFS[n]=a,this},r.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(kt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(a){var s,l,u,h,f,p,y,_=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,U=0;this.__bidiEngine__={};var F=function(I){var V=I.charCodeAt(),ie=V>>8,re=N[ie];return re!==void 0?_[256*re+(255&V)]:ie===252||ie===253?"AL":L.test(ie)?"L":ie===8?"R":"N"},ae=function(I){for(var V,ie=0;ie<I.length;ie++){if((V=F(I.charAt(ie)))==="L")return!1;if(V==="R")return!0}return!1},ye=function(I,V,ie,re){var Ce,Q,he,de,ke=V[re];switch(ke){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(ke="AN");break;case"AL":D=!0,ke="R";break;case"WS":case"BN":ke="N";break;case"CS":re<1||re+1>=V.length||(Ce=ie[re-1])!=="EN"&&Ce!=="AN"||(Q=V[re+1])!=="EN"&&Q!=="AN"?ke="N":D&&(Q="AN"),ke=Q===Ce?Q:"N";break;case"ES":ke=(Ce=re>0?ie[re-1]:"B")==="EN"&&re+1<V.length&&V[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&ie[re-1]==="EN"){ke="EN";break}if(D){ke="N";break}for(he=re+1,de=V.length;he<de&&V[he]==="ET";)he++;ke=he<de&&V[he]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(de=V.length,he=re+1;he<de&&V[he]==="NSM";)he++;if(he<de){var Se=I[re],M=Se>=1425&&Se<=2303||Se===64286;if(Ce=V[he],M&&(Ce==="R"||Ce==="AL")){ke="R";break}}}ke=re<1||(Ce=V[re-1])==="B"?"N":ie[re-1];break;case"B":D=!1,s=!0,ke=U;break;case"S":l=!0,ke="N"}return ke},ce=function(I,V,ie){var re=I.split("");return ie&&se(re,ie,{hiLevel:U}),re.reverse(),V&&V.reverse(),re.join("")},se=function(I,V,ie){var re,Ce,Q,he,de,ke=-1,Se=I.length,M=0,j=[],z=U?w:A,H=[];for(D=!1,s=!1,l=!1,Ce=0;Ce<Se;Ce++)H[Ce]=F(I[Ce]);for(Q=0;Q<Se;Q++){if(de=M,j[Q]=ye(I,H,j,Q),re=240&(M=z[de][k[j[Q]]]),M&=15,V[Q]=he=z[M][5],re>0)if(re===16){for(Ce=ke;Ce<Q;Ce++)V[Ce]=1;ke=-1}else ke=-1;if(z[M][6])ke===-1&&(ke=Q);else if(ke>-1){for(Ce=ke;Ce<Q;Ce++)V[Ce]=he;ke=-1}H[Q]==="B"&&(V[Q]=0),ie.hiLevel|=he}l&&(function(te,ne,ee){for(var oe=0;oe<ee;oe++)if(te[oe]==="S"){ne[oe]=U;for(var me=oe-1;me>=0&&te[me]==="WS";me--)ne[me]=U}})(H,V,Se)},W=function(I,V,ie,re,Ce){if(!(Ce.hiLevel<I)){if(I===1&&U===1&&!s)return V.reverse(),void(ie&&ie.reverse());for(var Q,he,de,ke,Se=V.length,M=0;M<Se;){if(re[M]>=I){for(de=M+1;de<Se&&re[de]>=I;)de++;for(ke=M,he=de-1;ke<he;ke++,he--)Q=V[ke],V[ke]=V[he],V[he]=Q,ie&&(Q=ie[ke],ie[ke]=ie[he],ie[he]=Q);M=de}M++}}},be=function(I,V,ie){var re=I.split(""),Ce={hiLevel:U};return ie||(ie=[]),se(re,ie,Ce),(function(Q,he,de){if(de.hiLevel!==0&&y)for(var ke,Se=0;Se<Q.length;Se++)he[Se]===1&&(ke=T.indexOf(Q[Se]))>=0&&(Q[Se]=T[ke+1])})(re,ie,Ce),W(2,re,V,ie,Ce),W(1,re,V,ie,Ce),re.join("")};return this.__bidiEngine__.doBidiReorder=function(I,V,ie){if((function(Ce,Q){if(Q)for(var he=0;he<Ce.length;he++)Q[he]=he;h===void 0&&(h=ae(Ce)),p===void 0&&(p=ae(Ce))})(I,V),u||!f||p)if(u&&f&&h^p)U=h?1:0,I=ce(I,V,ie);else if(!u&&f&&p)U=h?1:0,I=be(I,V,ie),I=ce(I,V);else if(!u||h||f||p){if(u&&!f&&h^p)I=ce(I,V),h?(U=0,I=be(I,V,ie)):(U=1,I=be(I,V,ie),I=ce(I,V));else if(u&&h&&!f&&p)U=1,I=be(I,V,ie),I=ce(I,V);else if(!u&&!f&&h^p){var re=y;h?(U=1,I=be(I,V,ie),U=0,y=!1,I=be(I,V,ie),y=re):(U=0,I=be(I,V,ie),I=ce(I,V),U=1,y=!1,I=be(I,V,ie),y=re,I=ce(I,V))}}else U=0,I=be(I,V,ie);else U=h?1:0,I=be(I,V,ie);return I},this.__bidiEngine__.setOptions=function(I){I&&(u=I.isInputVisual,f=I.isOutputVisual,h=I.isInputRtl,p=I.isOutputRtl,y=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(a){var s=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var u=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([n.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([n.doBidiReorder(s[h])]);a.text=u}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function r(e){var n;if(this.rawData=e,n=this.contents=new _l(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new f8(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new ZN(this.contents),this.head=new e8(this),this.name=new a8(this),this.cmap=new Ob(this),this.toUnicode={},this.hhea=new t8(this),this.maxp=new s8(this),this.hmtx=new o8(this),this.post=new r8(this),this.os2=new n8(this),this.loca=new h8(this),this.glyf=new l8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,n,a,s,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,p;for(p=[],u=0,h=(f=this.bbox).length;u<h;u++)e=f[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},r.prototype.widthOfString=function(e,n,a){var s,l,u,h;for(u=0,l=0,h=(e=""+e).length;0<=h?l<h:l>h;l=0<=h?++l:--l)s=e.charCodeAt(l),u+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return u*(n/1e3)},r.prototype.lineHeight=function(e,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},r})();var ys,_l=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var n,a;for(a=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},r.prototype.writeString=function(e){var n,a,s;for(s=[],n=0,a=e.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,n,a,s,l,u,h,f;return e=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^l)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*n+1099511627776*a+4294967296*s+16777216*l+65536*u+256*h+f},r.prototype.writeLongLong=function(e){var n,a;return n=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var n,a;for(n=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)n.push(this.readByte());return n},r.prototype.write=function(e){var n,a,s,l;for(l=[],a=0,s=e.length;a<s;a++)n=e[a],l.push(this.writeByte(n));return l},r})(),ZN=(function(){var r;function e(n){var a,s,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,l=this.tableCount;0<=l?s<l:s>l;s=0<=l?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(n){var a,s,l,u,h,f,p,y,_,A,w,k,N;for(N in w=Object.keys(n).length,f=Math.log(2),_=16*Math.floor(Math.log(w)/f),u=Math.floor(_/f),y=16*w-_,(s=new _l).writeInt(this.scalarType),s.writeShort(w),s.writeShort(_),s.writeShort(u),s.writeShort(y),l=16*w,p=s.pos+l,h=null,k=[],n)for(A=n[N],s.writeString(N),s.writeInt(r(A)),s.writeInt(p),s.writeInt(A.length),k=k.concat(A),N==="head"&&(h=p),p+=A.length;p%4;)k.push(0),p++;return s.write(k),a=2981146554-r(s.data),s.pos=h+8,s.writeUInt32(a),s.data},r=function(n){var a,s,l,u;for(n=Rb.call(n);n.length%4;)n.push(0);for(l=new _l(n),s=0,a=0,u=n.length;a<u;a=a+=4)s+=l.readUInt32();return 4294967295&s},e})(),QN={}.hasOwnProperty,Ws=function(r,e){for(var n in e)QN.call(e,n)&&(r[n]=e[n]);function a(){this.constructor=r}return a.prototype=e.prototype,r.prototype=new a,r.__super__=e.prototype,r};ys=(function(){function r(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var e8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var n;return(n=new _l).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},r})(),S5=(function(){function r(e,n){var a,s,l,u,h,f,p,y,_,A,w,k,N,T,L,D,U;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(w=e.readUInt16(),A=w/2,e.pos+=6,l=(function(){var F,ae;for(ae=[],f=F=0;0<=A?F<A:F>A;f=0<=A?++F:--F)ae.push(e.readUInt16());return ae})(),e.pos+=2,N=(function(){var F,ae;for(ae=[],f=F=0;0<=A?F<A:F>A;f=0<=A?++F:--F)ae.push(e.readUInt16());return ae})(),p=(function(){var F,ae;for(ae=[],f=F=0;0<=A?F<A:F>A;f=0<=A?++F:--F)ae.push(e.readUInt16());return ae})(),y=(function(){var F,ae;for(ae=[],f=F=0;0<=A?F<A:F>A;f=0<=A?++F:--F)ae.push(e.readUInt16());return ae})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var F,ae;for(ae=[],f=F=0;0<=s?F<s:F>s;f=0<=s?++F:--F)ae.push(e.readUInt16());return ae})(),f=L=0,U=l.length;L<U;f=++L)for(T=l[f],a=D=k=N[f];k<=T?D<=T:D>=T;a=k<=T?++D:--D)y[f]===0?u=a+p[f]:(u=h[y[f]/2+(a-k)-(A-f)]||0)!==0&&(u+=p[f]),this.codeMap[a]=65535&u}e.pos=_}return r.encode=function(e,n){var a,s,l,u,h,f,p,y,_,A,w,k,N,T,L,D,U,F,ae,ye,ce,se,W,be,I,V,ie,re,Ce,Q,he,de,ke,Se,M,j,z,H,te,ne,ee,oe,me,le,_e,Ue;switch(re=new _l,u=Object.keys(e).sort(function(ze,xe){return ze-xe}),n){case"macroman":for(N=0,T=(function(){var ze=[];for(k=0;k<256;++k)ze.push(0);return ze})(),D={0:0},l={},Ce=0,ke=u.length;Ce<ke;Ce++)D[me=e[s=u[Ce]]]==null&&(D[me]=++N),l[s]={old:e[s],new:D[e[s]]},T[s]=D[e[s]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(T),{charMap:l,subtable:re.data,maxGlyphID:N+1};case"unicode":for(V=[],_=[],U=0,D={},a={},L=p=null,Q=0,Se=u.length;Q<Se;Q++)D[ae=e[s=u[Q]]]==null&&(D[ae]=++U),a[s]={old:ae,new:D[ae]},h=D[ae]-s,L!=null&&h===p||(L&&_.push(L),V.push(s),p=h),L=s;for(L&&_.push(L),_.push(65535),V.push(65535),be=2*(W=V.length),se=2*Math.pow(Math.log(W)/Math.LN2,2),A=Math.log(se/2)/Math.LN2,ce=2*W-se,f=[],ye=[],w=[],k=he=0,M=V.length;he<M;k=++he){if(I=V[k],y=_[k],I===65535){f.push(0),ye.push(0);break}if(I-(ie=a[I].new)>=32768)for(f.push(0),ye.push(2*(w.length+W-k)),s=de=I;I<=y?de<=y:de>=y;s=I<=y?++de:--de)w.push(a[s].new);else f.push(ie-I),ye.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*W+2*w.length),re.writeUInt16(0),re.writeUInt16(be),re.writeUInt16(se),re.writeUInt16(A),re.writeUInt16(ce),ee=0,j=_.length;ee<j;ee++)s=_[ee],re.writeUInt16(s);for(re.writeUInt16(0),oe=0,z=V.length;oe<z;oe++)s=V[oe],re.writeUInt16(s);for(le=0,H=f.length;le<H;le++)h=f[le],re.writeUInt16(h);for(_e=0,te=ye.length;_e<te;_e++)F=ye[_e],re.writeUInt16(F);for(Ue=0,ne=w.length;Ue<ne;Ue++)N=w[Ue],re.writeUInt16(N);return{charMap:a,subtable:re.data,maxGlyphID:U+1}}},r})(),Ob=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="cmap",r.prototype.parse=function(e){var n,a,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new S5(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(e,n){var a,s;return n==null&&(n="macroman"),a=S5.encode(e,n),(s=new _l).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},r})(),t8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),n8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(e.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(e.readInt());return a})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(e.readInt());return a})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),r8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="post",r.prototype.parse=function(e){var n,a,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 262144:return this.map=(function(){var u,h,f;for(f=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)f.push(e.readUInt32());return f}).call(this)}},r})(),i8=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},a8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="name",r.prototype.parse=function(e){var n,a,s,l,u,h,f,p,y,_,A;for(e.pos=this.offset,e.readShort(),n=e.readShort(),h=e.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},l=y=0,_=a.length;y<_;l=++y)s=a[l],e.pos=s.offset,p=e.readString(s.length),u=new i8(p,s),f[A=s.nameID]==null&&(f[A]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),s8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),o8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="hmtx",r.prototype.parse=function(e){var n,a,s,l,u,h,f;for(e.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,y;for(y=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)y.push(e.readInt16());return y})(),this.widths=(function(){var p,y,_,A;for(A=[],p=0,y=(_=this.metrics).length;p<y;p++)l=_[p],A.push(l.advance);return A}).call(this),a=this.widths[this.widths.length-1],f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(this.widths.push(a));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Rb=[].slice,l8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var n,a,s,l,u,h,f,p,y,_;return e in this.cache?this.cache[e]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(e),(s=l.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+a,u=(h=new _l(n.read(s))).readShort(),p=h.readShort(),_=h.readShort(),f=h.readShort(),y=h.readShort(),this.cache[e]=u===-1?new c8(h,p,_,f,y):new u8(h,u,p,_,f,y),this.cache[e]))},r.prototype.encode=function(e,n,a){var s,l,u,h,f;for(u=[],l=[],h=0,f=n.length;h<f;h++)s=e[n[h]],l.push(u.length),s&&(u=u.concat(s.encode(a)));return l.push(u.length),{table:u,offsets:l}},r})(),u8=(function(){function r(e,n,a,s,l,u){this.raw=e,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=l,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),c8=(function(){function r(e,n,a,s,l){var u,h;for(this.raw=e,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return r.prototype.encode=function(){var e,n,a;for(n=new _l(Rb.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)n.pos=this.glyphOffsets[e];return n.data},r})(),h8=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ws(r,ys),r.prototype.tag="loca",r.prototype.parse=function(e){var n,a;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=4)l.push(e.readUInt32());return l}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,n){for(var a=new Uint32Array(this.offsets.length),s=0,l=0,u=0;u<a.length;++u)if(a[u]=s,l<n.length&&n[l]==u){++l,a[u]=s;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(s+=f)}for(var p=new Array(4*a.length),y=0;y<a.length;++y)p[4*y+3]=255&a[y],p[4*y+2]=(65280&a[y])>>8,p[4*y+1]=(16711680&a[y])>>16,p[4*y]=(4278190080&a[y])>>24;return p},r})(),f8=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,n,a,s,l;for(n in s=this.font.cmap.tables[0].codeMap,e={},l=this.subset)a=l[n],e[n]=s[a];return e},r.prototype.glyphsFor=function(e){var n,a,s,l,u,h,f;for(s={},u=0,h=e.length;u<h;u++)s[l=e[u]]=this.font.glyf.glyphFor(l);for(l in n=[],s)(a=s[l])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(l in f=this.glyphsFor(n))a=f[l],s[l]=a;return s},r.prototype.encode=function(e,n){var a,s,l,u,h,f,p,y,_,A,w,k,N,T,L;for(s in a=Ob.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),w={0:0},L=a.charMap)w[(f=L[s]).old]=f.new;for(k in A=a.maxGlyphID,u)k in w||(w[k]=A++);return y=(function(D){var U,F;for(U in F={},D)F[D[U]]=U;return F})(w),_=Object.keys(y).sort(function(D,U){return D-U}),N=(function(){var D,U,F;for(F=[],D=0,U=_.length;D<U;D++)h=_[D],F.push(y[h]);return F})(),l=this.font.glyf.encode(u,N,w),p=this.font.loca.encode(l.offsets,N),T={cmap:this.font.cmap.raw(),glyf:l.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();kt.API.PDFObject=(function(){var r;function e(){}return r=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},e.convert=function(n){var a,s,l,u;if(Array.isArray(n))return"["+(function(){var h,f,p;for(p=[],h=0,f=n.length;h<f;h++)a=n[h],p.push(e.convert(a));return p})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+r(n.getUTCFullYear(),4)+r(n.getUTCMonth(),2)+r(n.getUTCDate(),2)+r(n.getUTCHours(),2)+r(n.getUTCMinutes(),2)+r(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in l=["<<"],n)u=n[s],l.push("/"+s+" "+e.convert(u));return l.push(">>"),l.join(`
`)}return""+n},e})();const d8=["Yes","No"],p8=["Yes","NA","No"],A5=[{code:"1",label:"1  Rarely"},{code:"2",label:"2  Unlikely"},{code:"3",label:"3  Likely"},{code:"4",label:"4  Very Likely"},{code:"5",label:"5  Extremely Likely"}],N5=[{code:"1",label:"1  Insignificant"},{code:"2",label:"2  Minor"},{code:"3",label:"3  Moderate"},{code:"4",label:"4  Major"},{code:"5",label:"5  Catastrophic"}],m8=[{code:"1",title:"Rarely"},{code:"2",title:"Unlikely"},{code:"3",title:"Likely"},{code:"4",title:"Very Likely"},{code:"5",title:"Extremely Likely"}],E5=[{code:"1",title:"Insignificant"},{code:"2",title:"Minor"},{code:"3",title:"Moderate"},{code:"4",title:"Major"},{code:"5",title:"Catastrophic"}];function Ah(r,e){const n=parseInt(r||"0",10),a=parseInt(e||"0",10);if(!n||!a)return"";const s=n*a;return s>=20?"Critical":s>=12?"High":s>=6?"Moderate":"Low"}function qs({value:r,onChange:e,colorMode:n="traffic",options:a=d8}){return v.jsx("div",{style:{display:"inline-flex",borderRadius:6,overflow:"hidden"},children:a.map(s=>{const l=r===s;let u="#2e7d32",h="#1b5e20";return s==="NA"&&n!=="allGreen"&&(u="#616161",h="#424242"),n==="traffic"&&s==="No"&&(u="#c62828",h="#8e0000"),n==="inverseTraffic"&&(s==="Yes"&&(u="#c62828",h="#8e0000"),s==="No"&&(u="#2e7d32",h="#1b5e20")),n==="allGreen"&&(u="#2e7d32",h="#1b5e20"),v.jsx("button",{type:"button",onClick:()=>e(s),style:{border:`1px solid ${l?h:"#ccc"}`,padding:"0.35rem 0.85rem",fontSize:"0.85rem",cursor:"pointer",background:l?u:"#fff",color:l?"#fff":"#333"},children:s},s)})})}function Mb(r){switch(r){case"Low":return{bg:"#2e7d32",text:"#fff"};case"Moderate":return{bg:"#0b79ff",text:"#fff"};case"High":return{bg:"#ffca28",text:"#222"};case"Critical":return{bg:"#e53935",text:"#fff"};default:return{bg:"#9e9e9e",text:"#fff"}}}function j5({value:r}){const{bg:e,text:n}=Mb(r);return v.jsx("div",{style:{display:"inline-block",padding:"0.25rem 0.6rem",background:e,color:n,borderRadius:6,fontSize:"0.8rem",fontWeight:600,minWidth:"78px",textAlign:"center"},children:r||"-"})}const si={green:"#2e7d32",red:"#e53935",grey:"#616161",textWhite:"#ffffff",headerRed:"#B71C1C",sectionFill:"#f6f6f6",border:"#e6e6e6"};function g8(r,e){if(r==="allGreen")return{bg:si.green,text:si.textWhite};if(e==="NA")return{bg:si.grey,text:si.textWhite};if(r==="inverseTraffic"){if(e==="No")return{bg:si.green,text:si.textWhite};if(e==="Yes")return{bg:si.red,text:si.textWhite}}return e==="Yes"?{bg:si.green,text:si.textWhite}:e==="No"?{bg:si.red,text:si.textWhite}:{bg:si.grey,text:si.textWhite}}function v8(r,e,n,a,s){const{bg:l,text:u}=g8(s,e),h=22,f=7.5;r.setFillColor(l),r.roundedRect(n,a-5.2,h,f,2,2,"F"),r.setTextColor(u),r.setFont("helvetica","bold"),r.setFontSize(9),r.text(e,n+4,a)}function k5(r,e,n,a){const{bg:s,text:l}=Mb(e),u=26,h=7.5;r.setFillColor(s),r.roundedRect(n,a-5.2,u,h,2,2,"F"),r.setTextColor(l),r.setFont("helvetica","bold"),r.setFontSize(9),r.text(e||"-",n+4,a)}function y8(){const{user:r}=Vs(),e=r?.user_metadata?.full_name||r?.email||"",[n,a]=K.useState(1),s=5,[l,u]=K.useState(!1),[h,f]=K.useState(""),[p,y]=K.useState(""),[_,A]=K.useState(""),[w,k]=K.useState(""),[N,T]=K.useState(!1),[L,D]=K.useState("matrix"),[U,F]=K.useState(""),[ae,ye]=K.useState(""),[ce,se]=K.useState(e),[W,be]=K.useState(e),[I,V]=K.useState(!1),[ie,re]=K.useState(""),[Ce,Q]=K.useState(""),[he,de]=K.useState({understandScope:"",inspectedArea:"",readInstructions:"",toolsInOrder:"",fitAndCompetent:"",correctPpe:""}),[ke,Se]=K.useState({requirePermits:"",obtainedPermit:"",sprainStrainRisk:"",riskToOthers:"",hazardousEnvironment:""}),[M,j]=K.useState([{id:1,description:"",preLikelihood:"",preConsequence:"",preResult:"",controlMeasure:"",postLikelihood:"",postConsequence:"",postResult:""}]),z=K.useRef(2),[H,te]=K.useState({hazardsControlled:"",confidentSafe:""}),[ne,ee]=K.useState(!1),[oe,me]=K.useState(null);K.useEffect(()=>{e&&(se(e),be(Fe=>Fe||e))},[e]),K.useEffect(()=>{(async()=>{try{const Oe=await(await fetch("/prowest-logo.jpg")).blob(),Xe=new FileReader;Xe.onloadend=()=>F(Xe.result),Xe.readAsDataURL(Oe)}catch(Ee){console.warn("Logo failed to load for PDF",Ee)}})()},[]);const le=(Fe,Ee)=>{me({hazardIndex:Fe,phase:Ee}),ee(!0)},_e=()=>{ee(!1),me(null),D("matrix")},Ue=(Fe,Ee)=>{if(!oe)return;const{hazardIndex:Oe,phase:Xe}=oe;j(tt=>tt.map((st,St)=>{if(St!==Oe)return st;const ct={...st};return Xe==="pre"?(ct.preLikelihood=Fe,ct.preConsequence=Ee,ct.preResult=Ah(Fe,Ee)):(ct.postLikelihood=Fe,ct.postConsequence=Ee,ct.postResult=Ah(Fe,Ee)),ct})),_e()},ze=(Fe,Ee,Oe)=>{j(Xe=>Xe.map((tt,st)=>{if(st!==Fe)return tt;const St={...tt,[Ee]:Oe};return St.preResult=Ah(St.preLikelihood,St.preConsequence),St.postResult=Ah(St.postLikelihood,St.postConsequence),St})),A("")},xe=()=>{const Fe=z.current++;j(Ee=>[...Ee,{id:Fe,description:"",preLikelihood:"",preConsequence:"",preResult:"",controlMeasure:"",postLikelihood:"",postConsequence:"",postResult:""}])},Y=Fe=>{j(Ee=>{if(Ee.length===1)return Ee;const Oe=Ee.filter((Xe,tt)=>tt!==Fe);return Oe.length?Oe:Ee})},wt=()=>{a(1),ye(""),se(e),be(e),re(""),Q(""),de({understandScope:"",inspectedArea:"",readInstructions:"",toolsInOrder:"",fitAndCompetent:"",correctPpe:""}),Se({requirePermits:"",obtainedPermit:"",sprainStrainRisk:"",riskToOthers:"",hazardousEnvironment:""}),j([{id:1,description:"",preLikelihood:"",preConsequence:"",preResult:"",controlMeasure:"",postLikelihood:"",postConsequence:"",postResult:""}]),z.current=2,te({hazardsControlled:"",confidentSafe:""}),V(!1),f(""),y(""),A(""),k(""),T(!1),ee(!1),me(null),D("matrix")},lt=Fe=>Fe===1?ae.trim()&&ce&&ie&&Ce:Fe===2?Object.values(he).every(Ee=>Ee):Fe===3?Object.values(ke).every(Ee=>Ee):Fe===4?M.some(Ee=>Ee.description.trim()):Fe===5?H.hazardsControlled&&H.confidentSafe&&(W||ce)&&I:!0,we=Fe=>{if(Fe===1)return!1;if(Fe===2)return Object.values(he).some(Ee=>Ee==="No");if(Fe===3){const Ee=["requirePermits","sprainStrainRisk","riskToOthers","hazardousEnvironment"].some(Xe=>ke[Xe]==="Yes"),Oe=ke.obtainedPermit==="No";return Ee||Oe}return Fe===4?!1:Fe===5?Object.values(H).some(Ee=>Ee==="No"):!1},je=()=>{T(!1),A(""),a(Fe=>Math.min(Fe+1,s))},Ye=()=>{if(!lt(n)){A("All fields must be completed");return}if(we(n)){T(!0);return}je()},We=()=>{A(""),T(!1),a(Fe=>Math.max(Fe-1,1))},nt=Fe=>({jobNumber:ae,employeeName:ce,take5Number:Fe,steps:{swmsJha:{swms:ie,jha:Ce},considerTask:he,assessTask:ke,hazards:M,controls:H},signature:{name:W||ce,confirmed:I,signedAt:new Date().toISOString()},submittedAt:new Date().toISOString()}),et=Fe=>{const Ee=new kt({unit:"mm",format:"a4"});let Oe=18;const Xe=6.5,tt=10,st=200,St=(zt=10)=>{Oe+zt>280&&(Ee.addPage(),Oe=18)};if(Ee.setFillColor(si.headerRed),Ee.rect(0,0,210,18,"F"),U)try{Ee.addImage(U,"PNG",tt,2.2,40,13)}catch{try{Ee.addImage(U,"JPEG",tt,2.2,40,13)}catch{}}Ee.setTextColor("#fff"),Ee.setFont("helvetica","bold"),Ee.setFontSize(14),Ee.text("TAKE 5 SAFE WORK CHECK",65,11),Ee.setTextColor("#000"),Ee.setFontSize(11),Ee.setFont("helvetica","bold"),Oe=26,Ee.text(`Job Number: ${Fe.jobNumber}`,tt,Oe),Ee.text(`Employee: ${Fe.employeeName}`,tt+95,Oe),Oe+=7,Ee.setFont("helvetica","normal"),Ee.setFontSize(10),Ee.text(`Take 5 #: ${Fe.take5Number||"-"}  |  Submitted: ${new Date(Fe.submittedAt).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}
`,tt,Oe),Oe+=8;const ct=zt=>{St(12),Ee.setFillColor(si.sectionFill),Ee.rect(tt,Oe-5,st-tt,8,"F"),Ee.setFont("helvetica","bold"),Ee.setFontSize(11),Ee.setTextColor("#000"),Ee.text(zt,tt+2,Oe),Oe+=8},Tt=(zt,nn,un)=>{St(8),Ee.setFont("helvetica","normal"),Ee.setFontSize(9.5),Ee.setTextColor("#000"),Ee.text(zt,tt+2,Oe),v8(Ee,nn||"-",st-32,Oe,un),Oe+=Xe};ct("STEP 1  SWMS / JHA"),Tt("SWMS in place for this job?",Fe.steps.swmsJha.swms,"allGreen"),Tt("JHA in place for this job?",Fe.steps.swmsJha.jha,"allGreen"),Oe+=2,ct("STEP 2  Consider the Task");const sn={understandScope:"Do I thoroughly understand the task scope?",inspectedArea:"Have I inspected the area?",readInstructions:"Have I read & understood instructions/procedure?",toolsInOrder:"Are required tools safe/serviced/calibrated?",fitAndCompetent:"Am I fit, qualified & competent for the task?",correctPpe:"Do I have the correct PPE?"};Object.entries(Fe.steps.considerTask).forEach(([zt,nn])=>{Tt(sn[zt]||zt,nn,"traffic")}),Oe+=2,ct("STEP 3  Assess the Task");const It={requirePermits:"Do I require site-specific permits or inductions?",obtainedPermit:"Have I obtained the required permit/induction?",sprainStrainRisk:"Could I suffer a sprain/strain from exertion?",riskToOthers:"Could my work/nearby activities be a risk to others?",hazardousEnvironment:"Working in/near hazardous environment (roads, powerlines, water, heights, confined space)?"},it={requirePermits:"inverseTraffic",obtainedPermit:"traffic",sprainStrainRisk:"inverseTraffic",riskToOthers:"inverseTraffic",hazardousEnvironment:"inverseTraffic"};Object.entries(Fe.steps.assessTask).forEach(([zt,nn])=>{Tt(It[zt]||zt,nn,it[zt]||"inverseTraffic")}),Oe+=2,ct("STEP 4  Hazards Identified");const Mt=Fe.steps.hazards.filter(zt=>zt.description&&zt.description.trim());return Mt.length===0&&(Ee.setFont("helvetica","normal"),Ee.setFontSize(9.5),Ee.text("No hazards recorded.",tt+2,Oe),Oe+=Xe),Mt.forEach((zt,nn)=>{St(38);const un=tt+2,xn=st-tt-4,jt=Oe-2;Ee.setFont("helvetica","bold"),Ee.setFontSize(10),Ee.text(`${nn+1}. ${zt.description}`,un+2,Oe),Oe+=Xe,Ee.setFont("helvetica","normal"),Ee.setFontSize(9.2),Ee.text(`Pre-risk: Lik ${zt.preLikelihood||"-"} | Cons ${zt.preConsequence||"-"} | Result`,un+4,Oe),k5(Ee,zt.preResult,un+xn-30,Oe),Oe+=Xe,Ee.text(`Control: ${zt.controlMeasure||"-"}`,un+4,Oe),Oe+=Xe,Ee.text(`Post-risk: Lik ${zt.postLikelihood||"-"} | Cons ${zt.postConsequence||"-"} | Result`,un+4,Oe),k5(Ee,zt.postResult,un+xn-30,Oe),Oe+=Xe;const Xi=Oe+1;Ee.setDrawColor(si.border),Ee.roundedRect(un,jt,xn,Xi-jt,2,2,"S"),Oe+=4}),ct("STEP 5  Controls & Sign-off"),Tt("Have I removed hazards or implemented effective controls?",Fe.steps.controls.hazardsControlled,"traffic"),Tt("Am I confident this task can be done safely?",Fe.steps.controls.confidentSafe,"traffic"),Oe+=3,St(14),Ee.setFont("helvetica","bold"),Ee.setFontSize(10),Ee.text("Signed by:",tt+2,Oe),Ee.setFont("helvetica","normal"),Ee.text(Fe.signature.name||"-",tt+28,Oe),Oe+=Xe,Ee.text(`Confirmed: ${Fe.signature.confirmed?"Yes":"No"}   |   Signed at: ${new Date(Fe.signature.signedAt).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}
`,tt+2,Oe),Ee.setFontSize(8),Ee.setTextColor("#777"),Ee.text("Generated by Pro West Surveying Portal",tt,290),Ee},ut=async()=>{if(!lt(5)){A("All fields must be completed");return}if(we(5)){T(!0);return}u(!0),f(""),y(""),A(""),k("");try{const{count:Fe,error:Ee}=await dn.from("take5_submissions").select("id",{count:"exact",head:!0}).eq("job_number",ae);if(Ee)throw Ee;const Oe=(Fe||0)+1,Xe=nt(Oe),{data:tt,error:st}=await dn.from("take5_submissions").insert({job_number:ae,employee_name:ce,take5_number:Oe,form_data:Xe}).select().single();if(st)throw st;const St=tt.id,ct=et(Xe);let Tt;try{Tt=ct.output("blob")}catch{const un=ct.output("arraybuffer");Tt=new Blob([un],{type:"application/pdf"})}const sn=new Date().toISOString().replace(/[:.]/g,"-"),It=`${ae}/take5/${Oe}_${St}_${sn}.pdf`,{error:it}=await dn.storage.from("take5-pdfs").upload(It,Tt,{contentType:"application/pdf"});if(it)throw it;const{error:Mt}=await dn.from("take5_submissions").update({pdf_path:It}).eq("id",St);if(Mt)throw Mt;const{data:zt,error:nn}=await dn.storage.from("take5-pdfs").createSignedUrl(It,3600);!nn&&zt?.signedUrl&&k(zt.signedUrl),y("Take 5 submitted and PDF saved successfully."),a(s)}catch(Fe){console.error(Fe),f("There was a problem submitting the Take 5. Please try again.")}finally{u(!1)}},_t=()=>v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Job Details & SWMS / JHA"}),v.jsx("p",{className:"card-subtitle",children:"Enter job details and confirm whether SWMS or JHA is in place for this job."}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Job Number"}),v.jsx("input",{type:"text",value:ae,onChange:Fe=>{ye(Fe.target.value),A("")},placeholder:"e.g. 101441",className:"maps-search-input",style:{maxWidth:"200px"}})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Employee"}),v.jsx("input",{type:"text",value:ce,readOnly:!0,className:"maps-search-input",style:{maxWidth:"260px",backgroundColor:"#f5f5f5"}})]}),v.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#777"},children:["Employee name is pulled from your ",v.jsx("strong",{children:"My Profile"})," page."]})]}),v.jsxs("div",{style:{marginTop:"0.8rem",display:"flex",flexDirection:"column",gap:"0.6rem"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Is there a Safe Work Method Statement in place for this job?"}),v.jsx(qs,{colorMode:"allGreen",value:ie,onChange:re})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Is there a Job Hazards Analysis in place for this job?"}),v.jsx(qs,{colorMode:"allGreen",value:Ce,onChange:Q})]})]})]}),at=()=>v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Consider the Task"}),v.jsx("p",{className:"card-subtitle",children:"Confirm you understand the task, environment and equipment before starting."}),v.jsx("div",{style:{marginTop:"0.6rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[["understandScope","Do I thoroughly understand the task scope?"],["inspectedArea","Have I inspected the area?"],["readInstructions","Have I read & understood the work instruction or procedure for this task?"],["toolsInOrder","Are the required tools in good working order, safe, serviced & calibrated?"],["fitAndCompetent","Am I fit, qualified and competent to perform the task?"],["correctPpe","Do I have the correct PPE?"]].map(([Fe,Ee])=>v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:Ee}),v.jsx(qs,{value:he[Fe],onChange:Oe=>{de(Xe=>({...Xe,[Fe]:Oe})),A("")}})]},Fe))})]}),Ut=()=>v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Assess the Task"}),v.jsx("p",{className:"card-subtitle",children:"Answer the following to assess risks prior to starting work."}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Do I require site specific permits or inductions?"}),v.jsx(qs,{colorMode:"inverseTraffic",value:ke.requirePermits,onChange:Fe=>{Se(Ee=>({...Ee,requirePermits:Fe})),A("")}})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Have I obtained this specific permit or induction?"}),v.jsx(qs,{options:p8,colorMode:"traffic",value:ke.obtainedPermit,onChange:Fe=>{Se(Ee=>({...Ee,obtainedPermit:Fe})),A("")}})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Could I suffer a sprain or strain from repetitive or excessive exertion?"}),v.jsx(qs,{colorMode:"inverseTraffic",value:ke.sprainStrainRisk,onChange:Fe=>{Se(Ee=>({...Ee,sprainStrainRisk:Fe})),A("")}})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Could the work I am carrying out, or any nearby activities, be a potential risk for me or to others?"}),v.jsx(qs,{colorMode:"inverseTraffic",value:ke.riskToOthers,onChange:Fe=>{Se(Ee=>({...Ee,riskToOthers:Fe})),A("")}})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Will I be working in or near a hazardous environment? (Near a road, powerline or water, at heights or in a confined space)"}),v.jsx(qs,{colorMode:"inverseTraffic",value:ke.hazardousEnvironment,onChange:Fe=>{Se(Ee=>({...Ee,hazardousEnvironment:Fe})),A("")}})]})]})]}),xt=()=>v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Identify the Hazards"}),v.jsx("p",{className:"card-subtitle",children:"Record hazards, pre- and post-control risk ratings and control measures."}),M.map((Fe,Ee)=>v.jsxs("div",{style:{marginTop:Ee===0?"0.6rem":"1rem",paddingTop:Ee===0?0:"0.6rem",borderTop:Ee===0?"none":"1px solid #f3e1e1"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{className:"card-row-label",children:["Hazard ",Ee+1]}),Ee>0&&v.jsx("button",{type:"button",className:"btn-pill",onClick:()=>Y(Ee),style:{fontSize:"0.75rem",padding:"0.15rem 0.55rem",background:"#fff",color:"#b71c1c",border:"1px solid #f3bcbc"},children:"Remove Hazard"})]}),v.jsx("input",{type:"text",value:Fe.description,onChange:Oe=>ze(Ee,"description",Oe.target.value),className:"maps-search-input",placeholder:"e.g. Wet weather, traffic, uneven ground",style:{width:"100%",marginTop:"0.2rem"}}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.4rem",alignItems:"end"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Pre-risk Likelihood"}),v.jsxs("select",{value:Fe.preLikelihood,onChange:Oe=>ze(Ee,"preLikelihood",Oe.target.value),className:"maps-search-input",children:[v.jsx("option",{value:"",children:"Select"}),A5.map(Oe=>v.jsx("option",{value:Oe.code,children:Oe.label},Oe.code))]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Pre-risk Consequence"}),v.jsxs("select",{value:Fe.preConsequence,onChange:Oe=>ze(Ee,"preConsequence",Oe.target.value),className:"maps-search-input",children:[v.jsx("option",{value:"",children:"Select"}),N5.map(Oe=>v.jsx("option",{value:Oe.code,children:Oe.label},Oe.code))]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"card-row-label",children:["Pre-risk Result"," ",v.jsx("button",{type:"button",className:"btn-pill",style:{fontSize:"0.7rem",padding:"0.1rem 0.4rem"},onClick:()=>le(Ee,"pre"),children:"View Risk Matrix"})]}),v.jsx(j5,{value:Fe.preResult})]})]}),v.jsxs("div",{style:{marginTop:"0.6rem"},children:[v.jsx("div",{className:"card-row-label",children:"Control Measure"}),v.jsx("input",{type:"text",value:Fe.controlMeasure,onChange:Oe=>ze(Ee,"controlMeasure",Oe.target.value),className:"maps-search-input",style:{width:"100%",marginTop:"0.2rem"}})]}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.4rem",alignItems:"end"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Post-risk Likelihood"}),v.jsxs("select",{value:Fe.postLikelihood,onChange:Oe=>ze(Ee,"postLikelihood",Oe.target.value),className:"maps-search-input",children:[v.jsx("option",{value:"",children:"Select"}),A5.map(Oe=>v.jsx("option",{value:Oe.code,children:Oe.label},Oe.code))]})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Post-risk Consequence"}),v.jsxs("select",{value:Fe.postConsequence,onChange:Oe=>ze(Ee,"postConsequence",Oe.target.value),className:"maps-search-input",children:[v.jsx("option",{value:"",children:"Select"}),N5.map(Oe=>v.jsx("option",{value:Oe.code,children:Oe.label},Oe.code))]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"card-row-label",children:["Post-risk Result"," ",v.jsx("button",{type:"button",className:"btn-pill",style:{fontSize:"0.7rem",padding:"0.1rem 0.4rem"},onClick:()=>le(Ee,"post"),children:"View Risk Matrix"})]}),v.jsx(j5,{value:Fe.postResult})]})]})]},Fe.id)),v.jsx("div",{style:{marginTop:"0.9rem"},children:v.jsx("button",{type:"button",className:"btn-pill",onClick:xe,children:"Add another hazard"})})]}),dt=()=>v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Make the Change / Implement Controls"}),v.jsx("p",{className:"card-subtitle",children:"Confirm hazards are controlled and the task can be carried out safely."}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Have I removed the hazards or implemented effective controls?"}),v.jsx(qs,{value:H.hazardsControlled,onChange:Fe=>{te(Ee=>({...Ee,hazardsControlled:Fe})),A("")}})]}),v.jsxs("div",{children:[v.jsx("div",{className:"card-row-label",children:"Am I confident this task can be done safely?"}),v.jsx(qs,{value:H.confidentSafe,onChange:Fe=>{te(Ee=>({...Ee,confidentSafe:Fe})),A("")}})]})]}),v.jsxs("div",{style:{marginTop:"1rem",paddingTop:"0.8rem",borderTop:"1px solid #f3e1e1",display:"flex",flexDirection:"column",gap:"0.6rem"},children:[v.jsx("h4",{style:{margin:0,fontSize:"0.95rem",color:"var(--pw-primary-dark)"},children:"Sign-off"}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Signature name"}),v.jsx("input",{type:"text",value:W,onChange:Fe=>{be(Fe.target.value),A("")},placeholder:"Type your name to sign",className:"maps-search-input",style:{maxWidth:"260px"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.85rem",color:"#555"},children:[v.jsx("input",{type:"checkbox",checked:I,onChange:Fe=>{V(Fe.target.checked),A("")}}),"I confirm I have completed this Take 5 honestly and to the best of my knowledge."]})]}),v.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.8rem",color:"#555"},children:["When you press ",v.jsx("strong",{children:"Submit"}),", this Take 5 will be saved and a PDF will be generated under:",v.jsx("br",{}),v.jsxs("code",{children:[ae||"JOB_NUMBER","/take5/"]})]}),w&&v.jsx("div",{style:{marginTop:"0.9rem"},children:v.jsx("a",{href:w,target:"_blank",rel:"noreferrer",className:"btn-pill primary",style:{display:"inline-block",textDecoration:"none"},children:"View PDF"})})]}),ot=()=>{if(!ne||!oe)return null;const Fe=({id:Ee,children:Oe})=>{const Xe=L===Ee;return v.jsx("button",{type:"button",onClick:()=>D(Ee),className:"btn-pill",style:{fontSize:"0.8rem",padding:"0.25rem 0.7rem",background:Xe?"var(--pw-primary, #b71c1c)":"#f3f3f3",color:Xe?"#fff":"#333",border:Xe?"1px solid var(--pw-primary, #b71c1c)":"1px solid #ddd"},children:Oe})};return v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:_e,children:v.jsxs("div",{style:{background:"#fff",borderRadius:10,padding:"1rem",maxWidth:"700px",width:"96%",maxHeight:"90vh",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.35)",display:"flex",flexDirection:"column"},onClick:Ee=>Ee.stopPropagation(),children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.6rem"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"var(--pw-primary, #b71c1c)"},children:"Risk Matrix"}),v.jsx("button",{type:"button",className:"btn-pill",style:{fontSize:"0.8rem",padding:"0.2rem 0.6rem"},onClick:_e,children:"Close"})]}),v.jsxs("div",{style:{display:"flex",gap:"0.4rem",marginBottom:"0.7rem"},children:[v.jsx(Fe,{id:"matrix",children:"Matrix"}),v.jsx(Fe,{id:"likelihood",children:"Likelihood"}),v.jsx(Fe,{id:"consequence",children:"Consequence"})]}),v.jsxs("div",{style:{overflowY:"auto",paddingRight:"0.25rem"},children:[L==="matrix"&&v.jsxs(v.Fragment,{children:[v.jsx("p",{style:{fontSize:"0.8rem",marginBottom:"0.5rem",color:"#555"},children:"Tap a cell to apply that Likelihood / Consequence value."}),v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",fontSize:"0.8rem",minWidth:"520px"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{border:"1px solid #ccc",padding:"0.45rem",background:"#fafafa",textAlign:"center",fontWeight:700},children:"Risk Analysis"}),E5.map(Ee=>v.jsxs("th",{style:{border:"1px solid #ccc",padding:"0.45rem",background:"#fafafa",textAlign:"center",fontWeight:700},children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"#777",fontWeight:600},children:Ee.code}),v.jsx("div",{style:{fontSize:"0.9rem"},children:Ee.title})]},Ee.code))]})}),v.jsx("tbody",{children:m8.map(Ee=>v.jsxs("tr",{children:[v.jsxs("td",{style:{border:"1px solid #ccc",padding:"0.45rem",fontWeight:700,background:"#fafafa",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"0.75rem",color:"#777"},children:Ee.code}),v.jsx("div",{style:{fontSize:"0.9rem"},children:Ee.title})]}),E5.map(Oe=>{const Xe=Ah(Ee.code,Oe.code);let tt="#2e7d32";Xe==="Moderate"&&(tt="#0b79ff"),Xe==="High"&&(tt="#ffca28"),Xe==="Critical"&&(tt="#e53935");const st=Xe==="High"?"#222":"#fff";return v.jsxs("td",{onClick:()=>Ue(Ee.code,Oe.code),style:{border:"1px solid #fff",padding:"0.6rem 0.3rem",background:tt,color:st,fontWeight:700,textAlign:"center",cursor:"pointer",height:"55px"},children:[v.jsx("div",{style:{fontSize:"0.85rem"},children:parseInt(Ee.code,10)*parseInt(Oe.code,10)}),v.jsx("div",{style:{fontSize:"0.9rem",fontWeight:700},children:Xe})]},Oe.code)})]},Ee.code))})]})})]}),L==="likelihood"&&v.jsxs("div",{style:{marginTop:"0.2rem"},children:[v.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"Likelihood"}),v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Likelihood"}),v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Description"}),v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Frequency at Location"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Extremely Likely"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Expected to happen"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"> 1 in 2"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Very Likely"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"May easily happen"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"> 1 in 10"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Likely"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"May happen"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"> 1 in 100"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Unlikely"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"May happen sometime"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"> 1 in 1,000"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Rarely"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"May happen in extreme circumstances"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"> 1 in 10,000"})]})]})]})]}),L==="consequence"&&v.jsxs("div",{style:{marginTop:"0.2rem"},children:[v.jsx("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"Consequence"}),v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Consequence"}),v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Health & Safety"}),v.jsx("th",{style:{border:"1px solid #ddd",padding:"0.55rem",background:"#fafafa"},children:"Environment"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Insignificant"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"No injury or superficial injury; requires first aid"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Limited damage to area or low significance"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Minor"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Minor injury requires medical treatment"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Minor short-term damage to environment/heritage"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Moderate"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Multiple medical treatments; temporary disability"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Moderate effects on environment/heritage"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Major"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Life threatening serious injury; hospitalisation"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Significant environmental/heritage damage"})]}),v.jsxs("tr",{children:[v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Catastrophic"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Fatality; permanent disability; life-threatening injuries"}),v.jsx("td",{style:{border:"1px solid #ddd",padding:"0.55rem"},children:"Severe damage to environment/heritage with long-term effects"})]})]})]})]})]})]})})},mt=()=>N?v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60},onClick:()=>T(!1),children:v.jsxs("div",{className:"card",style:{width:"92%",maxWidth:420,padding:"1rem"},onClick:Fe=>Fe.stopPropagation(),children:[v.jsx("h3",{style:{marginTop:0},children:"Safety Check"}),v.jsx("p",{style:{fontSize:"0.9rem",color:"#555"},children:"One or more boxes are red, are you sure you can proceed safely?"}),v.jsxs("div",{style:{display:"flex",gap:"0.6rem",justifyContent:"flex-end",marginTop:"1rem"},children:[v.jsx("button",{className:"btn-pill",onClick:()=>T(!1),children:"No"}),v.jsx("button",{className:"btn-pill primary",onClick:je,children:"Yes"})]})]})}):null;return v.jsxs(Li,{icon:"",title:"Take 5",subtitle:`Step ${n} of ${s}`,actions:v.jsx("button",{className:"btn-pill",type:"button",onClick:wt,children:"Start Over"}),children:[ot(),mt(),n===1&&_t(),n===2&&at(),n===3&&Ut(),n===4&&xt(),n===5&&dt(),_&&v.jsxs("div",{style:{marginTop:"0.7rem",padding:"0.6rem 0.8rem",borderRadius:8,background:"#fff3e0",border:"1px solid #ffcc80",color:"#8a4b00",fontSize:"0.85rem"},children:[" ",_]}),v.jsxs("div",{style:{marginTop:"0.8rem",display:"flex",justifyContent:"space-between",gap:"0.5rem"},children:[v.jsx("button",{type:"button",className:"btn-pill",onClick:We,disabled:n===1,children:" Back"}),n<s&&v.jsx("button",{type:"button",className:"btn-pill primary",onClick:Ye,style:{opacity:lt(n)?1:.55,cursor:lt(n)?"pointer":"not-allowed"},children:"Continue "}),n===s&&v.jsx("button",{type:"button",className:"btn-pill primary",onClick:ut,disabled:l||!!p,style:{opacity:lt(s)?1:.55,cursor:lt(s)&&!p?"pointer":"not-allowed"},children:l?"Submitting...":p?"Submitted":"Submit Take 5"})]}),h&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#b71c1c"},children:h}),p&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#2e7d32"},children:p})]})}function b8(){const[r,e]=K.useState([]),[n,a]=K.useState({}),[s,l]=K.useState(!0),[u,h]=K.useState(""),[f,p]=K.useState(""),[y,_]=K.useState({});K.useEffect(()=>{(async()=>{l(!0),h(""),a({});try{let N=dn.from("take5_submissions").select("id, job_number, employee_name, take5_number, created_at, pdf_path, form_data").order("created_at",{ascending:!1});f.trim()&&(N=N.ilike("job_number",`%${f.trim()}%`));const{data:T,error:L}=await N;if(L)throw L;const D=T||[];e(D);const U={};await Promise.all(D.map(async F=>{if(F.pdf_path)try{const{data:ae,error:ye}=await dn.storage.from("take5-pdfs").createSignedUrl(F.pdf_path,3600);!ye&&ae?.signedUrl&&(U[F.id]=ae.signedUrl)}catch(ae){console.warn("Signed URL error for row",F.id,ae)}})),a(U)}catch(N){console.error(N),h("Failed to load Take 5 submissions.")}finally{l(!1)}})()},[f]);const A=K.useMemo(()=>{const k={};return r.forEach(N=>{const T=N.job_number||"Unknown Job";k[T]||(k[T]=[]),k[T].push(N)}),k},[r]),w=k=>{_(N=>({...N,[k]:!N[k]}))};return v.jsxs(Li,{icon:"",title:"Take 5 Register",subtitle:"List of submitted Take 5s with links to PDFs",children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Filter"}),v.jsx("p",{className:"card-subtitle",children:"Filter by job number. Leave blank to show all."}),v.jsxs("div",{className:"card-row",style:{marginTop:"0.4rem"},children:[v.jsx("span",{className:"card-row-label",children:"Job number"}),v.jsx("input",{type:"text",value:f,onChange:k=>p(k.target.value),className:"maps-search-input",placeholder:"e.g. 101441",style:{maxWidth:"200px"}})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Submissions"}),v.jsx("p",{className:"card-subtitle",children:"Expand a job to see its Take 5s. Click View PDF to open the summary."}),s&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem"},children:"Loading"}),u&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem",color:"#b71c1c"},children:u}),!s&&!u&&r.length===0&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem"},children:"No submissions found."}),!s&&!u&&r.length>0&&v.jsx("div",{style:{marginTop:"0.8rem",display:"flex",flexDirection:"column",gap:"0.6rem"},children:Object.entries(A).map(([k,N])=>{const T=!!y[k];return v.jsxs("div",{style:{border:"1px solid #f3e1e1",borderRadius:8,overflow:"hidden"},children:[v.jsxs("button",{type:"button",onClick:()=>w(k),style:{width:"100%",textAlign:"left",padding:"0.6rem 0.8rem",background:"#fff",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,color:"var(--pw-primary-dark)"},children:[v.jsx("span",{children:k}),v.jsxs("span",{style:{fontSize:"0.8rem",color:"#777"},children:[N.length," Take 5",N.length>1?"s":""," ",T?"":""]})]}),T&&v.jsx("div",{style:{padding:"0.6rem 0.8rem",background:"#fafafa"},children:v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Take 5 #"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Employee"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Date"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"PDF"})]})}),v.jsx("tbody",{children:N.map(L=>{const D=L.form_data?.submittedAt||L.created_at,U=D?new Date(D).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"-",F=n[L.id];return v.jsxs("tr",{children:[v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:L.take5_number||"-"}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:L.employee_name}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:U}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:F?v.jsx("a",{href:F,target:"_blank",rel:"noreferrer",className:"btn-pill",style:{textDecoration:"none",fontSize:"0.75rem"},children:"View PDF"}):L.pdf_path?v.jsx("span",{style:{color:"#999"},children:"Generating"}):v.jsx("span",{style:{color:"#999"},children:"No PDF"})})]},L.id)})})]})})})]},k)})})]})]})}const w8=["Angus Leaver","Jared Flavel","Joel Parker","Liam Wells","Orion Cerrero","Ryan Parker","Tim MacFarlane"];function R0(r=new Date){const e=new Date(r),n=e.getDay(),a=n===0?-6:1-n;return e.setDate(e.getDate()+a),e.setHours(0,0,0,0),e}function vc(r,e){const n=new Date(r),a=n.getDate()+e;return n.setDate(a),n}function rd(r){return r.toLocaleDateString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric"})}function _8(r){return r.toLocaleDateString("en-AU",{weekday:"long"})}function M0(r){if(!r||typeof r!="string")return null;const e=r.split(":");if(e.length<2)return null;const n=parseInt(e[0],10),a=parseInt(e[1],10);return Number.isNaN(n)||Number.isNaN(a)?null:n*60+a}function id(r){return r==null?"":(r/60).toFixed(2).replace(/\.00$/,"")}function x8(){const{user:r}=Vs(),e=r?.user_metadata?.full_name||r?.email||"Unknown user",[n,a]=K.useState(R0()),s=K.useMemo(()=>n.toISOString().slice(0,10),[n]),[l,u]=K.useState(s);K.useEffect(()=>{u(s)},[s]);const[h,f]=K.useState({}),[p,y]=K.useState(!1),[_,A]=K.useState(!1),[w,k]=K.useState(""),[N,T]=K.useState(""),L=K.useMemo(()=>{const Se=vc(n,13);return`${rd(n)}  ${rd(Se)}`},[n]),D=K.useMemo(()=>Array.from({length:7},(Se,M)=>vc(n,M)),[n]),U=K.useMemo(()=>Array.from({length:7},(Se,M)=>vc(n,7+M)),[n]);K.useEffect(()=>{(async()=>{if(!r)return;y(!0),k(""),T("");const{data:M,error:j}=await dn.from("timesheet_entries").select("*").eq("user_id",r.id).eq("period_start",s).order("entry_date",{ascending:!0});if(j){console.warn("Error loading timesheet entries:",j.message),y(!1);return}const z={};M.forEach(H=>{const te=H.entry_date;z[te]={colleague:H.colleague||"",start:H.start_time||"",finish:H.finish_time||"",lunch:H.lunch||"",notes:H.notes||""}}),f(z),y(!1)})()},[r,s]);const F=(Se,M,j)=>{f(z=>({...z,[Se]:{...z[Se],[M]:j}}))},ae=Se=>{const M=Se.toISOString().slice(0,10),j=h[M]||{},z=M0(j.start),H=M0(j.finish),te=M0(j.lunch);let ne=null;return z!=null&&H!=null&&(ne=H-z-(te||0),ne<0&&(ne=null)),{isoKey:M,date:Se,dayName:_8(Se),colleague:j.colleague||"",start:j.start||"",finish:j.finish||"",lunch:j.lunch||"",notes:j.notes||"",workedMinutes:ne,workedHoursDecimal:id(ne)}},ye=D.map(ae),ce=U.map(ae),se=ye.reduce((Se,M)=>Se+(M.workedMinutes||0),0),W=ce.reduce((Se,M)=>Se+(M.workedMinutes||0),0),be=se+W,I=()=>{_||a(Se=>vc(Se,-14))},V=()=>{_||(a(R0()),k(""),T(""))},ie=()=>{_||a(Se=>vc(Se,14))},re=Se=>{const M=Se.target.value;if(u(M),!M||_)return;const j=new Date(M+"T00:00:00");Number.isNaN(j.getTime())||(a(R0(j)),k(""),T(""))},Ce=()=>[...ye,...ce].filter(M=>M.colleague||M.start||M.finish||M.lunch||M.notes||M.workedMinutes!=null).map(M=>({user_id:r.id,period_start:s,entry_date:M.isoKey,colleague:M.colleague||null,start_time:M.start||null,finish_time:M.finish||null,lunch:M.lunch||null,hours_decimal:M.workedMinutes!=null?M.workedMinutes/60:null,notes:M.notes||null})),Q=async Se=>{const{error:M}=await dn.from("timesheet_entries").delete().eq("user_id",r.id).eq("period_start",s);if(M)throw M;const{error:j}=await dn.from("timesheet_entries").insert(Se);if(j)throw j},he=()=>{const Se=["Employee","Period Start","Period End","Date","Day","Work Colleague","Start","Finish","Lunch","Hours","Notes"],M=vc(n,13),j=[...ye,...ce],z=[Se.join(",")];return j.forEach(H=>{if(!(H.colleague||H.start||H.finish||H.lunch||H.notes||H.workedMinutes!=null))return;const ne=[`"${e.replace(/"/g,'""')}"`,`"${s}"`,`"${M.toISOString().slice(0,10)}"`,`"${H.isoKey}"`,`"${H.dayName}"`,`"${(H.colleague||"").replace(/"/g,'""')}"`,`"${H.start||""}"`,`"${H.finish||""}"`,`"${H.lunch||""}"`,`"${H.workedHoursDecimal||""}"`,`"${(H.notes||"").replace(/"/g,'""')}"`];z.push(ne.join(","))}),z.join(`\r
`)},de=async()=>{if(!r)return;const Se=Ce();if(Se.length===0){T("No timesheet entries to save for this fortnight. Add some rows first."),k("");return}A(!0),T(""),k("");try{await Q(Se),k("Fortnight saved. You can come back and submit it later when ready.")}catch(M){console.error("Error saving fortnight:",M),T("There was a problem saving. Please try again."),k("")}finally{A(!1)}},ke=async()=>{if(!r)return;const Se=Ce();if(Se.length===0){T("No timesheet entries to submit for this fortnight."),k("");return}A(!0),T(""),k("");try{await Q(Se);const M=he(),j=new Blob([M],{type:"text/csv;charset=utf-8;"}),H=`timesheet_${(r.email||r.id||"user").replace(/[^a-zA-Z0-9@._-]/g,"_").replace("@","_at_")}_${s}.csv`,te=window.URL.createObjectURL(j),ne=document.createElement("a");ne.href=te,ne.setAttribute("download",H),document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(te);const ee=`${r.id}/${H}`,{error:oe}=await dn.storage.from("timesheets").upload(ee,j,{upsert:!0,contentType:"text/csv"});if(oe)throw oe;k("Fortnight submitted, CSV downloaded, and saved to server storage.")}catch(M){console.error("Error submitting fortnight:",M),T("There was a problem submitting this fortnight. Please try again."),k("")}finally{A(!1)}};return v.jsxs(Li,{icon:"",title:"Timesheets",subtitle:"Fortnightly working hours",actions:v.jsxs(v.Fragment,{children:[v.jsx("button",{type:"button",className:"btn-pill",onClick:I,disabled:p||_,children:" Previous"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:V,disabled:p||_,children:"Current fortnight"}),v.jsx("button",{type:"button",className:"btn-pill",onClick:ie,disabled:p||_,children:"Next "}),v.jsx("button",{type:"button",className:"btn-pill",onClick:de,disabled:p||_,children:_?"Saving":"Save fortnight"}),v.jsx("button",{type:"button",className:"btn-pill primary",onClick:ke,disabled:p||_,children:_?"Working":"Submit fortnight"})]}),children:[v.jsx("datalist",{id:"colleagues-list",children:w8.map(Se=>v.jsx("option",{value:Se},Se))}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Timesheet period"}),v.jsx("p",{className:"card-subtitle",children:"This view covers a full 14 days (including weekends) across two weeks."}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",flexWrap:"wrap",gap:"0.6rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Employee"}),v.jsx("span",{className:"card-row-value",children:e})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Period"}),v.jsx("span",{className:"card-row-value",children:L})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Jump to date"}),v.jsx("input",{type:"date",className:"maps-search-input",style:{maxWidth:"160px"},value:l||"",onChange:re,disabled:_||p})]})]}),p&&v.jsx("p",{style:{marginTop:"0.4rem",fontSize:"0.8rem",color:"#777"},children:"Loading existing entries"})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Week 1 (MonSun)"}),v.jsx("p",{className:"card-subtitle",children:"First week of the fortnight, including weekend days."}),v.jsx("div",{style:{overflowX:"auto",marginTop:"0.5rem"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"ts-head",children:"Day"}),v.jsx("th",{className:"ts-head",children:"Date"}),v.jsx("th",{className:"ts-head",children:"Work colleague"}),v.jsx("th",{className:"ts-head",children:"Start"}),v.jsx("th",{className:"ts-head",children:"Finish"}),v.jsx("th",{className:"ts-head",children:"Lunch"}),v.jsx("th",{className:"ts-head",children:"Hours"}),v.jsx("th",{className:"ts-head",children:"Notes"})]})}),v.jsx("tbody",{children:D.map(Se=>{const M=ae(Se);return v.jsxs("tr",{children:[v.jsx("td",{className:"ts-cell ts-cell-day",children:M.dayName}),v.jsx("td",{className:"ts-cell",children:rd(M.date)}),v.jsx("td",{className:"ts-cell",children:v.jsx("input",{type:"text",list:"colleagues-list",className:"maps-search-input",value:M.colleague,onChange:j=>F(M.isoKey,"colleague",j.target.value),placeholder:"Who you worked with"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.start,onChange:j=>F(M.isoKey,"start",j.target.value),placeholder:"07:00"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.finish,onChange:j=>F(M.isoKey,"finish",j.target.value),placeholder:"15:00"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.lunch,onChange:j=>F(M.isoKey,"lunch",j.target.value),placeholder:"00:30"})}),v.jsx("td",{className:"ts-cell ts-cell-hours",children:M.workedHoursDecimal}),v.jsx("td",{className:"ts-cell",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.notes,onChange:j=>F(M.isoKey,"notes",j.target.value),placeholder:"Job / comments"})})]},M.isoKey)})}),v.jsx("tfoot",{children:v.jsxs("tr",{children:[v.jsx("td",{className:"ts-foot",colSpan:6,style:{textAlign:"right"},children:"Weekly total"}),v.jsx("td",{className:"ts-foot ts-cell-hours",children:id(se)}),v.jsx("td",{className:"ts-foot"})]})})]})})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Week 2 (MonSun)"}),v.jsx("p",{className:"card-subtitle",children:"Second week of the fortnight, including weekend days."}),v.jsx("div",{style:{overflowX:"auto",marginTop:"0.5rem"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"ts-head",children:"Day"}),v.jsx("th",{className:"ts-head",children:"Date"}),v.jsx("th",{className:"ts-head",children:"Work colleague"}),v.jsx("th",{className:"ts-head",children:"Start"}),v.jsx("th",{className:"ts-head",children:"Finish"}),v.jsx("th",{className:"ts-head",children:"Lunch"}),v.jsx("th",{className:"ts-head",children:"Hours"}),v.jsx("th",{className:"ts-head",children:"Notes"})]})}),v.jsx("tbody",{children:U.map(Se=>{const M=ae(Se);return v.jsxs("tr",{children:[v.jsx("td",{className:"ts-cell ts-cell-day",children:M.dayName}),v.jsx("td",{className:"ts-cell",children:rd(M.date)}),v.jsx("td",{className:"ts-cell",children:v.jsx("input",{type:"text",list:"colleagues-list",className:"maps-search-input",value:M.colleague,onChange:j=>F(M.isoKey,"colleague",j.target.value),placeholder:"Who you worked with"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.start,onChange:j=>F(M.isoKey,"start",j.target.value),placeholder:"07:00"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.finish,onChange:j=>F(M.isoKey,"finish",j.target.value),placeholder:"15:00"})}),v.jsx("td",{className:"ts-cell ts-cell-time",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.lunch,onChange:j=>F(M.isoKey,"lunch",j.target.value),placeholder:"00:30"})}),v.jsx("td",{className:"ts-cell ts-cell-hours",children:M.workedHoursDecimal}),v.jsx("td",{className:"ts-cell",children:v.jsx("input",{type:"text",className:"maps-search-input",value:M.notes,onChange:j=>F(M.isoKey,"notes",j.target.value),placeholder:"Job / comments"})})]},M.isoKey)})}),v.jsxs("tfoot",{children:[v.jsxs("tr",{children:[v.jsx("td",{className:"ts-foot",colSpan:6,style:{textAlign:"right"},children:"Weekly total"}),v.jsx("td",{className:"ts-foot ts-cell-hours",children:id(W)}),v.jsx("td",{className:"ts-foot"})]}),v.jsxs("tr",{children:[v.jsx("td",{className:"ts-foot",colSpan:6,style:{textAlign:"right"},children:"Fortnight total"}),v.jsx("td",{className:"ts-foot ts-cell-hours",children:id(be)}),v.jsx("td",{className:"ts-foot"})]})]})]})})]}),N&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#b71c1c"},children:N}),w&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#2e7d32"},children:w}),v.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#666"},children:v.jsxs("ul",{style:{marginTop:"0.3rem"},children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Save fortnight"}),"  stores your entries in the ProWest database so you can come back later."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Submit fortnight"}),"  saves, downloads a CSV copy, and uploads it to the server storage."]})]})})]})}const Db=["Yes","No"],S8=["Yes","N/A","No"];function A8({value:r,onChange:e,colorMode:n="traffic",options:a=Db}){return v.jsx("div",{style:{display:"inline-flex",borderRadius:6,overflow:"hidden"},children:a.map(s=>{const l=r===s;let u="#2e7d32",h="#1b5e20";return s==="N/A"&&n!=="allGreen"&&(u="#616161",h="#424242"),n==="traffic"&&s==="No"&&(u="#c62828",h="#8e0000"),n==="inverseTraffic"&&(s==="Yes"&&(u="#c62828",h="#8e0000"),s==="No"&&(u="#2e7d32",h="#1b5e20")),n==="allGreen"&&(u="#2e7d32",h="#1b5e20"),v.jsx("button",{type:"button",onClick:()=>e(s),style:{border:`1px solid ${l?h:"#ccc"}`,padding:"0.35rem 0.85rem",fontSize:"0.85rem",cursor:"pointer",background:l?u:"#fff",color:l?"#fff":"#333"},children:s},s)})})}const ad=[{id:"wheels_tyres",group:"Checks",label:"Wheels and tyres in good roadworthy condition",allowNa:!1},{id:"seats_seatbelts",group:"Checks",label:"Seats and seatbelts in good condition",allowNa:!1},{id:"lamps_indicators_reflectors",group:"Checks",label:"All lamps, indicators and reflectors visible, in a good condition and working order",allowNa:!1},{id:"windscreen_mirrors",group:"Checks",label:"Windscreen/Mirrors clean and in good condition",allowNa:!1},{id:"washers_wipers",group:"Checks",label:"Window washer and wipers working",allowNa:!1},{id:"horn",group:"Checks",label:"Horn working",allowNa:!1},{id:"first_aid",group:"Checks",label:"First aid kit in vehicle and items in date",allowNa:!1},{id:"fire_extinguisher",group:"Checks",label:"Fire extinguisher in vehicle and last inspected within 6 months",allowNa:!1},{id:"camera_reverse_siren",group:"Checks",label:"Camera and/or Reverse siren working",allowNa:!0},{id:"beacon",group:"Checks",label:"Beacon in good condition and in working order",allowNa:!0},{id:"safety_equipment",group:"Checks",label:"Safety equipment in good working order (eg: Hard hats less than 5 years old)",allowNa:!0},{id:"interior_clean",group:"Checks",label:"Interior of the vehicle is clean, tidy and in good condition",allowNa:!0},{id:"vehicle_strap_constraint",group:"Checks",label:"Vehicle strap constraint in working condition",allowNa:!0},{id:"spray_cans",group:"Checks",label:"Spray can/s stowed in appropriate storage solution (i.e. esky or lined compartment)",allowNa:!0},{id:"washer_fluid",group:"Okay",label:"Window washer fluid level",allowNa:!1},{id:"oil_levels",group:"Okay",label:"Oil levels (brake, clutch and engine)",allowNa:!1},{id:"radiator_coolant",group:"Okay",label:"Radiator coolant overflow tank level (When cold)",allowNa:!1},{id:"battery_fluid",group:"Okay",label:"Battery fluid and connections free from corrosion",allowNa:!1},{id:"spare_tyre",group:"Okay",label:"Does the vehicle have a spare tyre that's in a roadworthy condition",allowNa:!1},{id:"air_conditioning",group:"Okay",label:"Air conditioning in working order",allowNa:!1},{id:"fuel_level",group:"Okay",label:"Fuel level (petrol/diesel)",allowNa:!1}],N8=["Checks","Okay"],Hs={green:"#2e7d32",red:"#e53935",grey:"#616161",textWhite:"#ffffff",headerRed:"#B71C1C",sectionFill:"#f6f6f6"};function E8(r,e){return e==="NA"||e==="N/A"?{bg:Hs.grey,text:Hs.textWhite}:e==="Yes"?{bg:Hs.green,text:Hs.textWhite}:e==="No"?{bg:Hs.red,text:Hs.textWhite}:{bg:Hs.grey,text:Hs.textWhite}}function j8(r,e,n,a,s){const{bg:l,text:u}=E8(s,e),h=22,f=7.5;r.setFillColor(l),r.roundedRect(n,a-5.2,h,f,2,2,"F"),r.setTextColor(u),r.setFont("helvetica","bold"),r.setFontSize(9),r.text(e,n+4,a)}function k8(){const{user:r}=Vs(),e=r?.user_metadata?.full_name||r?.email||"",[n,a]=K.useState(e),[s,l]=K.useState(""),[u,h]=K.useState(""),[f,p]=K.useState(""),[y,_]=K.useState(""),[A,w]=K.useState(()=>{const ee={};return ad.forEach(oe=>{ee[oe.id]=""}),ee}),[k,N]=K.useState(""),[T,L]=K.useState(!1),[D,U]=K.useState(!1),[F,ae]=K.useState(""),[ye,ce]=K.useState(""),[se,W]=K.useState(""),[be,I]=K.useState(!1),[V,ie]=K.useState(""),[re,Ce]=K.useState("");K.useEffect(()=>{e&&a(e)},[e]),K.useEffect(()=>{(async()=>{try{const me=await(await fetch("/prowest-logo.jpg")).blob(),le=new FileReader;le.onloadend=()=>Ce(le.result),le.readAsDataURL(me)}catch(oe){console.warn("Logo failed to load for Vehicle Prestart PDF",oe)}})()},[]);const Q=K.useMemo(()=>Object.values(A).some(ee=>ee==="No"),[A]),he=K.useMemo(()=>Object.values(A).some(ee=>!ee),[A]),de=(ee,oe)=>{w(me=>({...me,[ee]:oe})),W("")},ke=()=>{l(""),h(""),p(""),_(""),w(()=>{const ee={};return ad.forEach(oe=>{ee[oe.id]=""}),ee}),N(""),L(!1),ae(""),ce(""),W(""),I(!1),ie("")},Se=()=>{if(!s.trim())return W("Please select a vehicle."),!1;if(!u.trim())return W("Please enter the odometer reading."),!1;if(he)return W("Please answer all checklist items."),!1;if(Q){if(!k.trim())return W("Please describe the issue(s) in the comments box when any checks are 'No'."),!1;if(!T)return W("Please tick 'Notify Manager of Results' when there are any failed checks."),!1}return!0},M=()=>({vehicle:s,odometer:u,lastService:f,nextService:y,employeeName:n,checks:A,comments:k,notifyManager:T,submittedAt:new Date().toISOString()}),j=ee=>{const oe=new kt({unit:"mm",format:"a4"});let me=18;const le=6.5,_e=10,Ue=200,ze=(we=10)=>{me+we>280&&(oe.addPage(),me=18)};if(oe.setFillColor(Hs.headerRed),oe.rect(0,0,210,18,"F"),re)try{oe.addImage(re,"PNG",_e,2.2,40,13)}catch{try{oe.addImage(re,"JPEG",_e,2.2,40,13)}catch{}}oe.setTextColor("#fff"),oe.setFont("helvetica","bold"),oe.setFontSize(14),oe.text("VEHICLE PRESTART CHECKLIST",65,11);const xe=we=>{ze(12),oe.setFillColor(Hs.sectionFill),oe.rect(_e,me-5,Ue-_e,8,"F"),oe.setFont("helvetica","bold"),oe.setFontSize(11),oe.setTextColor("#000"),oe.text(we,_e+2,me),me+=8};xe("Vehicle Details"),oe.setFont("helvetica","normal"),oe.setFontSize(10),oe.setTextColor("#000");const Y=ee.submittedAt?new Date(ee.submittedAt).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"-";oe.text(`Vehicle: ${ee.vehicle||"-"}`,_e+2,me),me+=le,oe.text(`Odometer: ${ee.odometer||"-"} km`,_e+2,me),me+=le,oe.text(`Employee: ${ee.employeeName||"-"}`,_e+2,me),me+=le,ee.lastService&&(oe.text(`Last Service: ${ee.lastService}`,_e+2,me),me+=le),ee.nextService&&(oe.text(`Next Service: ${ee.nextService}`,_e+2,me),me+=le),oe.text(`Submitted: ${Y}`,_e+2,me),me+=le+2,xe("Checklist"),ad.forEach(we=>{ze(8);const je=ee.checks?.[we.id]||"-";oe.setFont("helvetica","normal"),oe.setFontSize(9.5),oe.setTextColor("#000"),oe.text(we.label,_e+2,me),j8(oe,je,Ue-32,me,"traffic"),me+=le}),me+=2,xe("Comments & Manager Notification"),oe.setFont("helvetica","bold"),oe.setFontSize(10),oe.text("Damage to vehicle / Comments:",_e+2,me),me+=le,oe.setFont("helvetica","normal"),oe.setFontSize(9.5);const wt=ee.comments&&ee.comments.trim().length?ee.comments:"None";return oe.splitTextToSize(wt,Ue-_e-4).forEach(we=>{ze(7),oe.text(we,_e+2,me),me+=le-1.5}),me+=3,ze(8),oe.setFont("helvetica","bold"),oe.text("Notify Manager of Results:",_e+2,me),oe.setFont("helvetica","normal"),oe.text(ee.notifyManager?"Yes":"No",_e+65,me),me+=le,oe.setFontSize(8),oe.setTextColor("#777"),oe.text("Generated by Pro West Surveying Portal",_e,290),oe},z=async()=>{if(Se()){U(!0),ae(""),ce(""),ie("");try{const ee=M(),{data:oe,error:me}=await dn.from("vehicle_prestart_submissions").insert({vehicle_label:s,odometer:u,employee_name:n,form_data:ee,notify_manager:T}).select().single();if(me)throw me;const le=oe.id,_e=j(ee);let Ue;try{Ue=_e.output("blob")}catch{const Ye=_e.output("arraybuffer");Ue=new Blob([Ye],{type:"application/pdf"})}const ze=new Date().toISOString().replace(/[:.]/g,"-"),Y=`${(s||"vehicle").replace(/[^a-zA-Z0-9_-]/g,"_")}/prestart/${le}_${ze}.pdf`,{error:wt}=await dn.storage.from("vehicle-prestart-pdfs").upload(Y,Ue,{contentType:"application/pdf"});if(wt)throw wt;const{error:lt}=await dn.from("vehicle_prestart_submissions").update({pdf_path:Y}).eq("id",le);if(lt)throw lt;const{data:we,error:je}=await dn.storage.from("vehicle-prestart-pdfs").createSignedUrl(Y,3600);!je&&we?.signedUrl&&ie(we.signedUrl),ce("Vehicle pre-start submitted and PDF saved successfully."),W("")}catch(ee){console.error(ee),ae("There was a problem submitting the Vehicle Pre Start. Please try again.")}finally{U(!1),I(!1)}}},H=()=>{if(W(""),ae(""),ce(""),ie(""),!!Se()){if(Q){I(!0);return}z()}},te=()=>be?v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60},onClick:()=>I(!1),children:v.jsxs("div",{className:"card",style:{width:"92%",maxWidth:420,padding:"1rem"},onClick:ee=>ee.stopPropagation(),children:[v.jsx("h3",{style:{marginTop:0},children:"Vehicle Safety Check"}),v.jsxs("p",{style:{fontSize:"0.9rem",color:"#555"},children:["One or more checklist items have been marked"," ",v.jsx("strong",{children:"No"}),". The vehicle may not be safe to use. Are you sure you want to submit this Vehicle Pre Start and notify the manager?"]}),v.jsxs("div",{style:{display:"flex",gap:"0.6rem",justifyContent:"flex-end",marginTop:"1rem"},children:[v.jsx("button",{className:"btn-pill",type:"button",onClick:()=>I(!1),children:"No"}),v.jsx("button",{className:"btn-pill primary",type:"button",onClick:z,children:"Yes, submit"})]})]})}):null,ne=K.useMemo(()=>{const ee={};return ad.forEach(oe=>{ee[oe.group]||(ee[oe.group]=[]),ee[oe.group].push(oe)}),ee},[]);return v.jsxs(Li,{icon:"",title:"Vehicle Pre Start",subtitle:"Vehicle Checklist",actions:v.jsx("button",{className:"btn-pill",type:"button",onClick:ke,children:"Start Over"}),children:[te(),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Vehicle Details"}),v.jsx("p",{className:"card-subtitle",children:"Select the vehicle and complete the checklist before driving."}),v.jsxs("div",{style:{marginTop:"0.6rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Vehicle"}),v.jsx("input",{type:"text",value:s,onChange:ee=>l(ee.target.value),placeholder:"Registration #",className:"maps-search-input",style:{maxWidth:"260px"}})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Odometer"}),v.jsx("input",{type:"number",value:u,onChange:ee=>h(ee.target.value),placeholder:"km",className:"maps-search-input",style:{maxWidth:"160px"}})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Last Service"}),v.jsx("input",{type:"text",value:f,onChange:ee=>p(ee.target.value),placeholder:"e.g. 10 February 2025",className:"maps-search-input",style:{maxWidth:"220px"}})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Next Service"}),v.jsx("input",{type:"text",value:y,onChange:ee=>_(ee.target.value),placeholder:"e.g. 10 August 2025",className:"maps-search-input",style:{maxWidth:"220px"}})]}),v.jsxs("div",{className:"card-row",children:[v.jsx("span",{className:"card-row-label",children:"Employee"}),v.jsx("input",{type:"text",value:n,readOnly:!0,className:"maps-search-input",style:{maxWidth:"260px",backgroundColor:"#f5f5f5"}})]}),v.jsxs("p",{style:{margin:0,fontSize:"0.75rem",color:"#777"},children:["Employee name is pulled from your ",v.jsx("strong",{children:"My Profile"})," page."]})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Checklist"}),v.jsx("p",{className:"card-subtitle",children:"Answer each question before using the vehicle."}),N8.map(ee=>v.jsxs("div",{style:{marginTop:"0.6rem"},children:[v.jsx("div",{style:{fontWeight:700,marginBottom:"0.4rem",fontSize:"0.95rem"},children:ee}),ne[ee].map(oe=>v.jsxs("div",{style:{display:"flex",gap:"0.7rem",alignItems:"center",marginBottom:"0.45rem"},children:[v.jsx(A8,{value:A[oe.id],options:oe.allowNa?S8:Db,onChange:me=>de(oe.id,me),colorMode:"traffic"}),v.jsx("div",{style:{fontSize:"0.85rem",lineHeight:1.4,flex:1},children:oe.label})]},oe.id))]},ee))]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Damage to Vehicle / Comments"}),v.jsxs("p",{className:"card-subtitle",children:["Note any defects, damage or general comments. Required if any boxes are marked ",v.jsx("strong",{children:"No"}),"."]}),v.jsx("textarea",{value:k,onChange:ee=>N(ee.target.value),rows:4,className:"maps-search-input",style:{width:"100%",marginTop:"0.4rem",resize:"vertical"},placeholder:"Describe any issues found during the pre-start"}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem",marginTop:"0.7rem",fontSize:"0.85rem"},children:[v.jsx("input",{type:"checkbox",checked:T,onChange:ee=>L(ee.target.checked)}),v.jsxs("span",{children:["Notify Manager of Results"," ",v.jsx("span",{style:{color:"#777"}})]})]})]}),se&&v.jsxs("div",{style:{marginTop:"0.7rem",padding:"0.6rem 0.8rem",borderRadius:8,background:"#fff3e0",border:"1px solid #ffcc80",color:"#8a4b00",fontSize:"0.85rem"},children:[" ",se]}),F&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#b71c1c"},children:F}),ye&&v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.85rem",color:"#2e7d32"},children:ye}),V&&v.jsx("div",{style:{marginTop:"0.9rem"},children:v.jsx("a",{href:V,target:"_blank",rel:"noreferrer",className:"btn-pill primary",style:{display:"inline-block",textDecoration:"none"},children:"View PDF"})}),v.jsx("div",{style:{marginTop:"0.8rem",display:"flex",justifyContent:"flex-end"},children:v.jsx("button",{type:"button",className:"btn-pill primary",onClick:H,disabled:D,style:{opacity:D?.7:1},children:D?"Submitting":"Submit Vehicle Pre Start"})})]})}function L8(){const[r,e]=K.useState([]),[n,a]=K.useState({}),[s,l]=K.useState(!0),[u,h]=K.useState(""),[f,p]=K.useState(""),[y,_]=K.useState({});K.useEffect(()=>{(async()=>{l(!0),h(""),a({});try{let T=dn.from("vehicle_prestart_submissions").select("id, vehicle_label, employee_name, odometer, created_at, form_data, pdf_path").order("created_at",{ascending:!1});f.trim()&&(T=T.ilike("vehicle_label",`%${f.trim()}%`));const{data:L,error:D}=await T;if(D)throw D;const U=L||[];e(U);const F={};await Promise.all(U.map(async ae=>{if(ae.pdf_path)try{const{data:ye,error:ce}=await dn.storage.from("vehicle-prestart-pdfs").createSignedUrl(ae.pdf_path,3600);!ce&&ye?.signedUrl&&(F[ae.id]=ye.signedUrl)}catch(ye){console.warn("Signed URL error for row",ae.id,ye)}})),a(F)}catch(T){console.error(T),h("Failed to load Vehicle Pre Start submissions.")}finally{l(!1)}})()},[f]);const A=K.useMemo(()=>{const N={};return r.forEach(T=>{const L=T.vehicle_label||"Unknown Vehicle";N[L]||(N[L]=[]),N[L].push(T)}),N},[r]),w=N=>{_(T=>({...T,[N]:!T[N]}))},k=N=>{const T=N.form_data?.checks||{};return Object.values(T).some(L=>L==="No")};return v.jsxs(Li,{icon:"",title:"Vehicle Pre Start Register",subtitle:"List of submitted vehicle pre-starts",children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Filter"}),v.jsx("p",{className:"card-subtitle",children:"Filter by vehicle (e.g. rego). Leave blank to show all."}),v.jsxs("div",{className:"card-row",style:{marginTop:"0.4rem"},children:[v.jsx("span",{className:"card-row-label",children:"Vehicle"}),v.jsx("input",{type:"text",value:f,onChange:N=>p(N.target.value),className:"maps-search-input",placeholder:"Registration #",style:{maxWidth:"220px"}})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Submissions"}),v.jsx("p",{className:"card-subtitle",children:"Expand a vehicle to see its pre-start history. Click View PDF to open the summary."}),s&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem"},children:"Loading"}),u&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem",color:"#b71c1c"},children:u}),!s&&!u&&r.length===0&&v.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.85rem"},children:"No submissions found."}),!s&&!u&&r.length>0&&v.jsx("div",{style:{marginTop:"0.8rem",display:"flex",flexDirection:"column",gap:"0.6rem"},children:Object.entries(A).map(([N,T])=>{const L=!!y[N];return v.jsxs("div",{style:{border:"1px solid #f3e1e1",borderRadius:8,overflow:"hidden"},children:[v.jsxs("button",{type:"button",onClick:()=>w(N),style:{width:"100%",textAlign:"left",padding:"0.6rem 0.8rem",background:"#fff",border:"none",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,color:"var(--pw-primary-dark)"},children:[v.jsx("span",{children:N}),v.jsxs("span",{style:{fontSize:"0.8rem",color:"#777"},children:[T.length," pre-start",T.length>1?"s":""," ",L?"":""]})]}),L&&v.jsx("div",{style:{padding:"0.6rem 0.8rem",background:"#fafafa"},children:v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Date"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Employee"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Odometer"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"Any Fails?"}),v.jsx("th",{style:{borderBottom:"1px solid #f3e1e1",textAlign:"left",padding:"0.35rem"},children:"PDF"})]})}),v.jsx("tbody",{children:T.map(D=>{const U=D.form_data?.submittedAt||D.created_at,F=U?new Date(U).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"-",ae=k(D),ye=n[D.id];return v.jsxs("tr",{children:[v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:F}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:D.employee_name}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:D.odometer||"-"}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:v.jsx("span",{style:{display:"inline-block",padding:"0.1rem 0.5rem",borderRadius:999,fontSize:"0.75rem",fontWeight:600,backgroundColor:ae?"#e53935":"#2e7d32",color:"#fff"},children:ae?"Yes":"No"})}),v.jsx("td",{style:{borderBottom:"1px solid #f8e0e0",padding:"0.35rem"},children:ye?v.jsx("a",{href:ye,target:"_blank",rel:"noreferrer",className:"btn-pill",style:{textDecoration:"none",fontSize:"0.75rem"},children:"View PDF"}):D.pdf_path?v.jsx("span",{style:{color:"#999"},children:"Generating"}):v.jsx("span",{style:{color:"#999"},children:"No PDF"})})]},D.id)})})]})})})]},N)})})]})]})}function C8(){return v.jsxs(Li,{icon:"",title:"Weather",subtitle:"Radar and marine conditions around Perth for Pro West jobs",children:[v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Weather overview"}),v.jsx("p",{className:"card-subtitle",children:"Quick access to Perth rain radar and marine / wind conditions commonly used for ProWest field work."}),v.jsx("div",{style:{marginTop:"0.6rem",fontSize:"0.8rem",color:"#666"},children:v.jsxs("ul",{style:{marginLeft:"1rem"},children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Radar"}),"  BOM Perth rain radar loop."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Marine / wind"}),"  Seabreeze Perth wind forecast."]})]})})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Perth rain radar (BOM)"}),v.jsx("p",{className:"card-subtitle",children:"Official BOM Perth radar loop. Useful for planning field work around showers and fronts."}),v.jsx("div",{style:{marginTop:"0.6rem",borderRadius:"0.75rem",overflow:"hidden",border:"1px solid rgba(0,0,0,0.06)"},children:v.jsx("iframe",{title:"BOM Perth rain radar",src:"https://www.bom.gov.au/products/IDR70B.loop.shtml",style:{width:"100%",minHeight:"650px",border:"0"},loading:"lazy"})})]}),v.jsxs("div",{className:"card",children:[v.jsx("h3",{className:"card-title",children:"Marine / wind (Seabreeze Perth)"}),v.jsx("p",{className:"card-subtitle",children:"Seabreeze Perth wind forecast and graphs, handy for planning coastal and offshore work days."}),v.jsx("div",{style:{marginTop:"0.6rem",borderRadius:"0.75rem",overflow:"hidden",border:"1px solid rgba(0,0,0,0.06)"},children:v.jsx("iframe",{title:"Seabreeze Perth wind forecast",src:"https://www.seabreeze.com.au/weather/wind-forecast/perth#",style:{width:"100%",minHeight:"800px",border:"0"},loading:"lazy"})})]})]})}function T8(){const[r,e]=K.useState(!1),[n,a]=K.useState(!1),s=To(),{role:l}=Vs(),u=l==="ADMIN",h=s.pathname==="/login",f=()=>{e(_=>!_)},p=()=>{a(_=>!_)},y=()=>a(!1);return v.jsxs("div",{className:"app-root",children:[v.jsx("header",{className:"app-header",children:v.jsxs("div",{className:"header-inner",children:[v.jsxs("div",{className:"header-left",children:[!h&&v.jsx("button",{className:"mobile-hamburger",onClick:p,children:""}),v.jsx("div",{className:"logo-mark",children:v.jsx("img",{src:Ex,alt:"Pro West Surveying",className:"logo-img"})}),v.jsxs("div",{className:"header-text",children:[v.jsx("h1",{children:"Pro West Portal"}),v.jsx("p",{children:"Internal Job & Operations Hub"})]})]}),v.jsxs("div",{className:"header-right",children:[v.jsx("a",{href:"https://prowestsurveying.com.au/",target:"_blank",rel:"noopener noreferrer",className:"badge header-link",children:"Pro West Surveying"}),v.jsx("span",{className:"badge badge-secondary",children:"9242 8247"})]})]})}),v.jsxs("div",{className:"app-layout",children:[!h&&v.jsxs(v.Fragment,{children:[n&&v.jsx("div",{className:"sidebar-backdrop",onClick:y}),v.jsxs("nav",{className:`sidebar 
                ${r?"collapsed":""} 
                ${n?"sidebar-open":""}`,children:[v.jsx("button",{className:"sidebar-toggle",type:"button",onClick:f,children:r?"":""}),!r&&v.jsx("h2",{className:"sidebar-title",children:"Pages"}),v.jsxs("ul",{className:"nav-list",children:[v.jsx("li",{children:v.jsxs(Yi,{to:"/",end:!0,className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Home"})]})}),u&&v.jsx("li",{children:v.jsxs(Yi,{to:"/admin",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Administration"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/profile",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"My Profile"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/contacts",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Contacts"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/jobs",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Jobs"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/maps",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Maps"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/schedule",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Schedule"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/take5",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Take 5"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/take5-register",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Take 5 Register"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/timesheets",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Timesheets"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/vehicle-prestart",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Vehicle Prestart"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/vehicle-prestart-register",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Vehicle Prestart Register"})]})}),v.jsx("li",{children:v.jsxs(Yi,{to:"/weather",className:"nav-link",onClick:y,children:[v.jsx("span",{className:"nav-icon",children:""}),v.jsx("span",{className:"nav-label",children:"Weather"})]})})]})]})]}),v.jsx("main",{className:"main-content",children:v.jsxs(Y_,{children:[v.jsx(ki,{path:"/login",element:v.jsx(XS,{})}),v.jsx(ki,{path:"/",element:v.jsx(da,{children:v.jsx(ZS,{})})}),v.jsx(ki,{path:"/admin",element:v.jsx(da,{children:v.jsx(QS,{})})}),v.jsx(ki,{path:"/contacts",element:v.jsx(da,{children:v.jsx(e4,{})})}),v.jsx(ki,{path:"/jobs",element:v.jsx(da,{children:v.jsx(n4,{})})}),v.jsx(ki,{path:"/maps",element:v.jsx(da,{children:v.jsx(g6,{})})}),v.jsx(ki,{path:"/profile",element:v.jsx(da,{children:v.jsx(v6,{})})}),v.jsx(ki,{path:"/schedule",element:v.jsx(da,{children:v.jsx(x6,{})})}),v.jsx(ki,{path:"/take5",element:v.jsx(da,{children:v.jsx(y8,{})})}),v.jsx(ki,{path:"/take5-register",element:v.jsx(da,{children:v.jsx(b8,{})})}),v.jsx(ki,{path:"/timesheets",element:v.jsx(da,{children:v.jsx(x8,{})})}),v.jsx(ki,{path:"/vehicle-prestart",element:v.jsx(da,{children:v.jsx(k8,{})})}),v.jsx(ki,{path:"/vehicle-prestart-register",element:v.jsx(da,{children:v.jsx(L8,{})})}),v.jsx(ki,{path:"/weather",element:v.jsx(da,{children:v.jsx(C8,{})})})]})})]})]})}n_.createRoot(document.getElementById("root")).render(v.jsx(Yw.StrictMode,{children:v.jsx(vx,{children:v.jsx(KS,{children:v.jsx(T8,{})})})}));export{kn as _,O8 as c,hm as g};
